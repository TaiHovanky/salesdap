{"version":3,"sources":["components/file-selection-field/index.tsx","state/actions/document/index.ts","state/actions/alert/index.ts","state/actions/loading/index.ts","utils/validate-file-type.ts","utils/spreadsheet.utils.ts","containers/file-selection-field/index.tsx","components/pinned-file-chip/index.tsx","containers/pinned-file-chip/index.tsx","components/file-source-radio/index.tsx","containers/file-source-radio/index.tsx","components/comparison-column-autocomplete/index.tsx","containers/comparison-column-autocomplete/index.tsx","components/upload-document-column/index.tsx","containers/upload-document-column/index.tsx","components/upload-document-form/index.tsx","state/actions/step-progress/index.ts","containers/upload-document-form/index.tsx","components/duplicates-table/index.tsx","containers/duplicates-table/index.tsx","components/email-template/index.tsx","state/actions/email-template/index.ts","containers/email-template/index.tsx","components/stepper-footer/index.tsx","containers/stepper-footer/index.tsx","pages/home/index.tsx","containers/home/index.tsx","pages/register/index.tsx","state/actions/user/index.ts","containers/register/index.tsx","pages/email-capture/index.tsx","containers/email-capture/index.tsx","pages/login/index.tsx","containers/login/index.tsx","pages/profile/index.tsx","containers/profile/index.tsx","pages/password-reset/index.tsx","containers/password-reset/index.tsx","pages/forgot-password/index.tsx","containers/forgot-password/index.tsx","components/private-route/index.tsx","components/nav-bar/index.tsx","state/reducers/user/index.ts","containers/nav-bar/index.tsx","components/routes/index.tsx","containers/routes/index.tsx","state/reducers/document/index.ts","state/reducers/step-progress/index.ts","state/reducers/email-template/index.ts","state/reducers/alert/index.ts","state/reducers/loading/index.ts","state/reducers/index.ts","index.tsx"],"names":["FileSelectionField","selectedDocument","validateAndSetFileSelection","index","inputFileRef","useRef","Fab","variant","sx","margin","onClick","current","click","AttachFile","mr","type","ref","className","onChange","event","name","style","height","marginTop","Typography","UPLOAD_DOCUMENT_SUCCESS","SELECT_DOCUMENT","CHANGE_COMPARISON_COLUMN","CHANGE_RESULT_COLUMNS","PIN_FILE_SUCCESS","SET_FILE_SOURCE","SET_COMPARISON_COLUMNS_ERROR","selectDocument","document","payload","SHOW_ERROR","HIDE_ERROR","SHOW_SUCCESS","HIDE_SUCCESS","showError","errorMessage","hideError","showSuccess","successMessage","hideSuccess","SET_IS_LOADING","setIsLoading","isLoading","acceptedFileTypes","checkIsValidFileType","fileName","fileNameArray","split","fileExtension","length","includes","toLowerCase","createJSONFromSpreadsheet","a","arrayBuffer","data","workbook","read","sheetName","SheetNames","worksheet","Sheets","utils","sheet_to_json","downloadSpreadsheetFromJSON","worksheetData","columns","forEach","row","Array","from","Object","keys","push","rowArr","map","rowProp","aoa_to_sheet","book_new","book_append_sheet","writeFile","createFileLink","pinnedFileName","url","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","getPinnedFile","pinnedFileId","axios","get","responseType","params","connect","dispatch","message","wsDataObj","filename","target","files","PinnedFileChip","user","handlePinnedFileClick","console","log","pinnedFileData","Chip","icon","Attachment","label","state","FileSourceRadio","fileSource","handleFileTypeChange","FormControl","RadioGroup","value","marginBottom","FormControlLabel","control","Radio","setFileSource","pinnedFileBlob","ComparisonColumnAutocomplete","comparisonColumns","comparisonColumnsError","handleComparisonColumnsBlur","handleComparisonColumnFieldChange","autocompleteOptions","Autocomplete","multiple","options","width","renderInput","TextField","required","error","onBlur","helperText","color","changeComparisonColumn","newValue","setComparisonColumnsError","_","UploadDocumentColumn","UploadDocumentForm","activeStep","uploadDocumentSuccess","changeStep","dataGrid1","dataGrid2","selectedDocument1","selectedDocument2","comparisonColumns1","comparisonColumns2","comparisonColumns1Error","comparisonColumns2Error","fileSource1","fileSource2","useEffect","instance","showColumnChooser","isSubmitBtnEnabled","Grid","container","spacing","direction","justifyContent","alignItems","item","xs","p","id","dataSource","allowColumnReordering","allowColumnResizing","columnAutoWidth","showBorders","enabled","title","defaultPageSize","visible","displayMode","showPageSizeSelector","showInfo","showNavigationButtons","disabled","resultColumns1","resultColumns2","formData","FormData","docBlob1","JSON","stringify","append","docBlob2","getVisibleColumns","col","dataField","join","post","then","res","catch","err","Upload","CHANGE_STEP","newStep","stepProgress","step","duplicatesData","padding","md","rowAlternationEnabled","groupIndex","sortOrder","colName","EmailTemplate","template","handleTemplateChange","handleCopyEmailTemplate","textAreaRef","multiline","rows","defaultValue","ContentCopy","Download","UPDATE_EMAIL_TEMPLATE","emailTemplate","updateEmailTemplate","successMsg","navigator","clipboard","writeText","setTimeout","StepperFooter","steps","handleBack","handleNext","Paper","position","bottom","left","right","zIndex","display","flexDirection","elevation","Button","Box","flex","Home","Stepper","nonLinear","marginLeft","marginRight","Step","StepButton","Container","paddingBottom","maxWidth","Register","onSubmit","formik","useFormik","initialValues","email","password","confirmPassword","firstName","lastName","company","validate","values","errors","test","touched","handleBlur","handleChange","handleSubmit","isSubmitButtonDisabled","to","UPDATE_USER","updateUser","history","useHistory","headers","EmailCapture","onClose","AppBar","Toolbar","IconButton","edge","Close","Login","useState","isEmailCaptureModalOpen","setIsEmailCaptureModalOpen","handleClose","Dialog","open","Profile","validateFileSelection","firstname","lastname","pinFileSuccess","fileMetadata","handleFilePinning","file","PasswordReset","useParams","token","ForgotPassword","PrivateRoute","props","location","useLocation","pathname","NavBar","handleLogout","React","anchorEl","setAnchorEl","handleHomeClick","flexGrow","size","Handshake","currentTarget","AccountCircle","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","MenuItem","textDecoration","initialState","Routes","alert","loading","exact","path","component","HomeContainer","LoginContainer","RegisterContainer","ProfileContainer","ForgotPasswordContainer","PasswordResetContainer","isOpen","Alert","severity","alertType","borderRadius","flexWrap","Backdrop","CircularProgress","rootReducer","combineReducers","action","pinned_filename","pinned_file_id","store","createStore","applyMiddleware","logger","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2da47e4c.chunk.js","sourcesContent":["import React, { useRef } from 'react';\r\nimport { AttachFile } from '@mui/icons-material';\r\nimport {\r\n  Fab,\r\n  Typography,\r\n} from '@mui/material';\r\n\r\ninterface Props {\r\n  validateAndSetFileSelection: any;\r\n  selectedDocument: any;\r\n  index: number;\r\n}\r\n\r\nconst FileSelectionField = ({ selectedDocument, validateAndSetFileSelection, index }: Props) => {\r\n  const inputFileRef: any = useRef( null );\r\n  \r\n  /**\r\n   * Triggers the clicking of the hidden input (type=file) button\r\n   */\r\n   const handleFileSelectionBtnClick = () => {\r\n    /*Collecting node-element and performing click*/\r\n    if (inputFileRef&& inputFileRef.current) {\r\n      inputFileRef.current.click();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Fab\r\n        variant=\"extended\"\r\n        aria-label=\"add\"\r\n        sx={{ margin: '0 auto' }}\r\n        onClick={handleFileSelectionBtnClick}\r\n      >\r\n        <AttachFile sx={{ mr: 1 }} />\r\n        Select File\r\n      </Fab>\r\n      <input\r\n        type=\"file\"\r\n        ref={inputFileRef}\r\n        className=\"file-input\"\r\n        onChange={(event: any) => validateAndSetFileSelection(event, index)}\r\n        name=\"sales_file\"\r\n      />\r\n      <div style={{ height: '2rem', marginTop: '1rem' }}>\r\n        {selectedDocument && selectedDocument.name &&\r\n          <Typography variant=\"subtitle1\">\r\n            {selectedDocument.name}\r\n          </Typography>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FileSelectionField;","export const UPLOAD_DOCUMENT_SUCCESS = 'UPLOAD_DOCUMENT_SUCCESS';\r\nexport const SELECT_DOCUMENT = 'SELECT_DOCUMENT';\r\nexport const CHANGE_COMPARISON_COLUMN = 'CHANGE_COMPARISON_COLUMN';\r\nexport const CHANGE_RESULT_COLUMNS = 'CHANGE_RESULT_COLUMNS';\r\nexport const PIN_FILE_SUCCESS = 'PIN_FILE_SUCCESS';\r\nexport const SET_FILE_SOURCE = 'SET_FILE_SOURCE';\r\nexport const SET_COMPARISON_COLUMNS_ERROR = 'SET_COMPARISON_COLUMNS_ERROR';\r\n\r\nexport const uploadDocumentSuccess = (duplicatesData: any) => ({\r\n  type: UPLOAD_DOCUMENT_SUCCESS,\r\n  payload: duplicatesData\r\n});\r\n\r\nexport const selectDocument = (document: any, index: number, name: string) => ({\r\n  type: SELECT_DOCUMENT,\r\n  payload: document,\r\n  index,\r\n  name\r\n});\r\n\r\nexport const changeComparisonColumn = (value: Array<string>, index: number) => ({\r\n  type: CHANGE_COMPARISON_COLUMN,\r\n  payload: value,\r\n  index\r\n});\r\n\r\nexport const pinFileSuccess = (fileMetadata: any) => ({\r\n  type: PIN_FILE_SUCCESS,\r\n  payload: fileMetadata\r\n});\r\n\r\nexport const setFileSource = (index: number, value: string) => ({\r\n  type: SET_FILE_SOURCE,\r\n  index,\r\n  payload: value\r\n});\r\n\r\nexport const setComparisonColumnsError = (value: Array<string>, index: number) => {\r\n  let payload = '';\r\n  if (!value || !value.length) {\r\n    payload = 'Required';\r\n  } else if (value.length > 3) {\r\n    payload = 'Can only compare 3 columns in spreadsheet';\r\n  }\r\n  return {\r\n    type: SET_COMPARISON_COLUMNS_ERROR,\r\n    payload,\r\n    index\r\n  }\r\n}","export const SHOW_ERROR = 'SHOW_ERROR';\r\nexport const HIDE_ERROR = 'HIDE_ERROR';\r\nexport const SHOW_SUCCESS = 'SHOW_SUCCESS';\r\nexport const HIDE_SUCCESS = 'HIDE_SUCCESS';\r\n\r\nexport const showError = (errorMessage: string) => ({\r\n  type: SHOW_ERROR,\r\n  payload: errorMessage\r\n});\r\n\r\nexport const hideError = () => ({\r\n  type: HIDE_ERROR\r\n});\r\n\r\nexport const showSuccess = (successMessage: string) => ({\r\n  type: SHOW_SUCCESS,\r\n  payload: successMessage\r\n});\r\n\r\nexport const hideSuccess = () => ({\r\n  type: HIDE_ERROR\r\n});","export const SET_IS_LOADING = 'SET_IS_LOADING';\r\n\r\nexport const setIsLoading = (isLoading: boolean) => ({\r\n  type: SET_IS_LOADING,\r\n  payload: isLoading\r\n});","const acceptedFileTypes = ['xls', 'xlsx', 'csv'];\r\n\r\nexport const checkIsValidFileType = (fileName: string): boolean => {\r\n  const fileNameArray: Array<string> = fileName.split('.');\r\n  const fileExtension: string = fileNameArray[fileNameArray.length - 1];\r\n  return acceptedFileTypes.includes(fileExtension.toLowerCase());\r\n}","import { WorkSheet, WorkBook, utils, read, writeFile } from 'xlsx';\r\nimport axios from 'axios';\r\n\r\nexport const createJSONFromSpreadsheet = async (document: any) => {\r\n  const data = await document.arrayBuffer();\r\n  const workbook = read(data);\r\n  const sheetName: string = workbook.SheetNames[0];\r\n  const worksheet: WorkSheet | null = workbook && workbook.Sheets ?\r\n    workbook.Sheets[sheetName as any] : null;\r\n\r\n  if (worksheet) {\r\n    return utils.sheet_to_json(worksheet);\r\n  }\r\n  return [];\r\n}\r\n\r\nexport const downloadSpreadsheetFromJSON = async (data: Array<any>) => {\r\n  const worksheetData: Array<Array<any>> = [];\r\n  let columns: Array<string> = [];\r\n  data.forEach((row: any, index: number) => {\r\n    if (index === 0) {\r\n      columns = Array.from(Object.keys(row));\r\n      worksheetData.push(columns);\r\n    }\r\n    const rowArr = columns.map((rowProp: string) => row[rowProp]);\r\n    worksheetData.push(rowArr);\r\n  });\r\n  const worksheet: WorkSheet = utils.aoa_to_sheet(worksheetData);\r\n  const workbook: WorkBook = utils.book_new();\r\n  utils.book_append_sheet(workbook, worksheet, 'Sheet1');\r\n  writeFile(workbook, 'account-mapping.xls');\r\n}\r\n\r\nexport const createFileLink = (data: any, pinnedFileName: string) => {\r\n  const url = window.URL.createObjectURL(new Blob([data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.setAttribute('download', pinnedFileName);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n\r\nexport const getPinnedFile = (pinnedFileId: string) => {\r\n  return axios.get('/api/v1/viewpinnedfile',\r\n    {\r\n      responseType: 'blob',\r\n      params: { pinnedFileId }\r\n    }\r\n  );\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport FileSelectionField from '../../components/file-selection-field';\r\nimport { selectDocument } from '../../state/actions/document';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { checkIsValidFileType } from '../../utils/validate-file-type';\r\nimport { createJSONFromSpreadsheet } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n  selectDocument: any;\r\n  index: number;\r\n}\r\n\r\nconst FileSelectionFieldContainer = ({\r\n  selectedDocument,\r\n  showError,\r\n  hideError,\r\n  setIsLoading,\r\n  selectDocument,\r\n  index\r\n}: Props) => {\r\n\r\n  /**\r\n   * When the user selects a document, validate the file type\r\n   * @param event \r\n   */\r\n   const validateAndSetFileSelection = async (event: any, index: number) => {\r\n    setIsLoading(true);\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    const isValidDocType: boolean = document && document.name ?\r\n      checkIsValidFileType(document.name) : false;\r\n\r\n    if (isValidDocType) {\r\n      hideError();\r\n      const wsDataObj: Array<any> = await createJSONFromSpreadsheet(document);\r\n      selectDocument(wsDataObj, index, document.name);\r\n      setIsLoading(false);\r\n    } else {\r\n      showError('Invalid file type. Only .xls, .xlsx, or .csv files can be processed.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FileSelectionField\r\n      selectedDocument={selectedDocument}\r\n      validateAndSetFileSelection={validateAndSetFileSelection}\r\n      index={index}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  selectDocument: (wsDataObj: any, index: number, filename: string) => dispatch(selectDocument(wsDataObj, index, filename)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(FileSelectionFieldContainer);","import React from 'react';\r\nimport {\r\n  Typography,\r\n  Chip,\r\n} from '@mui/material';\r\nimport { Attachment } from '@mui/icons-material';\r\nimport {\r\n  createFileLink,\r\n  getPinnedFile\r\n} from '../../utils/spreadsheet.utils';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n}\r\n\r\nconst PinnedFileChip = ({ user }: Props) => {\r\n  const handlePinnedFileClick = async () => {\r\n    console.log('user pinned file id', user.pinnedFileId);\r\n    try {\r\n      const pinnedFileData = await getPinnedFile(user.pinnedFileId);\r\n      createFileLink(pinnedFileData.data, user.pinnedFileName);\r\n    } catch (err: any) {\r\n      console.log('err', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"subtitle1\">Pinned File:</Typography>\r\n      <Chip onClick={handlePinnedFileClick} icon={<Attachment />} label={user.pinnedFileName} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PinnedFileChip;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PinnedFileChip from '../../components/pinned-file-chip';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n}\r\n\r\nconst PinnedFileChipContainer = ({ user }: Props) => {\r\n  return (\r\n    <PinnedFileChip user={user} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PinnedFileChipContainer);","import React from 'react';\r\nimport {\r\n  FormControlLabel,\r\n  FormControl,\r\n  Radio,\r\n  RadioGroup\r\n} from '@mui/material';\r\n\r\ninterface Props {\r\n  fileSource: string;\r\n  handleFileTypeChange: any;\r\n  index: number;\r\n}\r\n\r\nconst FileSourceRadio = ({ fileSource, handleFileTypeChange, index }: Props) => {\r\n  return (\r\n    <FormControl>\r\n      <RadioGroup\r\n        aria-labelledby=\"demo-controlled-radio-buttons-group\"\r\n        name=\"controlled-radio-buttons-group\"\r\n        value={fileSource}\r\n        onChange={(event: any) => handleFileTypeChange(event, index)}\r\n        sx={{ marginBottom: '1rem' }}\r\n      >\r\n        <FormControlLabel value=\"upload\" control={<Radio />} label=\"Upload a file\" />\r\n        <FormControlLabel value=\"pinned\" control={<Radio />} label=\"Use your pinned file\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default FileSourceRadio;","import React from 'react';\r\nimport FileSourceRadio from '../../components/file-source-radio';\r\nimport { connect } from 'react-redux';\r\nimport { selectDocument, setFileSource } from '../../state/actions/document';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { createJSONFromSpreadsheet, getPinnedFile } from '../../utils/spreadsheet.utils';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n  selectDocument: any;\r\n  setFileSource: any;\r\n  fileSource: string;\r\n  user: UserState;\r\n  index: number;\r\n}\r\n\r\nconst FileSourceRadioContainer = ({\r\n  showError,\r\n  hideError,\r\n  setIsLoading,\r\n  selectDocument,\r\n  setFileSource,\r\n  fileSource,\r\n  user,\r\n  index\r\n}: Props) => {\r\n\r\n  const handleFileTypeChange = async (event: any, index: number) => {\r\n    setFileSource(index, event.target.value);\r\n    if (event.target.value === 'pinned') {\r\n      setIsLoading(true);\r\n      try {\r\n        const pinnedFileBlob = await getPinnedFile(user.pinnedFileId);\r\n        const wsDataObj: Array<any> = await createJSONFromSpreadsheet(pinnedFileBlob.data);\r\n        selectDocument(wsDataObj, index, user.pinnedFileId);\r\n        hideError();\r\n        setIsLoading(false);\r\n      } catch (err: any) {\r\n        console.log('err', err);\r\n        showError('Failed to get pinned file for user.');\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      selectDocument([], index, '');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FileSourceRadio\r\n      handleFileTypeChange={handleFileTypeChange}\r\n      fileSource={fileSource}\r\n      index={index}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  selectDocument: (wsDataObj: any, index: number, filename: string) => dispatch(selectDocument(wsDataObj, index, filename)),\r\n  setFileSource: (index: number, event: any) => dispatch(setFileSource(index, event))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileSourceRadioContainer);","import React from 'react';\r\nimport { TextField, Autocomplete, Typography } from '@mui/material';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: string;\r\n  handleComparisonColumnsBlur: any;\r\n  handleComparisonColumnFieldChange: any;\r\n  index: number;\r\n}\r\n\r\nconst ComparisonColumnAutocomplete = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  handleComparisonColumnsBlur,\r\n  handleComparisonColumnFieldChange,\r\n  index\r\n}: Props) => {\r\n  const autocompleteOptions: Array<string> = selectedDocument && selectedDocument.data && selectedDocument.data[0] ?\r\n    Array.from(Object.keys(selectedDocument.data[0])) :\r\n    [];\r\n\r\n  return (\r\n    <>\r\n      <Autocomplete\r\n        multiple={true}\r\n        options={autocompleteOptions}\r\n        onChange={handleComparisonColumnFieldChange}\r\n        value={comparisonColumns}\r\n        sx={{ width: '100%', margin: '2.5rem 0 1.5rem 0' }}\r\n        renderInput={(params: any) => (<TextField\r\n          {...params}\r\n          variant=\"standard\"\r\n          required={true}\r\n          error={!!comparisonColumnsError}\r\n          onBlur={handleComparisonColumnsBlur}\r\n          helperText={`Columns from file ${index === 0 ? 'A' : 'B'} that will be compared with columns\r\n          from file ${index === 0 ? 'B' : 'A'} to determine match. Limit: 3 columns. Hint: the more unique a column's value is\r\n          to a company, the better (DUNS number, company website, etc.).`}\r\n        />)}\r\n      />\r\n      {comparisonColumnsError && <Typography variant=\"caption\" sx={{ color: '#d32f2f' }}>{comparisonColumnsError}</Typography>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ComparisonColumnAutocomplete;","import React from 'react';\r\nimport ComparisonColumnAutocomplete from '../../components/comparison-column-autocomplete';\r\nimport { connect } from 'react-redux';\r\nimport { changeComparisonColumn, setComparisonColumnsError } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  changeComparisonColumn: any;\r\n  comparisonColumnsError: string;\r\n  setComparisonColumnsError: any;\r\n  index: number;\r\n}\r\n\r\nconst ComparisonColumnAutocompleteContainer = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  changeComparisonColumn,\r\n  comparisonColumnsError,\r\n  setComparisonColumnsError,\r\n  index\r\n}: Props) => {\r\n  const handleComparisonColumnFieldChange = (_: any, newValue: Array<string>) => {\r\n    changeComparisonColumn(newValue, index);\r\n    setComparisonColumnsError(newValue, index)\r\n  };\r\n\r\n  const handleComparisonColumnsBlur = () => {\r\n    setComparisonColumnsError(comparisonColumns, index)\r\n  };\r\n\r\n  return (\r\n    <ComparisonColumnAutocomplete\r\n      selectedDocument={selectedDocument}\r\n      comparisonColumns={comparisonColumns}\r\n      comparisonColumnsError={comparisonColumnsError}\r\n      handleComparisonColumnsBlur={handleComparisonColumnsBlur}\r\n      handleComparisonColumnFieldChange={handleComparisonColumnFieldChange}\r\n      index={index}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeComparisonColumn: (newValue: Array<string>, index: number) => dispatch(changeComparisonColumn(newValue, index)),\r\n  setComparisonColumnsError: (newValue: Array<string>, index: number) => dispatch(setComparisonColumnsError(newValue, index))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ComparisonColumnAutocompleteContainer);","import React from 'react';\r\nimport { Typography } from '@mui/material';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport FileSelectionFieldContainer from '../../containers/file-selection-field';\r\nimport PinnedFileChipContainer from '../../containers/pinned-file-chip';\r\nimport FileSourceRadioContainer from '../../containers/file-source-radio';\r\nimport ComparisonColumnAutocompleteContainer from '../../containers/comparison-column-autocomplete';\r\n\r\ninterface UploadDocumentColumnProps {\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: string;\r\n  fileSource: string;\r\n  index: number;\r\n  user: UserState;\r\n}\r\n\r\nconst UploadDocumentColumn = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  fileSource,\r\n  index,\r\n  user,\r\n}: UploadDocumentColumnProps) => {\r\n  return (\r\n    <>\r\n      <Typography variant='h6' sx={{ marginTop: '2rem' }}>\r\n        {index === 0 ? 'My accounts' : 'Customer\\'s accounts'}\r\n      </Typography>\r\n      <div style={{ height: '100px' }}>\r\n        {!!user.pinnedFileName && index === 0 && <FileSourceRadioContainer\r\n          fileSource={fileSource}\r\n          index={index}\r\n        />}\r\n      </div>\r\n      <div style={{ height: '80px' }}>\r\n        {fileSource === 'upload' ?\r\n          <FileSelectionFieldContainer selectedDocument={selectedDocument} index={index} /> :\r\n          <PinnedFileChipContainer />\r\n        }\r\n      </div>\r\n      <ComparisonColumnAutocompleteContainer\r\n        selectedDocument={selectedDocument}\r\n        comparisonColumns={comparisonColumns}\r\n        comparisonColumnsError={comparisonColumnsError}\r\n        index={index}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UploadDocumentColumn;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport UploadDocumentColumn from '../../components/upload-document-column';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: string;\r\n  fileSource: string;\r\n  index: number;\r\n}\r\n\r\nconst UploadDocumentColumnContainer = ({\r\n  user,\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  fileSource,\r\n  index\r\n}: Props) => {\r\n  return (\r\n    <UploadDocumentColumn\r\n      selectedDocument={selectedDocument}\r\n      comparisonColumns={comparisonColumns}\r\n      comparisonColumnsError={comparisonColumnsError}\r\n      fileSource={fileSource}\r\n      user={user}\r\n      index={index}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(UploadDocumentColumnContainer);","import React, { useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport UploadDocumentColumnContainer from '../../containers/upload-document-column';\r\nimport DataGrid, { ColumnChooser, ColumnFixing, Paging, Pager } from 'devextreme-react/data-grid';\r\nimport { Grid, Fab, Typography } from '@mui/material';\r\nimport { Upload } from '@mui/icons-material';\r\nimport { DocumentState } from '../../state/reducers/document';\r\n\r\ninterface UploadDocumentFormProps {\r\n  document: DocumentState;\r\n  // handleUploadAndCompare: any;\r\n  activeStep: number;\r\n  showError: any;\r\n  hideError: any;\r\n  uploadDocumentSuccess: any;\r\n  setIsLoading: any;\r\n  changeStep: any;\r\n}\r\n\r\nconst UploadDocumentForm = ({\r\n  document,\r\n  // handleUploadAndCompare,\r\n  activeStep,\r\n  showError,\r\n  hideError,\r\n  uploadDocumentSuccess,\r\n  setIsLoading,\r\n  changeStep,\r\n}: UploadDocumentFormProps): any => {\r\n  const dataGrid1 = useRef<any>(null);\r\n  const dataGrid2 = useRef<any>(null);\r\n\r\n  const {\r\n    selectedDocument1,\r\n    selectedDocument2,\r\n    comparisonColumns1,\r\n    comparisonColumns2,\r\n    comparisonColumns1Error,\r\n    comparisonColumns2Error,\r\n    fileSource1,\r\n    fileSource2\r\n  } = document;\r\n\r\n  useEffect(() => {\r\n    // `current.instance` points to the UI component instance\r\n    if (dataGrid1 && dataGrid1.current && dataGrid1.current.instance && selectedDocument1.data.length) {\r\n      dataGrid1.current.instance.showColumnChooser();\r\n    }\r\n    if (dataGrid2 && dataGrid2.current && dataGrid2.current.instance && selectedDocument2.data.length) {\r\n      dataGrid2.current.instance.showColumnChooser();\r\n    }\r\n  }, [selectedDocument1.data.length, selectedDocument2.data.length]);\r\n\r\n  /**\r\n   * Puts the selected file and column name into a FormData instance,\r\n   * sends it to the server, and then changes to the next step where\r\n   * the duplicates will be displayed\r\n   * Note: because we use the dataGrid ref to get the resultColumns, we're breaking from the pattern\r\n   * of smart container/dumb component here.\r\n   */\r\n   const handleUploadAndCompare = () => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    if (selectedDocument1 && selectedDocument1.name) {\r\n      const docBlob1 = new Blob([JSON.stringify(selectedDocument1.data)], { type: 'application/json' });\r\n      formData.append(\"sales_file1\", docBlob1, selectedDocument1.name);\r\n    }\r\n\r\n    if (selectedDocument2 && selectedDocument2.name) {\r\n      const docBlob2 = new Blob([JSON.stringify(selectedDocument2.data)], { type: 'application/json' });\r\n      formData.append(\"sales_file2\", docBlob2, selectedDocument2.name);\r\n    }\r\n    let resultColumns1;\r\n    let resultColumns2;\r\n    if (dataGrid1 && dataGrid1.current && dataGrid1.current.instance) {\r\n      resultColumns1 = dataGrid1.current.instance.getVisibleColumns().map((col: any) => col.dataField);\r\n    }\r\n    if (dataGrid1 && dataGrid2.current && dataGrid2.current.instance) {\r\n      resultColumns2 = dataGrid2.current.instance.getVisibleColumns().map((col: any) => col.dataField);\r\n    }\r\n    formData.append('comparisonColumns1', comparisonColumns1.join());\r\n    formData.append('comparisonColumns2', comparisonColumns2.join());\r\n    formData.append('resultColumns1', resultColumns1.join());\r\n    formData.append('resultColumns2', resultColumns2.join());\r\n\r\n    axios.post('/api/v1/uploadfile', formData)\r\n      .then((res: any) => {\r\n        hideError();\r\n        uploadDocumentSuccess(res.data);\r\n        setIsLoading(false);\r\n        changeStep(activeStep += 1);\r\n      })\r\n      .catch((err: any) => {\r\n        setIsLoading(false);\r\n        showError(`File upload and comparison failed. ${err}`);\r\n      });\r\n  };\r\n\r\n\r\n  const isSubmitBtnEnabled = selectedDocument1 && selectedDocument2 &&\r\n    comparisonColumns1.length && comparisonColumns2.length &&\r\n    !comparisonColumns1Error && !comparisonColumns2Error;\r\n\r\n  return (\r\n    <>\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"start\"\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={5}\r\n          p={0}\r\n          sx={{ height: '100%' }}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"center\"\r\n        >\r\n          <UploadDocumentColumnContainer\r\n            comparisonColumns={comparisonColumns1}\r\n            comparisonColumnsError={comparisonColumns1Error}\r\n            selectedDocument={selectedDocument1}\r\n            fileSource={fileSource1}\r\n            index={0}\r\n          />\r\n          <div style={{ width: '100%'}}>\r\n            <Typography variant=\"subtitle1\" sx={{ margin: '2.5rem 0 0 0'}}>\r\n              Click and drag columns that are NOT wanted in results table to Unwanted Columns in the data grid below\r\n            </Typography>\r\n            <DataGrid\r\n              id=\"gridContainer\"\r\n              dataSource={selectedDocument1.data}\r\n              allowColumnReordering={true}\r\n              allowColumnResizing={true}\r\n              columnAutoWidth={true}\r\n              showBorders={true}\r\n              ref={dataGrid1}\r\n            >\r\n              <ColumnChooser enabled={true} height={150} title=\"Unwanted columns\" />\r\n              <ColumnFixing enabled={true} />\r\n              <Paging defaultPageSize={2} />\r\n              <Pager\r\n                visible={true}\r\n                displayMode={\"full\"}\r\n                showPageSizeSelector={false}\r\n                showInfo={true}\r\n                showNavigationButtons={true}\r\n              />\r\n            </DataGrid>\r\n          </div>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          xs={5}\r\n          p={0}\r\n          sx={{ height: '100%' }}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"center\"\r\n        >\r\n          <UploadDocumentColumnContainer\r\n            comparisonColumns={comparisonColumns2}\r\n            comparisonColumnsError={comparisonColumns2Error}\r\n            selectedDocument={selectedDocument2}\r\n            fileSource={fileSource2}\r\n            index={1}\r\n          />\r\n          <div style={{ width: '100%'}}>\r\n            <Typography variant=\"subtitle1\" sx={{ margin: '2.5rem 0 0 0'}}>\r\n              Click and drag columns that are NOT wanted in results table to Unwanted Columns in the data grid below\r\n            </Typography>\r\n            <DataGrid\r\n              id=\"gridContainer\"\r\n              dataSource={selectedDocument2.data}\r\n              allowColumnReordering={true}\r\n              allowColumnResizing={true}\r\n              columnAutoWidth={true}\r\n              showBorders={true}\r\n              ref={dataGrid2}\r\n            >\r\n              <ColumnChooser enabled={true} height={150} title=\"Unwanted columns\" />\r\n              <ColumnFixing enabled={true} />\r\n              <Paging defaultPageSize={2} />\r\n              <Pager\r\n                visible={true}\r\n                displayMode={\"full\"}\r\n                showPageSizeSelector={false}\r\n                showInfo={true}\r\n                showNavigationButtons={true}\r\n              />\r\n            </DataGrid>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        justifyContent=\"space-around\"\r\n        alignItems=\"center\"\r\n        sx={{ marginBottom: '4.5rem' }}\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={4}\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Fab\r\n            variant=\"extended\"\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n            sx={{ marginTop: '2rem' }}\r\n            disabled={!isSubmitBtnEnabled}\r\n            onClick={handleUploadAndCompare}\r\n          >\r\n            <Upload sx={{ mr: 1 }} />\r\n            Upload and Compare\r\n          </Fab>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadDocumentForm;","export const CHANGE_STEP = 'CHANGE_STEP';\r\n\r\nexport const changeStep = (newStep: number) => ({\r\n  type: CHANGE_STEP,\r\n  payload: newStep\r\n});","import React from 'react';\r\nimport UploadDocumentForm from '../../components/upload-document-form';\r\nimport { connect } from 'react-redux';\r\nimport { DocumentState } from '../../state/reducers/document';\r\nimport { uploadDocumentSuccess } from '../../state/actions/document';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  document: DocumentState;\r\n  showError: any;\r\n  hideError: any;\r\n  uploadDocumentSuccess: any;\r\n  setIsLoading: any;\r\n  changeStep: any;\r\n}\r\n\r\nconst UploadDocumentFormContainer = ({\r\n  activeStep,\r\n  document,\r\n  showError,\r\n  hideError,\r\n  uploadDocumentSuccess,\r\n  setIsLoading,\r\n  changeStep,\r\n}: Props) => {\r\n  return (\r\n    <UploadDocumentForm\r\n      document={document}\r\n      showError={showError}\r\n      hideError={hideError}\r\n      uploadDocumentSuccess={uploadDocumentSuccess}\r\n      setIsLoading={setIsLoading}\r\n      changeStep={changeStep}\r\n      activeStep={activeStep}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step,\r\n  document: state.document\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  uploadDocumentSuccess: (data: any) => dispatch(uploadDocumentSuccess(data)),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  changeStep: (activeStep: number) => dispatch(changeStep(activeStep)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadDocumentFormContainer);","import React from 'react';\r\nimport DataGrid, { Paging, Pager, Column } from 'devextreme-react/data-grid';\r\nimport { connect } from 'react-redux';\r\nimport { Grid } from '@mui/material';\r\n\r\nconst DuplicatesTable = ({ duplicatesData }: any) => {\r\n  return (\r\n    <Grid\r\n      container\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      sx={{ height: '100%', margin: '3.5rem 0 4.5rem 0', padding: '0 1rem' }}\r\n    >\r\n      <Grid\r\n        item\r\n        container\r\n        xs={12}\r\n        md={12}\r\n        p={0}\r\n        sx={{ height: '100%', width: '100%' }}\r\n        direction=\"column\"\r\n        justifyContent=\"start\"\r\n        alignItems=\"center\"\r\n      >\r\n        <DataGrid\r\n          id=\"gridContainer\"\r\n          dataSource={duplicatesData}\r\n          allowColumnReordering={true}\r\n          allowColumnResizing={true}\r\n          columnAutoWidth={true}\r\n          showBorders={true}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          rowAlternationEnabled={true}\r\n        >\r\n          <Column dataField=\"precision\" groupIndex={0} sortOrder=\"desc\" name=\"Precision of match\" />\r\n          {duplicatesData && duplicatesData[0] && Array.from(Object.keys(duplicatesData[0]))\r\n            .map((colName: string, index: number) => <Column dataField={colName} key={index} />)}\r\n          <Paging defaultPageSize={25} />\r\n          <Pager\r\n            visible={true}\r\n            displayMode={\"full\"}\r\n            showPageSizeSelector={false}\r\n            showInfo={true}\r\n            showNavigationButtons={true}\r\n          />\r\n        </DataGrid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  duplicatesData: state.document.duplicatesData\r\n});\r\n\r\nexport default connect(mapStateToProps)(DuplicatesTable);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DuplicatesTable from '../../components/duplicates-table';\r\n\r\nconst DuplicatesTableContainer = ({ duplicatesData }: any) => {\r\n  return (\r\n    <DuplicatesTable duplicatesData={duplicatesData} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  duplicatesData: state.document.duplicatesData\r\n});\r\n\r\nexport default connect(mapStateToProps)(DuplicatesTableContainer);","import React, { useRef } from 'react';\r\nimport {\r\n  Grid,\r\n  TextField,\r\n  Fab\r\n} from '@mui/material';\r\nimport { Download, ContentCopy } from '@mui/icons-material';\r\nimport { downloadSpreadsheetFromJSON } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  template: string;\r\n  handleTemplateChange: any;\r\n  handleCopyEmailTemplate: any;\r\n}\r\n\r\nconst EmailTemplate = ({\r\n  duplicatesData,\r\n  template,\r\n  handleTemplateChange,\r\n  handleCopyEmailTemplate\r\n}: Props) => {\r\n  const textAreaRef = useRef<any>(null);\r\n\r\n  const handleResultsDownload = () => {\r\n    downloadSpreadsheetFromJSON(duplicatesData);\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={2}\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      sx={{ height: '100%', width: '100%', marginTop: '3.5rem' }}\r\n    >\r\n      <Grid\r\n        item\r\n        container\r\n        xs={8}\r\n        sx={{ height: '100%', width: '100%' }}\r\n        direction=\"column\"\r\n        justifyContent=\"start\"\r\n        alignItems=\"center\"\r\n      >\r\n        <TextField\r\n          id=\"email-template-multiline\"\r\n          label=\"Modify and then Copy/Paste this email template\"\r\n          multiline\r\n          ref={textAreaRef}\r\n          rows={9}\r\n          defaultValue={template}\r\n          variant=\"filled\"\r\n          sx={{ width: '100%' }}\r\n          onChange={handleTemplateChange}\r\n        />\r\n        <Fab\r\n          variant=\"extended\"\r\n          aria-label=\"add\"\r\n          sx={{ marginTop: '2.5rem' }}\r\n          onClick={handleCopyEmailTemplate}\r\n        >\r\n          <ContentCopy sx={{ mr: 1 }} />\r\n          Copy Template\r\n        </Fab>\r\n        <Fab\r\n          variant=\"extended\"\r\n          aria-label=\"add\"\r\n          sx={{ marginTop: '2.5rem' }}\r\n          onClick={handleResultsDownload}\r\n        >\r\n          <Download sx={{ mr: 1 }} />\r\n          Download Results\r\n        </Fab>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default EmailTemplate;","export const UPDATE_EMAIL_TEMPLATE = 'UPDATE_EMAIL_TEMPLATE';\r\n\r\nexport const updateEmailTemplate = (updatedTemplate: string) => ({\r\n  type: UPDATE_EMAIL_TEMPLATE,\r\n  payload: updatedTemplate\r\n});","import React, { ChangeEvent } from 'react';\r\nimport EmailTemplate from '../../components/email-template';\r\nimport { connect } from 'react-redux';\r\nimport { updateEmailTemplate } from '../../state/actions/email-template';\r\nimport { showSuccess, showError, hideError, hideSuccess } from '../../state/actions/alert';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  template: string;\r\n  updateEmailTemplate: any;\r\n  showSuccess: any;\r\n  hideSuccess: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst EmailTemplateContainer = ({\r\n  duplicatesData,\r\n  template,\r\n  updateEmailTemplate,\r\n  showSuccess,\r\n  hideSuccess,\r\n  showError,\r\n  hideError\r\n}: Props) => {\r\n  const handleTemplateChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    updateEmailTemplate(event.target.value);\r\n  }\r\n\r\n  const handleCopyEmailTemplate = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(template);\r\n      hideError();\r\n      showSuccess('Copied email template');\r\n      setTimeout(() => {\r\n        hideSuccess();\r\n      }, 5000);\r\n    } catch (err) {\r\n      showError('Failed to copy email template');\r\n      setTimeout(() => {\r\n        hideError();\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmailTemplate\r\n      duplicatesData={duplicatesData}\r\n      template={template}\r\n      handleTemplateChange={handleTemplateChange}\r\n      handleCopyEmailTemplate={handleCopyEmailTemplate}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  duplicatesData: state.document.duplicatesData,\r\n  template: state.emailTemplate.template\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  updateEmailTemplate: (value: string) => dispatch(updateEmailTemplate(value)),\r\n  showSuccess: (successMsg: string) => dispatch(showSuccess(successMsg)),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EmailTemplateContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Paper\r\n} from '@mui/material';\r\n\r\ninterface StepperFooterProps {\r\n  steps: Array<string>;\r\n  handleNext: any;\r\n  handleBack: any;\r\n  activeStep: number;\r\n}\r\n\r\nconst StepperFooter = ({\r\n  steps,\r\n  activeStep,\r\n  handleBack,\r\n  handleNext\r\n}: StepperFooterProps) => {\r\n  return (\r\n    <Paper sx={{\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n      zIndex: 1060,\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      padding: '0.75rem'\r\n    }} elevation={3}>\r\n      <Button\r\n        disabled={activeStep === 0}\r\n        onClick={handleBack}\r\n        sx={{ mr: 1 }}\r\n      >\r\n        Back\r\n      </Button>\r\n      <Box sx={{ flex: '1 1 auto' }} />\r\n      <Button\r\n        disabled={activeStep === steps.length - 1}\r\n        onClick={handleNext}\r\n      >\r\n        Next\r\n      </Button>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default StepperFooter;","import React from 'react';\r\nimport StepperFooter from '../../components/stepper-footer';\r\nimport { connect } from 'react-redux';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\n\r\ninterface Props {\r\n  steps: Array<string>;\r\n  activeStep: number;\r\n  changeStep: any;\r\n}\r\n\r\nconst StepperFooterContainer = ({ steps, activeStep, changeStep }: Props) => {\r\n  const handleNext = () => {\r\n    changeStep(activeStep += 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    changeStep(activeStep -= 1);\r\n  };\r\n\r\n  return (\r\n    <StepperFooter\r\n      activeStep={activeStep}\r\n      steps={steps}\r\n      handleNext={handleNext}\r\n      handleBack={handleBack}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeStep: (newStep: number) => dispatch(changeStep(newStep))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StepperFooterContainer);","import * as React from 'react';\r\nimport {\r\n  Box,\r\n  Stepper,\r\n  Step,\r\n  StepButton,\r\n  Container,\r\n} from '@mui/material';\r\n\r\nimport UploadDocumentFormContainer from '../../containers/upload-document-form';\r\nimport DuplicatesTableContainer from '../../containers/duplicates-table';\r\nimport EmailTemplateContainer from '../../containers/email-template';\r\nimport StepperFooterContainer from '../../containers/stepper-footer';\r\n\r\nconst steps = ['Upload document', 'View duplicates', 'Email customers'];\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  changeStep: any;\r\n}\r\n\r\nconst Home = ({ activeStep, changeStep }: Props) => {\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '100%', marginTop: '3.5vh' }}>\r\n        <Stepper nonLinear={true} activeStep={activeStep} sx={{ marginLeft: '25%', marginRight: '25%'}}>\r\n          {steps.map((label: string, index: number) => {\r\n            const stepProps: { completed?: boolean } = {};\r\n            const labelProps: {\r\n              optional?: React.ReactNode;\r\n            } = {};\r\n            return (\r\n              <Step key={label} {...stepProps}>\r\n                <StepButton onClick={() => changeStep(index)} {...labelProps}>{label}</StepButton>\r\n              </Step>\r\n            );\r\n          })}\r\n        </Stepper>\r\n        {activeStep === 0 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', paddingBottom: '3rem' }}>\r\n              <UploadDocumentFormContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n        {activeStep === 1 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', width: '100%', maxWidth: '100%' }} maxWidth={false}>\r\n              <DuplicatesTableContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n        {activeStep === 2 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', width: '100%' }}>\r\n              <EmailTemplateContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n      </Box>\r\n      <StepperFooterContainer steps={steps} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Home from '../../pages/home';\r\nimport { connect } from 'react-redux';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  changeStep: any;\r\n}\r\n\r\nconst HomeContainer = ({ activeStep, changeStep }: Props) => {\r\n  return (\r\n    <Home activeStep={activeStep} changeStep={changeStep} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeStep: (newStep: number) => dispatch(changeStep(newStep))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst Register = ({ onSubmit }: Props) => {\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    } else if (values.password.length < 8) {\r\n      errors.password = 'Must be 8 characters or more';\r\n    }\r\n  \r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Required';\r\n    } else if (values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = 'Must match password';\r\n    }\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      company: ''\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password || !!errors.confirmPassword\r\n    || !values.email || !values.password || !values.confirmPassword;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '85vh', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={4}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Register</Typography>\r\n            <form onSubmit={handleSubmit}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Confirm Password\"\r\n                name=\"confirmPassword\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.confirmPassword && !!errors.confirmPassword}\r\n                helperText={errors.confirmPassword ? errors.confirmPassword : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.confirmPassword}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"First Name\"\r\n                name=\"firstName\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.firstName}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.lastName}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Company\"\r\n                name=\"company\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.company}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={4}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ marginTop: '2.5rem', marginLeft: 'auto', marginRight: 'auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Submit\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n            <Typography sx={{ marginTop: '2rem' }}>\r\n              Already have an account? <Link to=\"/\">Sign in</Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;","export const UPDATE_USER = 'UPDATE_USER';\r\n\r\nexport const updateUser = (user: any) => ({\r\n  type: UPDATE_USER,\r\n  payload: user\r\n});","import React from 'react';\r\nimport axios from 'axios';\r\nimport Register from '../../pages/register';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst RegisterContainer = ({\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  updateUser\r\n}: Props) => {\r\n  const history = useHistory();\r\n\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    formData.append('firstname', values.firstName);\r\n    formData.append('lastname', values.lastName);\r\n    formData.append('company', values.company);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n    axios.post('/api/v1/register', formData, config)\r\n      .then((res) => {\r\n        hideError();\r\n        updateUser(res.data);\r\n        setIsLoading(false);\r\n        history.push('/home');\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError(`Registration failed. Please try again. ${err}`);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Register onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(RegisterContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Fab,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport { Close } from '@mui/icons-material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onClose: any;\r\n  onSubmit: any;\r\n}\r\n\r\nconst EmailCapture = ({ onClose, onSubmit }: Props) => {\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: ''\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', height: '100%', padding: '0 0 3rem 0' }}>\r\n      <AppBar sx={{ position: 'relative', marginBottom: '3rem' }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={onClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Grid\r\n        container\r\n        spacing={3}\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        sx={{ height: '100%', width: '100%' }}\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={10}\r\n          p={0}\r\n          sx={{ height: '100%' }}\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <form onSubmit={handleSubmit}>\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Join the waitlist for Salesdap</Typography>\r\n            <TextField\r\n              label=\"email address\"\r\n              variant=\"standard\"\r\n              name=\"email\"\r\n              sx={{ width: '100%' }}\r\n              error={touched.email && !!errors.email}\r\n              helperText={errors.email ? errors.email : null}\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n            />\r\n            <Fab\r\n              variant=\"extended\"\r\n              aria-label=\"add\"\r\n              sx={{ marginTop: '2.5rem' }}\r\n              type=\"submit\"\r\n            >\r\n              submit\r\n            </Fab>\r\n          </form>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default EmailCapture;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { showError, hideError, showSuccess, hideSuccess } from '../../state/actions/alert';\r\nimport EmailCapture from '../../pages/email-capture';\r\n\r\ninterface Props {\r\n  onClose: any;\r\n  showError: any;\r\n  hideError: any;\r\n  showSuccess: any;\r\n  hideSuccess: any;\r\n  setIsLoading: any;\r\n}\r\n\r\nconst EmailCaptureContainer = ({\r\n  onClose,\r\n  showError,\r\n  hideError,\r\n  showSuccess,\r\n  hideSuccess,\r\n  setIsLoading\r\n}: Props) => {\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n\r\n    axios.post('/api/v1/email', formData, config)\r\n      .then(() => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        onClose();\r\n        showSuccess('Successfully registered to waitlist!');\r\n        setTimeout(() => {\r\n          hideSuccess();\r\n        }, 5000);\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('email err', err);\r\n        setIsLoading(false);\r\n        showError('Waitlist registration failed. Please try again.');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 5000)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <EmailCapture onSubmit={onSubmit} onClose={onClose} />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  showSuccess: (successMsg: string) => dispatch(showSuccess(successMsg)),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(EmailCaptureContainer);","import React, { useState } from 'react';\r\nimport EmailCaptureContainer from '../../containers/email-capture';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Dialog\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst Login = ({ onSubmit }: Props) => {\r\n  const [isEmailCaptureModalOpen, setIsEmailCaptureModalOpen] = useState(true);\r\n\r\n  const handleClose = (event: any) => {\r\n    setIsEmailCaptureModalOpen(false);\r\n  }\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    }\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: ''\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password ||\r\n    !values.email || !values.password;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '80vh', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={4}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Login</Typography>\r\n            <form onSubmit={handleSubmit}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={4}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ marginTop: '2.5rem', marginLeft: 'auto', marginRight: 'auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Submit\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n            <Typography sx={{ marginTop: '2rem' }}>\r\n              Don't have an account?  <Link to=\"/register\">Sign up now!</Link>\r\n            </Typography>\r\n            <Typography sx={{ marginTop: '0.5rem' }}>\r\n              Forgot your password?  <Link to=\"/forgot-password\">Reset your password</Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      <Dialog open={isEmailCaptureModalOpen} onClose={handleClose}>\r\n        <EmailCaptureContainer onClose={handleClose} />\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Login from '../../pages/login';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst LoginContainer = ({\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  updateUser\r\n}: Props) => {\r\n  const history = useHistory();\r\n\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n\r\n    axios.post('/api/v1/login', formData, config)\r\n      .then((res: any) => {\r\n        hideError();\r\n        updateUser(res.data);\r\n        setIsLoading(false);\r\n        history.push('/home');\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('Wrong email or password');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Login onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginContainer);","import React, { useRef } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  Chip,\r\n  Fab,\r\n} from '@mui/material';\r\nimport { Attachment, Upload } from '@mui/icons-material';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  validateFileSelection: any;\r\n  handlePinnedFileClick: any;\r\n}\r\n\r\nconst Profile = ({\r\n  user,\r\n  validateFileSelection,\r\n  handlePinnedFileClick\r\n}: Props) => {\r\n  const inputFileRef: any = useRef(null);\r\n\r\n  const handleFileSelectionBtnClick = () => {\r\n    /*Collecting node-element and performing click*/\r\n    if (inputFileRef&& inputFileRef.current) {\r\n      inputFileRef.current.click();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '80vh', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={8}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"start\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Paper elevation={3} sx={{ width: '100%', padding: '3rem 0 3rem 3rem', marginTop: '3rem' }}>\r\n              <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Profile</Typography>\r\n              <Typography variant=\"subtitle1\" sx={{ marginBottom: '2rem' }}>Name: {user.firstname} {user.lastname}</Typography>\r\n              <Typography variant=\"subtitle1\" sx={{ marginBottom: '2rem' }}>Email: {user.email}</Typography>\r\n              <Typography variant=\"subtitle1\" sx={{ marginBottom: '2rem' }}>Company: {user.company}</Typography>\r\n              <Typography variant=\"subtitle1\">Pinned File:</Typography>\r\n              <Chip onClick={handlePinnedFileClick} icon={<Attachment />} label={user.pinnedFileName} />\r\n              <Grid\r\n                item\r\n                container\r\n                xs={6}\r\n                p={0}\r\n                direction=\"column\"\r\n                justifyContent=\"start\"\r\n                alignItems=\"start\"\r\n              >\r\n                <Fab\r\n                  variant=\"extended\"\r\n                  aria-label=\"add\"\r\n                  sx={{ marginTop: '2.5rem' }}\r\n                  onClick={handleFileSelectionBtnClick}\r\n                >\r\n                  <Upload sx={{ mr: 1 }} />\r\n                  Select New Pinned File\r\n                </Fab>\r\n                <input\r\n                  type=\"file\"\r\n                  ref={inputFileRef}\r\n                  className=\"file-input\"\r\n                  onChange={validateFileSelection}\r\n                  name=\"sales_file\"\r\n                />\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Profile from '../../pages/profile';\r\nimport {\r\n  createFileLink,\r\n  getPinnedFile\r\n} from '../../utils/spreadsheet.utils';\r\nimport { connect } from 'react-redux';\r\nimport { pinFileSuccess } from '../../state/actions/document';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { checkIsValidFileType } from '../../utils/validate-file-type';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  pinFileSuccess: any;\r\n}\r\n\r\nconst ProfileContainer = ({\r\n  user,\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  pinFileSuccess\r\n}: Props) => {\r\n  const handlePinnedFileClick = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const pinnedFileData = await getPinnedFile(user.pinnedFileId);\r\n      setIsLoading(false);\r\n      createFileLink(pinnedFileData.data, user.pinnedFileName);\r\n    } catch (err: any) {\r\n      console.log('err', err);\r\n      setIsLoading(false);\r\n      showError(`Failed to download pinned file. ${err}`);\r\n    }\r\n  };\r\n\r\n  const validateFileSelection = (event: any) => {\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    const isValidDocType: boolean = document && document.name ?\r\n      checkIsValidFileType(document.name) : false;\r\n\r\n    if (isValidDocType) {\r\n      hideError();\r\n      handleFilePinning(document);\r\n    } else {\r\n      showError('Invalid file type. Only pin .xls, .xlsx, or .csv');\r\n    }\r\n  };\r\n\r\n  const handleFilePinning = (file: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    if (\r\n      file &&\r\n      file.name\r\n    ) {\r\n      formData.append(\r\n        'sales_file',\r\n        file,\r\n        file.name\r\n      );\r\n      formData.append(\r\n        'email',\r\n        user.email\r\n      );\r\n    }\r\n    axios.post('/api/v1/pinfile', formData)\r\n      .then((res: any) => {\r\n        pinFileSuccess(res.data);\r\n        hideError();\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsLoading(false);\r\n        showError(`Failed to pin file. ${err}`);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Profile\r\n      user={user}\r\n      validateFileSelection={validateFileSelection}\r\n      handlePinnedFileClick={handlePinnedFileClick}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  pinFileSuccess: (fileMetadata: any) => dispatch(pinFileSuccess(fileMetadata))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst PasswordReset = ({ onSubmit }: Props) => {\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    }\r\n\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    } else if (values.password.length < 8) {\r\n      errors.password = 'Must be 8 characters or more';\r\n    }\r\n  \r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Required';\r\n    } else if (values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = 'Must match password';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password || !!errors.confirmPassword\r\n    || !values.email || !values.password || !values.confirmPassword;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '80vh', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={4}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Reset your password</Typography>\r\n            <form onSubmit={handleSubmit}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Confirm Password\"\r\n                name=\"confirmPassword\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.confirmPassword && !!errors.confirmPassword}\r\n                helperText={errors.confirmPassword ? errors.confirmPassword : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.confirmPassword}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={8}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ marginTop: '2.5rem', marginLeft: 'auto', marginRight: 'auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Reset Password\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport PasswordReset from '../../pages/password-reset';\r\nimport { connect } from 'react-redux';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst PasswordResetContainer = ({ setIsLoading, showError, hideError }: Props) => {\r\n  const history = useHistory();\r\n  const params: any = useParams();\r\n\r\n  useEffect(() => {\r\n    axios.post('/api/v1/resetpassword', { token: params.token })\r\n      .catch((err) => {\r\n        history.push('/');\r\n      });\r\n  }, [params, history]);\r\n\r\n  const onSubmit = (values: any) => {\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/updatepassword', formData, config)\r\n      .then((res) => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        history.push('/');\r\n      })\r\n      .catch((err: any) => {\r\n        setIsLoading(false);\r\n        showError('Password reset failed. Please try again.')\r\n      });\r\n  };\r\n\r\n  return (\r\n    <PasswordReset onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(PasswordResetContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst ForgotPassword = ({ onSubmit }: Props) => {\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !values.email;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '80vh', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={4}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '0.5rem' }}>Forgot my password</Typography>\r\n            <Typography variant=\"subtitle1\" sx={{ marginBottom: '2rem' }}>\r\n              Enter your email, and then you'll receive a verification code at that address. Use that code to reset your password.\r\n            </Typography>\r\n            <form onSubmit={handleSubmit}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={12}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ marginTop: '2.5rem', marginLeft: 'auto', marginRight: 'auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Send Password Reset Email\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;","import React from 'react';\r\nimport axios from 'axios';\r\nimport ForgotPassword from '../../pages/forgot-password';\r\nimport { connect } from 'react-redux';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst ForgotPasswordContainer = ({ setIsLoading, showError, hideError }: Props) => {\r\n  const onSubmit = (values: any) => {\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/forgotpassword', formData, config)\r\n      .then(() => {\r\n        setIsLoading(false);\r\n        hideError();\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('Wrong email or password');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <ForgotPassword onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ForgotPasswordContainer);","import React from 'react';\r\nimport { Route, Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst PrivateRoute = (props: any) => {\r\n  const location = useLocation();\r\n\r\n  return props.user && props.user.email ? (\r\n    <Route {...props} />\r\n  ) : (\r\n    <Redirect\r\n      to={{\r\n        pathname: \"/\",\r\n        state: { from: location }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;","import * as React from 'react';\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Button\r\n} from '@mui/material';\r\nimport { Handshake, AccountCircle } from '@mui/icons-material';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  handleLogout: any;\r\n}\r\n\r\nconst NavBar = ({ user, handleLogout }: Props) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const history = useHistory();\r\n\r\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleHomeClick = () => {\r\n    history.push('/home');\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n            onClick={handleHomeClick}\r\n          >\r\n            <Handshake />\r\n          </IconButton>\r\n          <Button variant=\"text\" onClick={handleHomeClick}>\r\n            <Typography variant=\"h6\" sx={{ flexGrow: 1, color: 'white' }}>\r\n              Salesdap\r\n            </Typography>\r\n          </Button>\r\n\r\n          {user && user.email && <>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n              sx={{ marginLeft: 'auto' }}\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={handleClose}>\r\n                <Link style={{ color: 'black', textDecoration: 'none' }} to=\"/profile\">Profile</Link>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n            </Menu>\r\n          </>}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import { UPDATE_USER } from '../../actions/user';\r\nimport { PIN_FILE_SUCCESS } from '../../actions/document';\r\n\r\nexport interface UserState {\r\n  firstname: string;\r\n  lastname: string;\r\n  email: string;\r\n  company: string;\r\n  pinnedFileName: string;\r\n  pinnedFileId: string;\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  firstname: '',\r\n  lastname: '',\r\n  email: '',\r\n  company: '',\r\n  pinnedFileName: '',\r\n  pinnedFileId: ''\r\n}\r\n\r\nexport const userReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case UPDATE_USER:\r\n      return {\r\n        ...state,\r\n        email: action.payload.email,\r\n        firstname: action.payload.firstname,\r\n        lastname: action.payload.lastname,\r\n        company: action.payload.company,\r\n        pinnedFileName: action.payload.pinned_filename,\r\n        pinnedFileId: action.payload.pinned_file_id\r\n      };\r\n    case PIN_FILE_SUCCESS:\r\n      console.log('action payload pin', action.payload);\r\n      return {\r\n        ...state,\r\n        pinnedFileName: action.payload.pinned_filename,\r\n        pinnedFileId: action.payload.pinned_file_id\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\r\n// import axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport NavBar from '../../components/nav-bar';\r\nimport { UserState, initialState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState\r\n}\r\n\r\nconst NavBarContainer = ({ user }: Props) => {\r\n  const history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    // axios.post('/api/v1/logout') <-- until AWS Redis stuff gets setup, keep this commented\r\n    //   .then(() => {\r\n        // hideError();\r\n        updateUser({...initialState});\r\n        history.push('/');\r\n      // })\r\n      // .catch((err) => {\r\n      //   console.log('logout err', err);\r\n      //   showError('Failed to logout');\r\n      //   setTimeout(() => {\r\n      //     hideError();\r\n      //   }, 5000);\r\n      // });\r\n  }\r\n\r\n  return (\r\n    <NavBar user={user} handleLogout={handleLogout} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(NavBarContainer);","import HomeContainer from '../../containers/home';\r\nimport RegisterContainer from '../../containers/register';\r\nimport LoginContainer from '../../containers/login';\r\nimport ProfileContainer from '../../containers/profile';\r\nimport PasswordResetContainer from '../../containers/password-reset';\r\nimport ForgotPasswordContainer from '../../containers/forgot-password';\r\nimport PrivateRoute from '../private-route'; // set everything to private after testing\r\nimport NavBarContainer from '../../containers/nav-bar';\r\nimport {\r\n  Alert,\r\n  Backdrop,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { AlertState } from '../../state/reducers/alert';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  alert: AlertState;\r\n  loading: boolean;\r\n  user: UserState;\r\n}\r\n\r\nconst Routes = ({ alert, loading, user }: Props) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <main>\r\n        <NavBarContainer user={user} />\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/home\" component={HomeContainer} user={user} />\r\n          <Route exact path=\"/\" component={LoginContainer} />\r\n          <Route exact path=\"/register\" component={RegisterContainer} />\r\n          <PrivateRoute exact path=\"/profile\" component={ProfileContainer} user={user} />\r\n          <Route exact path=\"/forgot-password\" component={ForgotPasswordContainer} />\r\n          <Route path=\"/password-reset/:token\" component={PasswordResetContainer} />\r\n        </Switch>\r\n        {alert.isOpen && <Alert\r\n          variant=\"standard\"\r\n          severity={alert.alertType || \"error\"}\r\n          sx={{\r\n            margin: '2rem auto 0 auto',\r\n            borderRadius: '10px',\r\n            width: 'fit-content',\r\n            maxWidth: '50%',\r\n            flexWrap: 'wrap'\r\n          }}\r\n        >\r\n          {alert.message}\r\n        </Alert>}\r\n        <Backdrop open={loading} sx={{ zIndex: 1550 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      </main>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import Routes from '../../components/routes';\r\nimport { connect } from 'react-redux';\r\nimport { AlertState } from '../../state/reducers/alert';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  alert: AlertState;\r\n  loading: boolean;\r\n  user: UserState;\r\n}\r\n\r\nconst RoutesContainer = ({ alert, loading, user }: Props) => {\r\n  return (\r\n    <Routes alert={alert} loading={loading} user={user} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  alert: state.alert,\r\n  loading: state.loading.isLoading,\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(RoutesContainer);\r\n","import {\r\n  UPLOAD_DOCUMENT_SUCCESS,\r\n  SELECT_DOCUMENT,\r\n  CHANGE_COMPARISON_COLUMN,\r\n  CHANGE_RESULT_COLUMNS,\r\n  SET_FILE_SOURCE,\r\n  SET_COMPARISON_COLUMNS_ERROR\r\n} from '../../actions/document';\r\n\r\ninterface SelectedDocument {\r\n  data: Array<any>;\r\n  name: string;\r\n}\r\n\r\nexport interface DocumentState {\r\n  duplicatesData: Array<any>;\r\n  selectedDocument1: SelectedDocument;\r\n  selectedDocument2: SelectedDocument;\r\n  comparisonColumns1: Array<string>;\r\n  comparisonColumns2: Array<string>;\r\n  resultColumns1: Array<string>;\r\n  resultColumns2: Array<string>;\r\n  fileSource1: string;\r\n  fileSource2: string;\r\n  comparisonColumns1Error: string;\r\n  comparisonColumns2Error: string;\r\n}\r\n\r\nconst initialState: DocumentState = {\r\n  duplicatesData: [],\r\n  selectedDocument1: { data: [], name: '' },\r\n  selectedDocument2: { data: [], name: '' },\r\n  comparisonColumns1: [],\r\n  comparisonColumns2: [],\r\n  resultColumns1: [],\r\n  resultColumns2: [],\r\n  fileSource1: 'upload',\r\n  fileSource2: 'upload',\r\n  comparisonColumns1Error: '',\r\n  comparisonColumns2Error: '',\r\n};\r\n\r\nexport const documentReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case CHANGE_COMPARISON_COLUMN:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          comparisonColumns1: action.payload,\r\n          resultColumns1: action.payload,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          comparisonColumns2: action.payload,\r\n          resultColumns2: action.payload,\r\n        };\r\n      }\r\n    case SET_COMPARISON_COLUMNS_ERROR:\r\n      if (action.index === 0) {\r\n        return { ...state, comparisonColumns1Error: action.payload };\r\n      } else {\r\n        return { ...state, comparisonColumns2Error: action.payload}\r\n      }\r\n    case CHANGE_RESULT_COLUMNS:\r\n      if (action.index === 0) {\r\n        return { ...state, resultColumns1: action.payload };\r\n      } else {\r\n        return { ...state, resultColumns2: action.payload}\r\n      }\r\n    case SELECT_DOCUMENT:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          selectedDocument1: {\r\n            data: action.payload,\r\n            name: action.name\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          selectedDocument2: {\r\n            data: action.payload,\r\n            name: action.name\r\n          }\r\n        };\r\n      }\r\n    case SET_FILE_SOURCE:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          fileSource1: action.payload\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          fileSource2: action.payload\r\n        };\r\n      }\r\n    case UPLOAD_DOCUMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        duplicatesData: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { CHANGE_STEP } from '../../actions/step-progress';\r\n\r\ninterface StepProgressState {\r\n  step: number;\r\n}\r\n\r\nconst initialState: StepProgressState = {\r\n  step: 0\r\n}\r\n\r\nexport const stepProgressReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case CHANGE_STEP:\r\n      return {\r\n        ...state,\r\n        step: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { UPDATE_EMAIL_TEMPLATE } from '../../actions/email-template';\r\n\r\nconst EMAIL_DEFAULT_TEXT = `[insert name],\r\n\r\nThanks for sending over your account list.\r\n\r\nAttached youll find a list that maps both our account teams to one another. \r\n\r\nRegards,\r\n\r\n[insert your signature]\r\n`;\r\n\r\nconst initialState = {\r\n  template: EMAIL_DEFAULT_TEXT\r\n};\r\n\r\nexport const emailTemplateReducer = (state = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case UPDATE_EMAIL_TEMPLATE:\r\n      console.log('updating template?', action.payload);\r\n      return { ...state, template: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SHOW_ERROR, HIDE_ERROR, SHOW_SUCCESS, HIDE_SUCCESS } from '../../actions/alert';\r\nimport { CHANGE_STEP } from '../../actions/step-progress';\r\n\r\nexport interface AlertState {\r\n  isOpen: boolean;\r\n  alertType: any;\r\n  message: string;\r\n};\r\n\r\nconst initialState = {\r\n  isOpen: false,\r\n  alertType: '',\r\n  message: ''\r\n}\r\n\r\nexport const alertReducer = (state: AlertState = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case SHOW_ERROR:\r\n      return {\r\n        ...state,\r\n        isOpen: true,\r\n        alertType: 'error',\r\n        message: action.payload\r\n      };\r\n    case HIDE_ERROR:\r\n    case CHANGE_STEP:\r\n      return {\r\n        ...state,\r\n        isOpen: false,\r\n        alertType: '',\r\n        message: ''\r\n      };\r\n    case SHOW_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isOpen: true,\r\n        alertType: 'success',\r\n        message: action.payload\r\n      };\r\n    case HIDE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isOpen: false,\r\n        alertType: '',\r\n        message: ''\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_IS_LOADING } from '../../actions/loading';\r\n\r\nexport interface LoadingState {\r\n  isLoading: boolean;\r\n};\r\n\r\nconst initialState = {\r\n  isLoading: false\r\n}\r\n\r\nexport const loadingReducer = (state: LoadingState = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case SET_IS_LOADING:\r\n      return { ...state, isLoading: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { documentReducer } from './document';\r\nimport { stepProgressReducer } from './step-progress';\r\nimport { userReducer } from './user';\r\nimport { emailTemplateReducer } from './email-template';\r\nimport { alertReducer } from './alert';\r\nimport { loadingReducer } from './loading';\r\n\r\nexport const rootReducer = combineReducers({\r\n  stepProgress: stepProgressReducer,\r\n  document: documentReducer,\r\n  user: userReducer,\r\n  emailTemplate: emailTemplateReducer,\r\n  alert: alertReducer,\r\n  loading: loadingReducer\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport logger from 'redux-logger';\r\nimport RoutesContainer from './containers/routes';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { rootReducer } from './state/reducers';\r\nimport 'devextreme/dist/css/dx.light.css';\r\nimport './index.css';\r\nimport './App.css';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(logger));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <RoutesContainer />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}