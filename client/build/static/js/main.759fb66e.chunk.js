(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{191:function(e,t,a){},236:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(63),i=a.n(r),s=a(150),o=a.n(s),c=a(106),l=a(36),d=(a(190),a(191),a(64)),u=a(40),m=a(302),p=a(317),j=a(323),h=a(31),b=a(318),x=a(307),O=a(319),f=a(301),g=a(320),v=a(309),w=a(314),y=a(44),C=a.n(y),S=a(291),T=a(66),P=a(45),B=a.n(P),I=a(283),k=a(305),F=a(306),R=a(312),E=a(300),D=a(313),_=a(308),N=a(297),A=a(298),L=a(284),U="SET_IS_LOADING",q="UPLOAD_DOCUMENT_SUCCESS",M="SELECT_DOCUMENT",W="CHANGE_COMPARISON_COLUMN",H="CHANGE_RESULT_COLUMNS",z="PIN_FILE_SUCCESS",G="SET_FILE_SOURCE",V=function(e){return{type:U,payload:e}},Z=function(e,t,a){return{type:M,payload:e,index:t,name:a}},J=function(e,t){return{type:G,index:e,payload:t}},$="SHOW_ERROR",K="HIDE_ERROR",Q="SHOW_SUCCESS",X="HIDE_SUCCESS",Y=function(e){return{type:$,payload:e}},ee=function(){return{type:K}},te=["xls","xlsx","csv"],ae=function(e){var t=e.split("."),a=t[t.length-1];return te.includes(a.toLowerCase())},ne=a(85),re=function(){var e=Object(T.a)(B.a.mark((function e(t){var a,n,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:if(a=e.sent,n=Object(ne.a)(a),r=n.SheetNames[0],!(i=n&&n.Sheets?n.Sheets[r]:null)){e.next=8;break}return e.abrupt("return",ne.b.sheet_to_json(i));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(T.a)(B.a.mark((function e(t){var a,n,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=[],t.forEach((function(e,t){0===t&&(n=Array.from(Object.keys(e)),a.push(n));var r=n.map((function(t){return e[t]}));a.push(r)})),r=ne.b.aoa_to_sheet(a),i=ne.b.book_new(),ne.b.book_append_sheet(i,r,"Sheet1"),Object(ne.c)(i,"account-mapping.xls");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t){var a=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click()},oe=function(e){return C.a.get("/api/v1/viewpinnedfile",{responseType:"blob",params:{filename:e}})},ce=a(4),le=Object(l.b)((function(e){return{activeStep:e.stepProgress.step,user:e.user}}))((function(e){var t=e.dispatch,a=e.selectedDocument,r=e.comparisonColumn,i=e.fileSource,s=e.index,o=e.user,c=Object(n.useRef)(null),l=function(){var e=Object(T.a)(B.a.mark((function e(a){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(V(!0)),n=a&&a.target&&a.target.files?a.target.files[0]:null,!(!(!n||!n.name)&&ae(n.name))){e.next=12;break}return t(ee()),e.next=7,re(n);case 7:r=e.sent,t(Z(r,s,n.name)),t(V(!1)),e.next=13;break;case 12:t(Y("Invalid file type. Only .xls, .xlsx, or .csv files can be processed."));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(T.a)(B.a.mark((function e(a){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(J(s,a.target.value)),"pinned"!==a.target.value){e.next=20;break}return t(V(!0)),e.prev=3,e.next=6,oe(o.pinnedFile);case 6:return n=e.sent,e.next=9,re(n.data);case 9:r=e.sent,t(Z(r,s,o.pinnedFile)),t(V(!1)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("err",e.t0),t(V(!1));case 18:e.next=21;break;case 20:t(Z([],s,""));case 21:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(T.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(o.pinnedFile);case 3:t=e.sent,se(t.data,o.pinnedFile),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();console.log("upload docs",a);var m=a&&a.data&&a.data[0]?Array.from(Object.keys(a.data[0])):[];return Object(ce.jsxs)("form",{style:{width:"100%",marginTop:"1.5rem"},children:[Object(ce.jsx)("div",{style:{height:"100px"},children:!!o.pinnedFile&&0===s&&Object(ce.jsx)(k.a,{children:Object(ce.jsxs)(F.a,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:i,onChange:d,sx:{marginBottom:"1rem"},children:[Object(ce.jsx)(R.a,{value:"upload",control:Object(ce.jsx)(E.a,{}),label:"Upload a file"}),Object(ce.jsx)(R.a,{value:"pinned",control:Object(ce.jsx)(E.a,{}),label:"Use your pinned file"})]})})}),"upload"===i?Object(ce.jsxs)("div",{style:{height:"80px"},children:[Object(ce.jsxs)(w.a,{variant:"extended","aria-label":"add",sx:{margin:"0 auto"},onClick:function(){c&&c.current&&c.current.click()},children:[Object(ce.jsx)(I.a,{sx:{mr:1}}),"Select File"]}),Object(ce.jsx)("input",{type:"file",ref:c,className:"file-input",onChange:l,name:"sales_file"}),Object(ce.jsx)("div",{style:{height:"2rem",marginTop:"1rem"},children:a&&a.name&&Object(ce.jsx)(D.a,{variant:"subtitle1",children:a.name})})]}):Object(ce.jsxs)("div",{style:{height:"80px"},children:[Object(ce.jsx)(D.a,{variant:"subtitle1",children:"Pinned File:"}),Object(ce.jsx)(_.a,{onClick:u,icon:Object(ce.jsx)(L.a,{}),label:o.pinnedFile})]}),Object(ce.jsx)(N.a,{multiple:!0,options:m,onChange:function(e,a){console.log("handleComparisonColumnFieldChange",a),t(function(e,t){return{type:W,payload:e,index:t}}(a,s))},value:r,sx:{width:"100%",margin:"1.5rem 0"},renderInput:function(e){return Object(ce.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{variant:"standard",helperText:"Columns from file ".concat(0===s?"A":"B"," that will be compared with columns\n              from file ").concat(0===s?"B":"A"," to determine match. Hint: the more unique a column's value is\n              to a company, the better (DUNS number, company website, etc.).")}))}})]})})),de="CHANGE_STEP",ue=function(e){return{type:de,payload:e}},me="SET_IS_LOADING",pe=function(e){return{type:me,payload:e}},je=Object(l.b)((function(e){return{activeStep:e.stepProgress.step,selectedDocument1:e.document.selectedDocument1,selectedDocument2:e.document.selectedDocument2,comparisonColumn1:e.document.comparisonColumn1,comparisonColumn2:e.document.comparisonColumn2,resultColumns1:e.document.resultColumns1,resultColumns2:e.document.resultColumns2,fileSource1:e.document.fileSource1,fileSource2:e.document.fileSource2,user:e.user}}))((function(e){var t=e.dispatch,a=e.activeStep,r=e.selectedDocument1,i=e.selectedDocument2,s=e.comparisonColumn1,o=e.comparisonColumn2,c=e.resultColumns1,l=e.resultColumns2,d=e.fileSource1,u=e.fileSource2,m=Object(n.useRef)(null),p=Object(n.useRef)(null);Object(n.useEffect)((function(){m&&m.current&&m.current.instance&&r.data.length&&m.current.instance.showColumnChooser(),p&&p.current&&p.current.instance&&i.data.length&&p.current.instance.showColumnChooser()}),[r.data.length,i.data.length]);var j=r&&i&&s&&o;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(v.a,{container:!0,spacing:2,justifyContent:"space-between",alignItems:"center",children:[Object(ce.jsx)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"start",alignItems:"center",children:Object(ce.jsx)(le,{comparisonColumn:s,index:0,selectedDocument:r,fileSource:d})}),Object(ce.jsx)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"start",alignItems:"center",children:Object(ce.jsx)(le,{comparisonColumn:o,index:1,selectedDocument:i,fileSource:u})})]}),Object(ce.jsx)(v.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:4,direction:"column",justifyContent:"center",alignItems:"center",children:Object(ce.jsxs)(w.a,{variant:"extended",color:"primary","aria-label":"add",sx:{marginTop:"2rem"},disabled:!j,onClick:function(){t(pe(!0));var e=new FormData;if(r&&r.name){var n=new Blob([JSON.stringify(r.data)],{type:"application/json"});e.append("sales_file1",n,r.name)}if(i&&i.name){var d=new Blob([JSON.stringify(i.data)],{type:"application/json"});e.append("sales_file2",d,i.name)}e.append("comparisonColumn1",s.join()),e.append("comparisonColumn2",o.join()),e.append("resultColumns1",c.join()),e.append("resultColumns2",l.join()),C.a.post("/api/v1/uploadfile",e).then((function(e){var n;t(ee()),console.log("res",e.data),t((n=e.data,{type:q,payload:n})),t(pe(!1)),t(ue(a+=1))})).catch((function(e){t(pe(!1)),t(Y("File upload and comparison failed. ".concat(e)))}))},children:[Object(ce.jsx)(S.a,{sx:{mr:1}}),"Upload and Compare"]})})})]})})),he=a(95),be=a.n(he),xe=Object(l.b)((function(e){return{duplicatesData:e.document.duplicatesData}}))((function(e){var t=e.duplicatesData;return Object(ce.jsx)(v.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{height:"90%",marginTop:"3.5rem",padding:"0 2rem"},children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:12,md:12,p:0,sx:{height:"95%",width:"100%"},direction:"column",justifyContent:"start",alignItems:"center",children:Object(ce.jsxs)(be.a,{id:"gridContainer",dataSource:t,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,width:"100%",rowAlternationEnabled:!0,children:[Object(ce.jsx)(he.Column,{dataField:"precision",groupIndex:0,sortOrder:"desc"}),t&&t[0]&&Array.from(Object.keys(t[0])).map((function(e,t){return Object(ce.jsx)(he.Column,{dataField:e},t)})),Object(ce.jsx)(he.Paging,{defaultPageSize:25}),Object(ce.jsx)(he.Pager,{visible:!0,displayMode:"full",showPageSizeSelector:!1,showInfo:!0,showNavigationButtons:!0})]})})})})),Oe=a(292),fe=a(293),ge="UPDATE_EMAIL_TEMPLATE",ve=Object(l.b)((function(e){return{duplicatesData:e.document.duplicatesData,template:e.emailTemplate.template}}))((function(e){var t=e.duplicatesData,a=e.template,r=e.dispatch,i=Object(n.useRef)(null),s=function(){var e=Object(T.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(a);case 3:console.log("Page URL copied to clipboard"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%",width:"100%",marginTop:"3.5rem"},children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:8,sx:{height:"100%",width:"100%"},direction:"column",justifyContent:"start",alignItems:"center",children:[Object(ce.jsx)(A.a,{id:"email-template-multiline",label:"Modify and then Copy/Paste this email template",multiline:!0,ref:i,rows:9,defaultValue:a,variant:"filled",sx:{width:"100%"},onChange:function(e){var t;r((t=e.target.value,{type:ge,payload:t}))}}),Object(ce.jsxs)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem"},onClick:s,children:[Object(ce.jsx)(Oe.a,{sx:{mr:1}}),"Copy Template"]}),Object(ce.jsxs)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem"},onClick:function(){ie(t)},children:[Object(ce.jsx)(fe.a,{sx:{mr:1}}),"Download Results"]})]})})})),we=a(310),ye=Object(l.b)((function(e){return{activeStep:e.stepProgress.step}}))((function(e){var t=e.steps,a=e.activeStep,n=e.dispatch;return Object(ce.jsxs)(b.a,{sx:{display:"flex",flexDirection:"row",pt:2,paddingBottom:"1rem",margin:"0 24px",bottom:0,right:0,left:0},children:[Object(ce.jsx)(we.a,{disabled:0===a,onClick:function(){n(ue(a-=1))},sx:{mr:1},children:"Back"}),Object(ce.jsx)(b.a,{sx:{flex:"1 1 auto"}}),Object(ce.jsx)(we.a,{disabled:a===t.length-1,onClick:function(){n(ue(a+=1))},children:"Next"})]})})),Ce=["Upload document","View duplicates","Email customers"],Se=Object(l.b)((function(e){return{activeStep:e.stepProgress.step}}))((function(e){var t=e.activeStep;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(b.a,{sx:{width:"100%",height:"85vh",marginTop:"3.5vh"},children:[Object(ce.jsx)(x.a,{activeStep:t,sx:{marginLeft:"25%",marginRight:"25%"},children:Ce.map((function(e){return Object(ce.jsx)(O.a,Object(h.a)(Object(h.a)({},{}),{},{children:Object(ce.jsx)(f.a,Object(h.a)(Object(h.a)({},{}),{},{children:e}))}),e)}))}),0===t&&Object(ce.jsx)(n.Fragment,{children:Object(ce.jsx)(g.a,{sx:{height:"100%"},children:Object(ce.jsx)(je,{})})}),1===t&&Object(ce.jsx)(n.Fragment,{children:Object(ce.jsx)(g.a,{sx:{height:"100%",width:"100%",maxWidth:"100%"},maxWidth:!1,children:Object(ce.jsx)(xe,{})})}),2===t&&Object(ce.jsx)(n.Fragment,{children:Object(ce.jsx)(g.a,{sx:{height:"100%",width:"100%"},children:Object(ce.jsx)(ve,{})})})]}),Object(ce.jsx)(ye,{steps:Ce})]})})),Te=a(27),Pe=a(321),Be=a(322),Ie=a(315),ke=a(161),Fe=a(304),Re=a(294),Ee=a(295),De=Object(l.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=n.useState(null),r=Object(Te.a)(a,2),i=r[0],s=r[1],o=Object(u.g)(),c=function(){s(null)},l=function(){o.push("/home")};return Object(ce.jsx)(b.a,{sx:{flexGrow:1},children:Object(ce.jsx)(Pe.a,{position:"static",children:Object(ce.jsxs)(Be.a,{children:[Object(ce.jsx)(Ie.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:l,children:Object(ce.jsx)(Re.a,{})}),Object(ce.jsx)(we.a,{variant:"text",onClick:l,children:Object(ce.jsx)(D.a,{variant:"h6",sx:{flexGrow:1,color:"white"},children:"Salesdap"})}),t&&t.email&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Ie.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",sx:{marginLeft:"auto"},children:Object(ce.jsx)(Ee.a,{})}),Object(ce.jsxs)(ke.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:c,children:[Object(ce.jsx)(Fe.a,{children:Object(ce.jsx)(d.b,{style:{color:"black",textDecoration:"none"},to:"/profile",children:"Profile"})}),Object(ce.jsx)(Fe.a,{onClick:function(){C.a.post("/api/v1/logout").then((function(){c(),o.push("/")})).catch((function(e){return console.log("logout err",e)}))},children:"Logout"})]})]})]})})})})),_e=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(Se,{})]})},Ne=a(68),Ae="UPDATE_USER",Le=function(e){return{type:Ae,payload:e}},Ue=Object(l.b)()((function(e){var t=e.dispatch,a=Object(u.g)(),n=Object(Ne.a)({initialValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",company:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Must be 8 characters or more"):t.password="Required",e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Must match password"):t.confirmPassword="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e){t(pe(!0));var n=new FormData;n.append("email",e.email),n.append("password",e.password),n.append("firstname",e.firstName),n.append("lastname",e.lastName),n.append("company",e.company);C.a.post("/api/v1/register",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(ee()),t(Le(e.data)),t(pe(!1)),a.push("/home")})).catch((function(e){console.log("err",e),t(pe(!1)),t(Y("Registration failed. Please try again. ".concat(e)))}))}}),r=n.values,i=n.errors,s=n.touched,o=n.handleBlur,c=n.handleChange,l=n.handleSubmit,m=!!i.email||!!i.password||!!i.confirmPassword||!r.email||!r.password||!r.confirmPassword;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(b.a,{sx:{width:"100%",height:"80vh",marginTop:"3.5vh"},children:Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"2rem"},children:"Register"}),Object(ce.jsxs)("form",{onSubmit:l,children:[Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Email",name:"email",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},error:s.email&&!!i.email,helperText:i.email?i.email:null,onBlur:o,onChange:c,value:r.email}),Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Password",name:"password",variant:"standard",type:"password",sx:{width:"100%",marginBottom:"1.5rem"},error:s.password&&!!i.password,helperText:i.password?i.password:null,onBlur:o,onChange:c,value:r.password}),Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Confirm Password",name:"confirmPassword",variant:"standard",type:"password",sx:{width:"100%",marginBottom:"1.5rem"},error:s.confirmPassword&&!!i.confirmPassword,helperText:i.confirmPassword?i.confirmPassword:null,onBlur:o,onChange:c,value:r.confirmPassword}),Object(ce.jsx)(A.a,{id:"standard-basic",label:"First Name",name:"firstName",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},onBlur:o,onChange:c,value:r.firstName}),Object(ce.jsx)(A.a,{id:"standard-basic",label:"Last Name",name:"lastName",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},onBlur:o,onChange:c,value:r.lastName}),Object(ce.jsx)(A.a,{id:"standard-basic",label:"Company",name:"company",variant:"standard",sx:{width:"100%"},onBlur:o,onChange:c,value:r.company}),Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:4,p:0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem",marginLeft:"auto",marginRight:"auto"},type:"submit",disabled:m,children:"Submit"})})})]}),Object(ce.jsxs)(D.a,{sx:{marginTop:"2rem"},children:["Already have an account? ",Object(ce.jsx)(d.b,{to:"/login",children:"Sign in"})]})]})})})]})})),qe=a(311),Me=a(296),We=Object(l.b)()((function(e){var t=e.onClose,a=e.dispatch,n=Object(Ne.a)({initialValues:{email:""},validate:function(e){var t={};return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"),t},onSubmit:function(e){a(pe(!0));var n=new FormData;n.append("email",e.email);C.a.post("/api/v1/email",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){a(ee()),a(pe(!1)),t()})).catch((function(e){console.log("email err",e),a(pe(!1)),a(Y("Waitlist registration failed. Please try again."))}))}}),r=n.values,i=n.errors,s=n.touched,o=n.handleBlur,c=n.handleChange,l=n.handleSubmit;return Object(ce.jsxs)(b.a,{sx:{width:"100%",height:"100%",padding:"0 0 3rem 0"},children:[Object(ce.jsx)(Pe.a,{sx:{position:"relative",marginBottom:"3rem"},children:Object(ce.jsx)(Be.a,{children:Object(ce.jsx)(Ie.a,{edge:"end",color:"inherit",onClick:t,"aria-label":"close",children:Object(ce.jsx)(Me.a,{})})})}),Object(ce.jsx)(v.a,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",sx:{height:"100%",width:"100%"},children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:10,p:0,sx:{height:"100%"},direction:"column",justifyContent:"center",alignItems:"center",children:Object(ce.jsxs)("form",{onSubmit:l,children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"2rem"},children:"Join the waitlist for Salesdap"}),Object(ce.jsx)(A.a,{label:"email address",variant:"standard",name:"email",sx:{width:"100%"},error:s.email&&!!i.email,helperText:i.email?i.email:null,onBlur:o,onChange:c,value:r.email}),Object(ce.jsx)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem"},type:"submit",children:"submit"})]})})})]})})),He=Object(l.b)()((function(e){var t=e.dispatch,a=Object(n.useState)(!0),r=Object(Te.a)(a,2),i=r[0],s=r[1],o=Object(u.g)(),c=function(e){s(!1)},l=Object(Ne.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.password||(t.password="Required"),e.email||(t.email="Required"),t},onSubmit:function(e){t(pe(!0));var a=new FormData;a.append("email",e.email),a.append("password",e.password);C.a.post("/api/v1/login",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(ee()),t(Le(e.data)),t(pe(!1)),o.push("/home")})).catch((function(e){console.log("err",e),t(pe(!1)),t(Y("Wrong email or password"))}))}}),m=l.values,p=l.errors,j=l.touched,h=l.handleBlur,x=l.handleChange,O=l.handleSubmit,f=!!p.email||!!p.password||!m.email||!m.password;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(b.a,{sx:{width:"100%",height:"80vh",marginTop:"3.5vh"},children:Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"2rem"},children:"Login"}),Object(ce.jsxs)("form",{onSubmit:O,children:[Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Email",name:"email",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},error:j.email&&!!p.email,helperText:p.email?p.email:null,onBlur:h,onChange:x,value:m.email}),Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Password",name:"password",variant:"standard",type:"password",sx:{width:"100%",marginBottom:"1.5rem"},error:j.password&&!!p.password,helperText:p.password?p.password:null,onBlur:h,onChange:x,value:m.password}),Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:4,p:0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem",marginLeft:"auto",marginRight:"auto"},type:"submit",disabled:f,children:"Submit"})})})]}),Object(ce.jsxs)(D.a,{sx:{marginTop:"2rem"},children:["Don't have an account?  ",Object(ce.jsx)(d.b,{to:"/register",children:"Sign up now!"})]}),Object(ce.jsxs)(D.a,{sx:{marginTop:"0.5rem"},children:["Forgot your password?  ",Object(ce.jsx)(d.b,{to:"/forgot-password",children:"Reset your password"})]})]})})}),Object(ce.jsx)(qe.a,{open:i,onClose:c,children:Object(ce.jsx)(We,{onClose:c})})]})})),ze=a(316),Ge=Object(l.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=e.dispatch,r=Object(n.useRef)(null),i=function(){var e=Object(T.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(pe(!0)),e.next=4,oe(t.pinnedFile);case 4:n=e.sent,a(pe(!1)),se(n.data,t.pinnedFile),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err",e.t0),a(pe(!1)),a(Y("Failed to download pinned file. ".concat(e.t0)));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),s=function(e){a(pe(!0));var n=new FormData;e&&e.name&&(n.append("sales_file",e,e.name),n.append("email",t.email)),C.a.post("/api/v1/pinfile",n).then((function(){var t;a((t=e.name,{type:z,payload:t})),a(ee()),a(pe(!1))})).catch((function(e){console.log(e),a(pe(!1)),a(Y("Failed to pin file. ".concat(e)))}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(b.a,{sx:{width:"100%",height:"80vh",marginTop:"3.5vh"},children:Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:8,p:0,sx:{height:"100%"},direction:"column",justifyContent:"start",alignItems:"center",children:Object(ce.jsxs)(ze.a,{elevation:3,sx:{width:"100%",padding:"3rem 0 3rem 3rem",marginTop:"3rem"},children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"2rem"},children:"Profile"}),Object(ce.jsxs)(D.a,{variant:"subtitle1",sx:{marginBottom:"2rem"},children:["Name: ",t.firstname," ",t.lastname]}),Object(ce.jsxs)(D.a,{variant:"subtitle1",sx:{marginBottom:"2rem"},children:["Email: ",t.email]}),Object(ce.jsxs)(D.a,{variant:"subtitle1",sx:{marginBottom:"2rem"},children:["Company: ",t.company]}),Object(ce.jsx)(D.a,{variant:"subtitle1",children:"Pinned File:"}),Object(ce.jsx)(_.a,{onClick:i,icon:Object(ce.jsx)(L.a,{}),label:t.pinnedFile}),Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:6,p:0,direction:"column",justifyContent:"start",alignItems:"start",children:[Object(ce.jsxs)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem"},onClick:function(){r&&r.current&&r.current.click()},children:[Object(ce.jsx)(S.a,{sx:{mr:1}}),"Select New Pinned File"]}),Object(ce.jsx)("input",{type:"file",ref:r,className:"file-input",onChange:function(e){var t=e&&e.target&&e.target.files?e.target.files[0]:null;!(!t||!t.name)&&ae(t.name)?(a(ee()),s(t)):a(Y("Invalid file type. Only pin .xls, .xlsx, or .csv"))},name:"sales_file"})]})]})})})})]})})),Ve=function(){var e=Object(n.useState)(!1),t=Object(Te.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),s=Object(Te.a)(i,2),o=s[0],c=s[1],l=Object(u.g)(),d=Object(u.i)();Object(n.useEffect)((function(){C.a.post("/api/v1/resetpassword",{token:d.token}).catch((function(e){l.push("/login")}))}),[d,l]);var h=Object(Ne.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email||(t.email="Required"),e.password?e.password.length<8&&(t.password="Must be 8 characters or more"):t.password="Required",e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Must match password"):t.confirmPassword="Required",t},onSubmit:function(e){var t=new FormData;t.append("email",e.email),t.append("password",e.password);r(!0),C.a.post("/api/v1/updatepassword",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){r(!1),c(""),l.push("/login")})).catch((function(e){r(!1),c("Password reset failed. Please try again.")}))}}),x=h.values,O=h.errors,f=h.touched,g=h.handleBlur,y=h.handleChange,S=h.handleSubmit,T=!!O.email||!!O.password||!!O.confirmPassword||!x.email||!x.password||!x.confirmPassword;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(b.a,{sx:{width:"100%",height:"80vh",marginTop:"3.5vh"},children:Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"2rem"},children:"Reset your password"}),Object(ce.jsxs)("form",{onSubmit:S,children:[Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Email",name:"email",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},error:f.email&&!!O.email,helperText:O.email?O.email:null,onBlur:g,onChange:y,value:x.email}),Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Password",name:"password",variant:"standard",type:"password",sx:{width:"100%",marginBottom:"1.5rem"},error:f.password&&!!O.password,helperText:O.password?O.password:null,onBlur:g,onChange:y,value:x.password}),Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Confirm Password",name:"confirmPassword",variant:"standard",type:"password",sx:{width:"100%",marginBottom:"1.5rem"},error:f.confirmPassword&&!!O.confirmPassword,helperText:O.confirmPassword?O.confirmPassword:null,onBlur:g,onChange:y,value:x.confirmPassword}),Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:8,p:0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem",marginLeft:"auto",marginRight:"auto"},type:"submit",disabled:T,children:"Reset Password"}),!!o&&Object(ce.jsx)(m.a,{severity:"error",variant:"standard",sx:{marginTop:"2rem",borderRadius:"10px",width:"100%"},children:o})]})})]})]})})}),Object(ce.jsx)(p.a,{open:a,children:Object(ce.jsx)(j.a,{color:"inherit"})})]})},Ze=function(){var e=Object(n.useState)(!1),t=Object(Te.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),s=Object(Te.a)(i,2),o=s[0],c=s[1],l=Object(Ne.a)({initialValues:{email:""},validate:function(e){var t={};return e.email||(t.email="Required"),t},onSubmit:function(e){var t=new FormData;t.append("email",e.email);r(!0),C.a.post("/api/v1/forgotpassword",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r(!1),c("")})).catch((function(e){console.log("err",e),r(!1),c("Wrong email or password")}))}}),d=l.values,u=l.errors,h=l.touched,x=l.handleBlur,O=l.handleChange,f=l.handleSubmit,g=!!u.email||!d.email;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(De,{}),Object(ce.jsx)(b.a,{sx:{width:"100%",height:"80vh",marginTop:"3.5vh"},children:Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:Object(ce.jsxs)(v.a,{item:!0,container:!0,xs:4,p:0,sx:{height:"100%"},direction:"column",justifyContent:"center",alignItems:"center",children:[Object(ce.jsx)(D.a,{variant:"h5",sx:{marginBottom:"0.5rem"},children:"Forgot my password"}),Object(ce.jsx)(D.a,{variant:"subtitle1",sx:{marginBottom:"2rem"},children:"Enter your email, and then you'll receive a verification code at that address. Use that code to reset your password."}),Object(ce.jsxs)("form",{onSubmit:f,children:[Object(ce.jsx)(A.a,{required:!0,id:"standard-basic",label:"Email",name:"email",variant:"standard",sx:{width:"100%",marginBottom:"1.5rem"},error:h.email&&!!u.email,helperText:u.email?u.email:null,onBlur:x,onChange:O,value:d.email}),Object(ce.jsx)(v.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(v.a,{item:!0,container:!0,xs:12,p:0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(ce.jsx)(w.a,{variant:"extended","aria-label":"add",sx:{marginTop:"2.5rem",marginLeft:"auto",marginRight:"auto"},type:"submit",disabled:g,children:"Send Password Reset Email"})})})]}),!!o&&Object(ce.jsx)(m.a,{severity:"error",variant:"standard",sx:{marginTop:"2rem",borderRadius:"10px",width:"100%"},children:o})]})})}),Object(ce.jsx)(p.a,{open:a,children:Object(ce.jsx)(j.a,{color:"inherit"})})]})},Je=Object(l.b)((function(e){return{user:e.user}}))((function(e){var t=Object(u.h)();return e.user&&e.user.email?Object(ce.jsx)(u.b,Object(h.a)({},e)):Object(ce.jsx)(u.a,{to:{pathname:"/login",state:{from:t}}})})),$e=Object(l.b)((function(e){return{alert:e.alert,loading:e.loading.isLoading}}))((function(e){var t=e.alert,a=e.loading;return Object(ce.jsx)(d.a,{children:Object(ce.jsxs)("main",{children:[Object(ce.jsxs)(u.d,{children:[Object(ce.jsx)(u.b,{exact:!0,path:"/home",component:_e}),Object(ce.jsx)(u.b,{exact:!0,path:"/login",component:He}),Object(ce.jsx)(u.b,{exact:!0,path:"/register",component:Ue}),Object(ce.jsx)(Je,{exact:!0,path:"/profile",component:Ge}),Object(ce.jsx)(u.b,{exact:!0,path:"/forgot-password",component:Ze}),Object(ce.jsx)(u.b,{path:"/password-reset/:token",component:Ve})]}),t.isOpen&&Object(ce.jsx)(m.a,{variant:"standard",severity:t.alertType||"error",sx:{margin:"2rem auto 0 auto",borderRadius:"10px",width:"fit-content",maxWidth:"50%",flexWrap:"wrap"},children:t.message}),Object(ce.jsx)(p.a,{open:a,children:Object(ce.jsx)(j.a,{color:"inherit"})})]})})})),Ke={duplicatesData:[],selectedDocument1:{data:[],name:""},selectedDocument2:{data:[],name:""},comparisonColumn1:[],comparisonColumn2:[],resultColumns1:[],resultColumns2:[],fileSource1:"upload",fileSource2:"upload",loading:!1},Qe={step:0},Xe={firstname:"",lastname:"",email:"",company:"",pinnedFile:""},Ye={template:"[insert name],\n\nThanks for sending over your account list.\n\nAttached you\u2019ll find a list that maps both our account teams to one another. \n\nRegards,\n\n[insert your signature]\n"},et={isOpen:!1,alertType:"",message:""},tt={isLoading:!1},at=Object(c.b)({stepProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;return t.type===de?Object(h.a)(Object(h.a)({},e),{},{step:t.payload}):e},document:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return 0===t.index?Object(h.a)(Object(h.a)({},e),{},{comparisonColumn1:t.payload,resultColumns1:t.payload}):Object(h.a)(Object(h.a)({},e),{},{comparisonColumn2:t.payload,resultColumns2:t.payload});case H:return 0===t.index?Object(h.a)(Object(h.a)({},e),{},{resultColumns1:t.payload}):Object(h.a)(Object(h.a)({},e),{},{resultColumns2:t.payload});case M:return 0===t.index?Object(h.a)(Object(h.a)({},e),{},{selectedDocument1:{data:t.payload,name:t.name}}):Object(h.a)(Object(h.a)({},e),{},{selectedDocument2:{data:t.payload,name:t.name}});case G:return 0===t.index?Object(h.a)(Object(h.a)({},e),{},{fileSource1:t.payload}):Object(h.a)(Object(h.a)({},e),{},{fileSource2:t.payload});case U:return Object(h.a)(Object(h.a)({},e),{},{loading:t.payload});case q:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,duplicatesData:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(h.a)(Object(h.a)({},e),{},{email:t.payload.email,firstname:t.payload.firstname,lastname:t.payload.lastname,company:t.payload.company,pinnedFile:t.payload.pinned_filename});case z:return Object(h.a)(Object(h.a)({},e),{},{pinnedFile:t.payload});default:return e}},emailTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;return t.type===ge?Object(h.a)(Object(h.a)({},e),{},{template:t.payload}):e},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!0,alertType:"error",message:t.payload});case K:case de:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!1,alertType:"",message:""});case Q:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!0,alertType:"error",message:t.payload});case X:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!1,alertType:"",message:""});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;return t.type===me?Object(h.a)(Object(h.a)({},e),{},{isLoading:t.payload}):e}}),nt=(a(236),Object(c.c)(at,Object(c.a)(o.a)));i.a.render(Object(ce.jsx)(l.a,{store:nt,children:Object(ce.jsx)($e,{})}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.759fb66e.chunk.js.map