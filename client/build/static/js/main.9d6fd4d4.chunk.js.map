{"version":3,"sources":["components/file-selection-field/index.tsx","state/actions/document/index.ts","state/actions/alert/index.ts","state/actions/loading/index.ts","utils/validate-file-type.ts","utils/access-token.utils.ts","utils/spreadsheet.utils.ts","containers/file-selection-field/index.tsx","components/file-source-radio/index.tsx","containers/file-source-radio/index.tsx","components/comparison-column-autocomplete/index.tsx","containers/comparison-column-autocomplete/index.tsx","components/file-structure-help-modal/index.tsx","components/file-structure-radio/index.tsx","containers/file-structure-radio/index.tsx","components/unformatted-pinned-file-modal/index.tsx","containers/unformatted-pinned-file-modal/index.tsx","components/unformatted-data-textfield/index.tsx","containers/unformatted-data-textfield-container/index.tsx","components/partner-name-textfield/index.tsx","containers/partner-name-textfield/index.tsx","components/partner-company-textfield/index.tsx","containers/partner-company-textfield/index.tsx","components/file-data-preview-table/index.tsx","components/choose-column-help-modal/index.tsx","components/file-source-help-modal/index.tsx","components/pinned-file-dropdown/index.tsx","containers/pinned-file-dropdown/index.tsx","components/upload-document-column/index.tsx","containers/upload-document-column/index.tsx","utils/results-preview.utils.ts","components/results-preview-modal/index.tsx","containers/results-preview-modal/index.tsx","state/actions/user/index.ts","state/reducers/user/index.ts","utils/duplicates-table.utils.ts","components/info-tooltip/index.tsx","components/upload-document-form/index.tsx","state/actions/step-progress/index.ts","utils/update-comparison-columns.ts","containers/upload-document-form/index.tsx","components/duplicates-table/index.tsx","containers/duplicates-table/index.tsx","components/email-template/index.tsx","state/actions/email-template/index.ts","containers/email-template/index.tsx","components/stepper-footer/index.tsx","containers/stepper-footer/index.tsx","pages/home/index.tsx","containers/home/index.tsx","pages/payment/index.tsx","pages/register/index.tsx","containers/register/index.tsx","pages/email-capture/index.tsx","containers/email-capture/index.tsx","pages/login/index.tsx","containers/login/index.tsx","components/pinned-file-chip/index.tsx","containers/pinned-file-chip/index.tsx","components/edit-pinned-file-modal/index.tsx","containers/edit-pinned-file-modal/index.tsx","components/pinned-file-card/index.tsx","containers/pinned-file-card/index.tsx","components/edit-profile-form/index.tsx","containers/edit-profile-form/index.tsx","components/profile-info-card/index.tsx","pages/profile/index.tsx","containers/profile/index.tsx","pages/password-reset/index.tsx","containers/password-reset/index.tsx","pages/forgot-password/index.tsx","containers/forgot-password/index.tsx","components/private-route/index.tsx","components/nav-bar/index.tsx","containers/nav-bar/index.tsx","pages/payment-success/index.tsx","containers/payment-success/index.tsx","pages/contact-us/index.tsx","pages/landing/index.tsx","components/routes/index.tsx","containers/routes/index.tsx","state/reducers/document/index.ts","state/reducers/step-progress/index.ts","state/reducers/email-template/index.ts","state/reducers/alert/index.ts","state/reducers/loading/index.ts","state/reducers/index.ts","index.tsx"],"names":["FileSelectionField","selectedDocument","validateAndSetFileSelection","index","handleFilePinning","user","inputFileRef","useRef","Fab","variant","sx","margin","onClick","current","click","AttachFile","mr","type","ref","className","onChange","event","name","Typography","marginTop","Tooltip","title","arrow","IconButton","fileBlob","disabled","pinnedFileName","PushPin","UPLOAD_DOCUMENT_SUCCESS","SELECT_DOCUMENT","CHANGE_COMPARISON_COLUMN","PIN_FILE_SUCCESS","SET_FILE_SOURCE","SET_FILE_STRUCTURE","SET_COMPARISON_COLUMNS_ERROR","SET_ALL_COLUMNS","CHANGE_UNFORMATTED_DATA","CHANGE_PARTNER_NAME","CHANGE_PARTNER_COMPANY","SELECT_PINNED_FILE","UNFORMATTED_DATA","FORMATTED_DATA","selectDocument","document","eventFile","payload","columnChooserGridData","length","slice","changeComparisonColumn","value","pinFileSuccess","fileMetadata","SHOW_ERROR","HIDE_ERROR","SHOW_SUCCESS","HIDE_SUCCESS","showError","errorMessage","hideError","showSuccess","successMessage","hideSuccess","SET_IS_LOADING","setIsLoading","isLoading","acceptedFileTypes","checkIsValidFileType","fileName","fileNameArray","split","fileExtension","includes","toLowerCase","accessToken","setAccessToken","s","getAccessToken","createJSONFromSpreadsheet","a","arrayBuffer","data","workbook","read","sheetName","SheetNames","worksheet","Sheets","utils","sheet_to_json","defval","downloadSpreadsheetFromJSON","worksheetData","columns","forEach","row","Array","from","Object","keys","push","rowArr","map","rowProp","aoa_to_sheet","book_new","book_append_sheet","writeFile","createFileLink","url","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","getPinnedFile","pinnedFileId","axios","get","responseType","params","headers","Authorization","connect","state","dispatch","message","wsDataObj","filename","target","files","file","formData","FormData","append","email","post","then","res","setTimeout","catch","FileSourceRadio","fileSource","handleFileTypeChange","handleOpenFileSourceHelpModal","FormControl","FormLabel","marginBottom","Help","RadioGroup","FormControlLabel","control","Radio","label","pinnedFiles","selectedPinnedFileId","setFileSource","icon","CheckBoxOutlineBlank","fontSize","checkedIcon","CheckBox","ComparisonColumnAutocomplete","comparisonColumns","comparisonColumnsError","handleComparisonColumnsBlur","handleComparisonColumnFieldChange","autocompleteOptions","Autocomplete","multiple","disableCloseOnSelect","options","width","renderOption","props","option","selected","Checkbox","style","marginRight","checked","renderInput","TextField","required","error","onBlur","color","join","newValue","setComparisonColumnsError","_","formattedData","Website","DUNS","unformattedData","FileStructureHelpModal","isHelpModalOpen","handleOpenHelpModal","Dialog","open","onClose","DialogTitle","DialogContent","dividers","id","dataSource","showColumnLines","columnAutoWidth","showBorders","height","caption","calculateCellValue","FileStructureRadio","fileStructure","handleFileStructureChange","useState","setIsHelpModalOpen","setFileStructure","UnformattedPinnedFileModal","isOpen","handleClose","pinnedFileLabel","setPinnedFileLabel","columnNameForValues","setColumnNameForValues","DialogContentText","Grid","item","container","xs","p","direction","justifyContent","alignItems","e","DialogActions","Button","unformattedData1","handleProfileActionFailure","err","fileLabel","columnName","unformattedDataBlob","dataObjList","json_to_sheet","wbout","write","bookType","Uint8Array","createWorkbookBLOBFromUnformattedList","UnformattedDataTextField","handleUnformattedDataChange","isModalOpen","setIsModalOpen","multiline","maxRows","helperText","changeUnformattedData","PartnerNameTextfield","partnerName","changePartnerName","PartnerCompanyTextfield","partnerCompany","changePartnerCompany","FileDataPreviewTable","handleColumnClick","allowColumnReordering","allowColumnResizing","allColumns","colProps","colIdx","dataField","allowSorting","headerCellRender","column","indexOf","renderGridCell","defaultPageSize","visible","displayMode","showPageSizeSelector","showInfo","showNavigationButtons","ChooseColumnHelpModal","FileSourceHelpModal","PinnedFileDropdown","handlePinnedFileSelection","fullWidth","size","InputLabel","Select","MenuItem","pinned_file_id","file_label","selectPinnedFile","fileId","pinnedFileBlob","console","log","UploadDocumentColumn","setAllColumns","isChooseColumnHelpModalOpen","setIsChooseColumnHelpModalOpen","isSelectFileSourceHelpModalOpen","setIsSelectFileSourceHelpModalOpen","useEffect","filter","handleOpenChooseColumnHelpModal","createDocumentSampleRows","updateColumnsForDocument","documentNumber","updatedColumns","concat","ResultsPreviewModal","isPreviewModalOpen","handleClosePreview","resultsData","setResultsData","selectedDocument1","selectedDocument2","comparisonColumns1","comparisonColumns2","fileStructure1","fileStructure2","unformattedData2","doc1SampleData","doc2SampleData","updatedResultsData","i","reduce","rowObj","col","UPDATE_USER","updateUser","FREE","PREMIUM","initialState","firstname","lastname","company","activeSubscription","subscriptionType","freeComparisons","checkOnePersonsAccountData","capitalizeFirstLetterOfWord","word","toUpperCase","substring","isUserOutOfFreeComparisons","userFreeComparisons","userSubscriptionType","InfoTooltip","styled","classes","popper","theme","tooltipClasses","tooltip","typography","pxToRem","UploadDocumentForm","handleUploadAndCompare","setIsPreviewModalOpen","comparisonColumns1Error","comparisonColumns2Error","fileSource1","fileSource2","isSubmitBtnEnabled","isUserAccountDataValid","isPartnerAccountDataValid","userCanMakeComparisons","isSubmitButtonEnabled","spacing","Preview","Upload","CHANGE_STEP","changeStep","newStep","updateComparisonColumns","updatedCol","indexOfCol","splice","addMessageToErrorList","errorList","removeMessageFromErrorList","errMsgIndex","activeStep","stepProgress","step","uploadDocumentSuccess","docBlob1","JSON","stringify","docBlob2","DuplicatesTable","duplicatesData","allColumns1","allColumns2","dataGridRef","handleColumnChooserOpen","instance","showColumnChooser","padding","md","customizeColumns","capitalizedUserName","capitalizedFirstName","capitalizedLastName","createCapitalizedUserName","capitalizedPartnerCompany","createCapitalizedPartnerCompany","capitalizedPartnerName","createCapitalizedPartnerName","isBand","cssClass","resColumns","userAccountColumnCount","ownerBand","mode","enabled","allowSearch","groupIndex","calculateGroupValue","rowData","accuracy","groupCellRender","displayValue","showInColumnChooser","sortOrder","colName","colIndex","replace","location","locateInMenu","render","component","EmailTemplate","template","handleTemplateChange","handleCopyEmailTemplate","textAreaRef","rows","defaultValue","ContentCopy","Download","UPDATE_EMAIL_TEMPLATE","emailTemplate","updateEmailTemplate","successMsg","navigator","clipboard","writeText","StepperFooter","steps","handleBack","handleNext","Paper","position","bottom","left","right","zIndex","display","flexDirection","elevation","Box","flex","Home","Stepper","nonLinear","marginLeft","Step","StepButton","Fragment","Container","paddingBottom","maxWidth","Payment","Register","onSubmit","formik","useFormik","initialValues","password","confirmPassword","firstName","lastName","validate","values","errors","test","touched","handleBlur","handleChange","handleSubmit","setFieldValue","isSubmitButtonDisabled","to","history","useHistory","handleRegistrationFailure","customerEmail","EmailCapture","AppBar","Toolbar","edge","Close","Login","isEmailCaptureModalOpen","setIsEmailCaptureModalOpen","defaults","withCredentials","handleLoginSuccess","token","handleLoginFailure","PinnedFileChip","handlePinnedFileClick","Chip","Attachment","pinnedFileData","EditPinnedFileModal","validateFileSelection","existingPinnedFile","setPinnedFileName","pinnedFile","setPinnedFile","file_name","savePinnedFile","minWidth","PinnedFileCard","setOpen","selectedExistingPinnedFile","setSelectedExistingPinnedFile","mt","mb","Add","List","dense","key","ListItem","secondaryAction","handleEditButtonClick","Edit","ListItemAvatar","Avatar","Folder","ListItemText","primary","secondary","Divider","EditProfileForm","vals","config","ProfileInfoCard","handleManageSubscriptionClick","handleCreateCheckoutSession","isEditing","setIsEditing","hasActiveSubscription","setHasActiveSubscription","Profile","checkSubscriptionAndRefreshAuth","query","URLSearchParams","search","sessionId","updateCustomerSubscriptionInfo","refreshUserAuthStatus","handleProfileLoginSuccess","isComingFromProfilePage","PasswordReset","useParams","ForgotPassword","PrivateRoute","useLocation","pathname","NavBar","handleLogout","React","anchorEl","setAnchorEl","handleHomeClick","flexGrow","Handshake","currentTarget","AccountCircle","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","textDecoration","SuccessDisplay","CheckCircle","ContactUs","LandingPage","backgroundColor","borderRadius","src","alt","Routes","alert","loading","handleAlertClose","exact","path","HomeContainer","LoginContainer","RegisterContainer","SuccessDisplayContainer","ProfileContainer","ForgotPasswordContainer","PasswordResetContainer","Alert","severity","alertType","transform","flexWrap","Backdrop","CircularProgress","MISMATCHED_COLUMNS_ERR","TOO_MANY_COLUMNS_ERR","REQUIRED_ERR","rootReducer","combineReducers","action","errorMsg1","errorMsg2","errorMsg","active_subscription","subscription_type","free_comparisons","newPinnedFile","pinnedFileIndex","findIndex","newPinnedFiles","store","createStore","applyMiddleware","logger","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.9d6fd4d4.chunk.js","sourcesContent":["import React, { useRef } from 'react';\r\nimport { AttachFile, PushPin } from '@mui/icons-material';\r\nimport {\r\n  Fab,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  validateAndSetFileSelection: any;\r\n  selectedDocument: any;\r\n  index: number;\r\n  handleFilePinning: any;\r\n  user: UserState;\r\n}\r\n\r\nconst FileSelectionField = ({\r\n  selectedDocument,\r\n  validateAndSetFileSelection,\r\n  index,\r\n  handleFilePinning,\r\n  user\r\n}: Props) => {\r\n  const inputFileRef: any = useRef( null );\r\n  \r\n  /**\r\n   * Triggers the clicking of the hidden input (type=file) button\r\n   */\r\n   const handleFileSelectionBtnClick = () => {\r\n    /*Collecting node-element and performing click*/\r\n    if (inputFileRef&& inputFileRef.current) {\r\n      inputFileRef.current.click();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Fab\r\n        variant=\"extended\"\r\n        aria-label=\"add\"\r\n        sx={{ margin: '0.5rem auto 0' }}\r\n        onClick={handleFileSelectionBtnClick}\r\n      >\r\n        <AttachFile sx={{ mr: 1 }} />\r\n        Select File\r\n      </Fab>\r\n      <input\r\n        type=\"file\"\r\n        ref={inputFileRef}\r\n        className=\"file-input\"\r\n        onChange={(event: any) => validateAndSetFileSelection(event, index)}\r\n        name=\"sales_file\"\r\n      />\r\n      {selectedDocument && selectedDocument.name &&\r\n        <div className=\"selected-file-div\">\r\n          <Typography variant=\"subtitle1\" sx={{ marginTop: '1rem' }}>\r\n            {selectedDocument.name}\r\n          </Typography>\r\n          {index === 0 && (\r\n            <Tooltip title=\"Pin a list for future comparisons\" arrow>\r\n              <IconButton\r\n                sx={{ margin: '0.5rem' }}\r\n                onClick={() => handleFilePinning(selectedDocument.fileBlob)}\r\n                disabled={user.pinnedFileName === selectedDocument.name}\r\n              >\r\n                <PushPin />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FileSelectionField;","export const UPLOAD_DOCUMENT_SUCCESS = 'UPLOAD_DOCUMENT_SUCCESS';\r\nexport const SELECT_DOCUMENT = 'SELECT_DOCUMENT';\r\nexport const CHANGE_COMPARISON_COLUMN = 'CHANGE_COMPARISON_COLUMN';\r\nexport const CHANGE_RESULT_COLUMNS = 'CHANGE_RESULT_COLUMNS';\r\nexport const PIN_FILE_SUCCESS = 'PIN_FILE_SUCCESS';\r\nexport const SET_FILE_SOURCE = 'SET_FILE_SOURCE';\r\nexport const SET_FILE_STRUCTURE = 'SET_FILE_STRUCTURE';\r\nexport const SET_COMPARISON_COLUMNS_ERROR = 'SET_COMPARISON_COLUMNS_ERROR';\r\nexport const SET_ALL_COLUMNS = 'SET_ALL_COLUMNS';\r\nexport const CHANGE_UNFORMATTED_DATA = 'CHANGE_UNFORMATTED_DATA';\r\nexport const CHANGE_PARTNER_NAME = 'CHANGE_PARTNER_NAME';\r\nexport const CHANGE_PARTNER_COMPANY = 'CHANGE_PARTNER_COMPANY';\r\nexport const SELECT_PINNED_FILE = 'SELECT_PINNED_FILE';\r\n\r\n// Constants for file structure\r\nexport const UNFORMATTED_DATA = 'UNFORMATTED_DATA';\r\nexport const FORMATTED_DATA = 'FORMATTED_DATA';\r\n\r\nexport const uploadDocumentSuccess = (duplicatesData: any) => ({\r\n  type: UPLOAD_DOCUMENT_SUCCESS,\r\n  payload: duplicatesData\r\n});\r\n\r\nexport const selectDocument = (\r\n  document: any,\r\n  index: number,\r\n  name: string,\r\n  eventFile: any\r\n) => {\r\n  return {\r\n    type: SELECT_DOCUMENT,\r\n    payload: document,\r\n    index,\r\n    name,\r\n    columnChooserGridData: document.length > 2 ?\r\n      document.slice(0, 2) :\r\n      document,\r\n    fileBlob: eventFile\r\n  };\r\n}\r\n\r\nexport const changeComparisonColumn = (value: Array<string>, index: number) => ({\r\n  type: CHANGE_COMPARISON_COLUMN,\r\n  payload: value,\r\n  index\r\n});\r\n\r\nexport const pinFileSuccess = (fileMetadata: any) => ({\r\n  type: PIN_FILE_SUCCESS,\r\n  payload: fileMetadata\r\n});\r\n\r\nexport const setFileSource = (index: number, value: string) => ({\r\n  type: SET_FILE_SOURCE,\r\n  index,\r\n  payload: value\r\n});\r\n\r\nexport const setFileStructure = (index: number, value: string) => ({\r\n  type: SET_FILE_STRUCTURE,\r\n  index,\r\n  payload: value\r\n});\r\n\r\nexport const changeUnformattedData = (index: number, value: string) => ({\r\n  type: CHANGE_UNFORMATTED_DATA,\r\n  index,\r\n  payload: value\r\n});\r\n\r\nexport const setComparisonColumnsError = (value: Array<string>, index: number) => {\r\n  return {\r\n    type: SET_COMPARISON_COLUMNS_ERROR,\r\n    payload: value,\r\n    index\r\n  }\r\n}\r\n\r\nexport const setAllColumns = (columns: Array<string>, index: number) => ({\r\n  type: SET_ALL_COLUMNS,\r\n  payload: columns,\r\n  index\r\n});\r\n\r\nexport const changePartnerName = (value: string) => ({\r\n  type: CHANGE_PARTNER_NAME,\r\n  payload: value\r\n});\r\n\r\nexport const changePartnerCompany = (value: string) => ({\r\n  type: CHANGE_PARTNER_COMPANY,\r\n  payload: value\r\n});\r\n\r\nexport const selectPinnedFile = (value: string) => ({\r\n  type: SELECT_PINNED_FILE,\r\n  payload: value\r\n});","export const SHOW_ERROR = 'SHOW_ERROR';\r\nexport const HIDE_ERROR = 'HIDE_ERROR';\r\nexport const SHOW_SUCCESS = 'SHOW_SUCCESS';\r\nexport const HIDE_SUCCESS = 'HIDE_SUCCESS';\r\n\r\nexport const showError = (errorMessage: string) => ({\r\n  type: SHOW_ERROR,\r\n  payload: errorMessage\r\n});\r\n\r\nexport const hideError = () => ({\r\n  type: HIDE_ERROR\r\n});\r\n\r\nexport const showSuccess = (successMessage: string) => ({\r\n  type: SHOW_SUCCESS,\r\n  payload: successMessage\r\n});\r\n\r\nexport const hideSuccess = () => ({\r\n  type: HIDE_ERROR\r\n});","export const SET_IS_LOADING = 'SET_IS_LOADING';\r\n\r\nexport const setIsLoading = (isLoading: boolean) => ({\r\n  type: SET_IS_LOADING,\r\n  payload: isLoading\r\n});","const acceptedFileTypes = ['xls', 'xlsx', 'csv'];\r\n\r\nexport const checkIsValidFileType = (fileName: string): boolean => {\r\n  const fileNameArray: Array<string> = fileName.split('.');\r\n  const fileExtension: string = fileNameArray[fileNameArray.length - 1];\r\n  return acceptedFileTypes.includes(fileExtension.toLowerCase());\r\n}","let accessToken = '';\r\n\r\nexport const setAccessToken = (s: string) => {\r\n  accessToken = s;\r\n};\r\n\r\nexport const getAccessToken = () => {\r\n  return accessToken;\r\n};","import { WorkSheet, WorkBook, utils, read, writeFile, write } from 'xlsx';\r\nimport axios from 'axios';\r\nimport { getAccessToken } from './access-token.utils';\r\n\r\nexport const createJSONFromSpreadsheet = async (document: any) => {\r\n  const data = await document.arrayBuffer();\r\n  const workbook = read(data);\r\n  const sheetName: string = workbook.SheetNames[0];\r\n  const worksheet: WorkSheet | null = workbook && workbook.Sheets ?\r\n    workbook.Sheets[sheetName as any] : null;\r\n\r\n  if (worksheet) {\r\n    return utils.sheet_to_json(worksheet, { defval: '' });\r\n  }\r\n  return [];\r\n}\r\n\r\nexport const downloadSpreadsheetFromJSON = async (data: Array<any>) => {\r\n  const worksheetData: Array<Array<any>> = [];\r\n  let columns: Array<string> = [];\r\n  data.forEach((row: any, index: number) => {\r\n    if (index === 0) {\r\n      columns = Array.from(Object.keys(row));\r\n      worksheetData.push(columns);\r\n    }\r\n    const rowArr = columns.map((rowProp: string) => row[rowProp]);\r\n    worksheetData.push(rowArr);\r\n  });\r\n  const worksheet: WorkSheet = utils.aoa_to_sheet(worksheetData);\r\n  const workbook: WorkBook = utils.book_new();\r\n  utils.book_append_sheet(workbook, worksheet, 'Sheet1');\r\n  writeFile(workbook, 'account-mapping.xls');\r\n}\r\n\r\nexport const createWorkbookBLOBFromUnformattedList = (unformattedData: string, columnName: string) => {\r\n  const dataArray: Array<string> = unformattedData.split('\\n');\r\n  const dataObjList: Array<any> = dataArray.map((item: any) => {\r\n    return { [columnName]: item };\r\n  });\r\n  const worksheet: WorkSheet = utils.json_to_sheet(dataObjList);\r\n\r\n  const workbook: WorkBook = utils.book_new();\r\n  utils.book_append_sheet(workbook, worksheet, 'Sheet1');\r\n  const wbout = write(workbook, { bookType: 'xlsx', type: 'array' });\r\n\r\n  /* prepare data for POST */\r\n  return new Blob([new Uint8Array(wbout)], {type: 'application/octet-stream'});\r\n}\r\n\r\nexport const createFileLink = (data: any, pinnedFileName: string) => {\r\n  const url = window.URL.createObjectURL(new Blob([data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.setAttribute('download', pinnedFileName);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n\r\nexport const getPinnedFile = (pinnedFileId: string) => {\r\n  return axios.get('/api/v1/viewpinnedfile',\r\n    {\r\n      responseType: 'blob',\r\n      params: { pinnedFileId },\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}` //the token is a variable which holds the token\r\n      }\r\n    }\r\n  );\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport FileSelectionField from '../../components/file-selection-field';\r\nimport { pinFileSuccess, selectDocument } from '../../state/actions/document';\r\nimport { showError, hideError, showSuccess, hideSuccess } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { checkIsValidFileType } from '../../utils/validate-file-type';\r\nimport { createJSONFromSpreadsheet } from '../../utils/spreadsheet.utils';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport axios from 'axios';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n  selectDocument: any;\r\n  index: number;\r\n  user: UserState;\r\n  pinFileSuccess: any;\r\n  showSuccess: any;\r\n  hideSuccess: any;\r\n}\r\n\r\nconst FileSelectionFieldContainer = ({\r\n  selectedDocument,\r\n  showError,\r\n  hideError,\r\n  setIsLoading,\r\n  selectDocument,\r\n  index,\r\n  user,\r\n  pinFileSuccess,\r\n  showSuccess,\r\n  hideSuccess\r\n}: Props) => {\r\n\r\n  /**\r\n   * When the user selects a document, validate the file type\r\n   * @param event \r\n   */\r\n   const validateAndSetFileSelection = async (event: any, index: number) => {\r\n    setIsLoading(true);\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    const isValidDocType: boolean = document && document.name ?\r\n      checkIsValidFileType(document.name) : false;\r\n\r\n    if (isValidDocType) {\r\n      hideError();\r\n      const wsDataObj: Array<any> = await createJSONFromSpreadsheet(document);\r\n      selectDocument(wsDataObj, index, document.name, document);\r\n      setIsLoading(false);\r\n    } else {\r\n      showError('Invalid file type. Only .xls, .xlsx, or .csv files can be processed.');\r\n    }\r\n  };\r\n\r\n  const handleFilePinning = (file: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    if (\r\n      file &&\r\n      file.name\r\n    ) {\r\n      formData.append(\r\n        'sales_file',\r\n        file,\r\n        file.name\r\n      );\r\n      formData.append(\r\n        'email',\r\n        user.email\r\n      );\r\n    }\r\n    axios.post('/api/v1/pinfile', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    })\r\n      .then((res: any) => {\r\n        pinFileSuccess(res.data);\r\n        hideError();\r\n        setIsLoading(false);\r\n        showSuccess('Successfully pinned file');\r\n        setTimeout(() => {\r\n          hideSuccess();\r\n        }, 5000);\r\n      })\r\n      .catch(() => {\r\n        setIsLoading(false);\r\n        showError('Failed to pin file');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 7500)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <FileSelectionField\r\n      selectedDocument={selectedDocument}\r\n      validateAndSetFileSelection={validateAndSetFileSelection}\r\n      index={index}\r\n      handleFilePinning={handleFilePinning}\r\n      user={user}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showSuccess: (message: string) => dispatch(showSuccess(message)),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  selectDocument: (wsDataObj: any, index: number, filename: string, document: any) => dispatch(selectDocument(wsDataObj, index, filename, document)),\r\n  pinFileSuccess: (fileMetadata: any) => dispatch(pinFileSuccess(fileMetadata)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileSelectionFieldContainer);","import React from 'react';\r\nimport {\r\n  FormControlLabel,\r\n  FormControl,\r\n  Radio,\r\n  RadioGroup,\r\n  FormLabel,\r\n  IconButton\r\n} from '@mui/material';\r\nimport { Help } from '@mui/icons-material';\r\n\r\ninterface Props {\r\n  fileSource: string;\r\n  handleFileTypeChange: any;\r\n  handleOpenFileSourceHelpModal?: any;\r\n  index: number;\r\n}\r\n\r\nconst FileSourceRadio = ({\r\n  fileSource,\r\n  handleFileTypeChange,\r\n  handleOpenFileSourceHelpModal,\r\n  index\r\n}: Props) => {\r\n  return (\r\n    <FormControl>\r\n      {/* <IconButton onClick={handleOpenFileSourceHelpModal}><Help /></IconButton> */}\r\n      <FormLabel sx={{ marginTop: '4rem', marginBottom: '0.25rem' }}>Do you want to upload a new file or use one of your pinned files? <IconButton onClick={handleOpenFileSourceHelpModal}><Help /></IconButton></FormLabel>\r\n      <RadioGroup\r\n        aria-labelledby=\"demo-controlled-radio-buttons-group\"\r\n        name=\"controlled-radio-buttons-group\"\r\n        row\r\n        value={fileSource}\r\n        onChange={(event: any) => handleFileTypeChange(event, index)}\r\n        sx={{ margin: '0 auto' }}\r\n      >\r\n        <FormControlLabel value=\"upload\" control={<Radio />} label=\"Upload a new file\" />\r\n        <FormControlLabel value=\"pinned\" control={<Radio />} label=\"Use a pinned file\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default FileSourceRadio;","import React from 'react';\r\nimport FileSourceRadio from '../../components/file-source-radio';\r\nimport { connect } from 'react-redux';\r\nimport { selectDocument, setFileSource } from '../../state/actions/document';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  selectDocument: any;\r\n  setFileSource: any;\r\n  fileSource: string;\r\n  handleOpenFileSourceHelpModal: any;\r\n  index: number;\r\n}\r\n\r\nconst FileSourceRadioContainer = ({\r\n  selectDocument,\r\n  setFileSource,\r\n  fileSource,\r\n  handleOpenFileSourceHelpModal,\r\n  index\r\n}: Props) => {\r\n\r\n  const handleFileTypeChange = async (event: any, index: number) => {\r\n    setFileSource(index, event.target.value);\r\n    if (event.target.value === 'upload') {\r\n      selectDocument([], index, '');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FileSourceRadio\r\n      handleFileTypeChange={handleFileTypeChange}\r\n      handleOpenFileSourceHelpModal={handleOpenFileSourceHelpModal}\r\n      fileSource={fileSource}\r\n      index={index}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  pinnedFiles: state.user.pinnedFiles,\r\n  selectedPinnedFileId: state.document.selectedPinnedFileId\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  selectDocument: (wsDataObj: any, index: number, filename: string, fileBlob: any) => dispatch(selectDocument(wsDataObj, index, filename, fileBlob)),\r\n  setFileSource: (index: number, event: any) => dispatch(setFileSource(index, event)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileSourceRadioContainer);","import React from 'react';\r\nimport { TextField, Autocomplete, Typography, Checkbox } from '@mui/material';\r\nimport { CheckBoxOutlineBlank, CheckBox } from '@mui/icons-material';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: Array<string>;\r\n  handleComparisonColumnsBlur: any;\r\n  handleComparisonColumnFieldChange: any;\r\n  index: number;\r\n}\r\n\r\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBox fontSize=\"small\" />;\r\n\r\nconst ComparisonColumnAutocomplete = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  handleComparisonColumnsBlur,\r\n  handleComparisonColumnFieldChange,\r\n}: Props) => {\r\n  const autocompleteOptions: Array<string> = selectedDocument && selectedDocument.data && selectedDocument.data[0] ?\r\n    Array.from(Object.keys(selectedDocument.data[0])) :\r\n    [];\r\n\r\n  return (\r\n    <>\r\n      <Autocomplete\r\n        multiple={true}\r\n        disableCloseOnSelect={true}\r\n        options={autocompleteOptions}\r\n        onChange={handleComparisonColumnFieldChange}\r\n        value={comparisonColumns}\r\n        sx={{ width: '100%' }}\r\n        renderOption={(props, option, { selected }) => (\r\n          <li {...props}>\r\n            <Checkbox\r\n              icon={icon}\r\n              checkedIcon={checkedIcon}\r\n              style={{ marginRight: 8 }}\r\n              checked={selected}\r\n            />\r\n            {option}\r\n          </li>\r\n        )}\r\n        renderInput={(params: any) => (<TextField\r\n          {...params}\r\n          variant=\"standard\"\r\n          required={true}\r\n          error={!!comparisonColumnsError.length}\r\n          onBlur={handleComparisonColumnsBlur}\r\n        />)}\r\n      />\r\n      {!!comparisonColumnsError.length && <Typography variant=\"caption\" sx={{ color: '#d32f2f' }}>{comparisonColumnsError.join('\\n')}</Typography>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ComparisonColumnAutocomplete;","import React from 'react';\r\nimport ComparisonColumnAutocomplete from '../../components/comparison-column-autocomplete';\r\nimport { connect } from 'react-redux';\r\nimport { changeComparisonColumn, setComparisonColumnsError } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  changeComparisonColumn: any;\r\n  comparisonColumnsError: Array<string>;\r\n  setComparisonColumnsError: any;\r\n  index: number;\r\n}\r\n\r\nconst ComparisonColumnAutocompleteContainer = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  changeComparisonColumn,\r\n  comparisonColumnsError,\r\n  setComparisonColumnsError,\r\n  index\r\n}: Props) => {\r\n  const handleComparisonColumnFieldChange = (_: any, newValue: Array<string>) => {\r\n    changeComparisonColumn(newValue, index);\r\n    // setComparisonColumnsError(newValue, index)\r\n  };\r\n\r\n  const handleComparisonColumnsBlur = () => {\r\n    setComparisonColumnsError(comparisonColumns, index)\r\n  };\r\n\r\n  return (\r\n    <ComparisonColumnAutocomplete\r\n      selectedDocument={selectedDocument}\r\n      comparisonColumns={comparisonColumns}\r\n      comparisonColumnsError={comparisonColumnsError}\r\n      handleComparisonColumnsBlur={handleComparisonColumnsBlur}\r\n      handleComparisonColumnFieldChange={handleComparisonColumnFieldChange}\r\n      index={index}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeComparisonColumn: (newValue: Array<string>, index: number) => dispatch(changeComparisonColumn(newValue, index)),\r\n  setComparisonColumnsError: (newValue: Array<string>, index: number) => dispatch(setComparisonColumnsError(newValue, index))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ComparisonColumnAutocompleteContainer);","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Typography\r\n} from '@mui/material';\r\nimport DataGrid, { Column } from 'devextreme-react/data-grid';\r\n\r\nconst formattedData = [\r\n  { 'Account Name': 'Pepsi Co.', Website: 'pepsi.com', 'Account Manager': 'Thomas Henry', DUNS: 123453 },\r\n  { 'Account Name': 'Tropicana', Website: 'tropicana.com', 'Account Manager': 'Jennifer Shaw', DUNS: 345234 },\r\n  { 'Account Name': 'Gatorade', Website: 'gatorade.com', 'Account Manager': 'Kim Yi', DUNS: 645345 }\r\n];\r\n\r\nconst unformattedData = [\r\n  'Pepsi Co.',\r\n  'Tropicana',\r\n  'Gatorade'\r\n];\r\n\r\ninterface Props {\r\n  isHelpModalOpen: boolean;\r\n  handleOpenHelpModal: any;\r\n}\r\n\r\nconst FileStructureHelpModal = ({ isHelpModalOpen, handleOpenHelpModal }: Props) => {\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={isHelpModalOpen}\r\n        onClose={handleOpenHelpModal}\r\n      >\r\n        <DialogTitle>File Data vs. Copy/pasted Data</DialogTitle>\r\n        <DialogContent dividers={true}>\r\n        <Typography variant=\"body2\">File data comes from an Excel spreadsheet, a CSV, or a Google Sheet. There are defined columns, and each row represents an account.\r\n        names.</Typography>\r\n        <Typography variant=\"body2\" sx={{ marginTop: '1rem' }}>Formatted data example:</Typography>\r\n        <DataGrid\r\n          id=\"formattedGridContainer\"\r\n          dataSource={formattedData}\r\n          showColumnLines={true}\r\n          columnAutoWidth={true}\r\n          showBorders={true}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        />\r\n        <Typography variant=\"body2\" sx={{ marginTop: '1.5rem' }}>With a copy/pasted list of account data, there is a lack of defined column\r\n        names. If your data is being copied from a file (a non-Excel file, or a list with no defined columns), only copy/paste 1 column that you think would lead to the most\r\n        precise match when mapped to a column from the other file.</Typography>\r\n        <Typography variant=\"body2\" sx={{ marginTop: '1rem' }}>Unformatted data example:</Typography>\r\n        <DataGrid \r\n          id=\"unformattedGridContainer\"\r\n          dataSource={unformattedData}\r\n          showColumnLines={true}\r\n          columnAutoWidth={true}\r\n          showBorders={true}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        >\r\n          <Column caption=\"\" calculateCellValue={(data: any) => data} />\r\n        </DataGrid>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileStructureHelpModal;","import React, { useState } from 'react';\r\nimport {\r\n  FormControlLabel,\r\n  FormControl,\r\n  Radio,\r\n  RadioGroup,\r\n  FormLabel,\r\n  IconButton\r\n} from '@mui/material';\r\nimport { Help } from '@mui/icons-material';\r\nimport FileStructureHelpModal from '../file-structure-help-modal';\r\nimport { FORMATTED_DATA, UNFORMATTED_DATA } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  fileStructure: string;\r\n  handleFileStructureChange: any;\r\n  index: number;\r\n}\r\n\r\nconst FileStructureRadio = ({ fileStructure, handleFileStructureChange, index }: Props) => {\r\n  const [isHelpModalOpen, setIsHelpModalOpen] = useState(false);\r\n\r\n  const handleOpenHelpModal = () => {\r\n    setIsHelpModalOpen(!isHelpModalOpen);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <FormControl>\r\n        <FormLabel>Do you want to use a spreadsheet file or copy/paste a list of accounts? <IconButton onClick={handleOpenHelpModal}><Help /></IconButton></FormLabel>\r\n        <RadioGroup\r\n          row\r\n          aria-labelledby=\"demo-controlled-radio-buttons-group\"\r\n          name=\"controlled-radio-buttons-group\"\r\n          value={fileStructure}\r\n          onChange={(event: any) => handleFileStructureChange(event, index)}\r\n          sx={{ margin: '0 auto' }}\r\n        >\r\n          <FormControlLabel value={FORMATTED_DATA} control={<Radio />} label=\"Use a file\" />\r\n          <FormControlLabel value={UNFORMATTED_DATA} control={<Radio />} label=\"Copy/paste a list\" />\r\n        </RadioGroup>\r\n      </FormControl>\r\n      <FileStructureHelpModal isHelpModalOpen={isHelpModalOpen} handleOpenHelpModal={handleOpenHelpModal} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileStructureRadio;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport FileStructureRadio from '../../components/file-structure-radio';\r\nimport { setFileStructure } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  fileStructure: string;\r\n  setFileStructure: any;\r\n  index: number;\r\n}\r\n\r\nconst FileStructureRadioContainer = ({\r\n  setFileStructure,\r\n  fileStructure,\r\n  index\r\n}: Props) => {\r\n  const handleFileStructureChange = (event: any, index: number) => {\r\n    setFileStructure(index, event.target.value);\r\n  }\r\n\r\n  return (\r\n    <FileStructureRadio\r\n      handleFileStructureChange={handleFileStructureChange}\r\n      fileStructure={fileStructure}\r\n      index={index}\r\n    />\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state: any) => ({\r\n//   fileStructure1: state.document.fileStructure1,\r\n//   fileStructure2: state.document.fileStructure2,\r\n// });\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  setFileStructure: (index: number, event: any) => dispatch(setFileStructure(index, event))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(FileStructureRadioContainer);","import React, { useEffect, useRef, useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { Grid } from '@mui/material';\r\n\r\ninterface Props {\r\n  isOpen: boolean;\r\n  handleClose: any;\r\n  handleFilePinning: any;\r\n}\r\n\r\nconst UnformattedPinnedFileModal = ({\r\n  isOpen,\r\n  handleClose,\r\n  handleFilePinning\r\n}: Props) => {\r\n  const [pinnedFileLabel, setPinnedFileLabel] = useState('');\r\n  const [columnNameForValues, setColumnNameForValues] = useState('');\r\n  // const [pinnedFile, setPinnedFile] = useState();\r\n\r\n  const handlePinnedFileLabel = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPinnedFileLabel(e.target.value);\r\n  }\r\n\r\n  const handleColumnNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setColumnNameForValues(e.target.value);\r\n  }\r\n\r\n  const savePinnedFile = () => {\r\n    handleFilePinning(pinnedFileLabel, columnNameForValues);\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onClose={handleClose}>\r\n        <DialogTitle>Pin unformatted list</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText sx={{ marginBottom: '2rem' }}>\r\n            To save time on future account list comparisons, save this list as a pinned file that you will regularly be\r\n            comparing with your partner reps' lists.\r\n          </DialogContentText>\r\n          <Grid\r\n            item\r\n            container\r\n            xs={12}\r\n            p={1}\r\n            direction=\"column\"\r\n            justifyContent=\"start\"\r\n            alignItems=\"start\"\r\n          >\r\n            <TextField\r\n              id=\"standard-basic\"\r\n              label=\"Label your pinned file\"\r\n              name=\"pinnedFileLabel\"\r\n              variant=\"standard\"\r\n              sx={{ width: '100%', marginBottom: '2rem' }}\r\n              onChange={handlePinnedFileLabel}\r\n              value={pinnedFileLabel}\r\n            />\r\n            <TextField\r\n              id=\"standard-basic\"\r\n              label=\"Column header for copy pasted data (i.e. what is this data? Website, DUNS, or something else?)\"\r\n              name=\"columnName\"\r\n              variant=\"standard\"\r\n              sx={{ width: '100%', marginBottom: '2rem' }}\r\n              onChange={handleColumnNameChange}\r\n              value={columnNameForValues}\r\n            />\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button onClick={savePinnedFile}>Save</Button>\r\n          {/* <Button onClick={() => {}}>Save & Leave Profile</Button> */}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UnformattedPinnedFileModal;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { WorkSheet, WorkBook, utils, read, write } from 'xlsx';\r\nimport { connect } from 'react-redux';\r\nimport { pinFileSuccess } from '../../state/actions/document';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport UnformattedPinnedFileModal from '../../components/unformatted-pinned-file-modal';\r\nimport { createWorkbookBLOBFromUnformattedList, downloadSpreadsheetFromJSON } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  pinFileSuccess: any;\r\n  isOpen: boolean;\r\n  handleClose: any;\r\n  unformattedData: string;\r\n}\r\n\r\nconst UnformattedPinnedFileModalContainer = ({\r\n  user,\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  pinFileSuccess,\r\n  isOpen,\r\n  handleClose,\r\n  unformattedData\r\n}: Props) => {\r\n\r\n  const handleFilePinning = (fileLabel: string, columnName: string) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', user.email);\r\n\r\n    if (fileLabel) {\r\n      formData.append('file_label', fileLabel);\r\n    }\r\n\r\n    const unformattedDataBlob = createWorkbookBLOBFromUnformattedList(unformattedData, columnName);\r\n    formData.append('sales_file', unformattedDataBlob, `${fileLabel}.xlsx`);\r\n\r\n    axios.post('/api/v1/pinfile', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    })\r\n      .then((res: any) => {\r\n        pinFileSuccess(res.data);\r\n        hideError();\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => handleProfileActionFailure(err, 'Failed to pin file'));\r\n  }\r\n\r\n  const handleProfileActionFailure = (err: any, errorMessage: string) => {\r\n    setIsLoading(false);\r\n    showError(errorMessage);\r\n    setTimeout(() => {\r\n      hideError();\r\n    }, 7500)\r\n  }\r\n\r\n  return (\r\n    <UnformattedPinnedFileModal\r\n      isOpen={isOpen}\r\n      handleClose={handleClose}\r\n      handleFilePinning={handleFilePinning}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user,\r\n  unformattedData: state.document.unformattedData1\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  pinFileSuccess: (fileMetadata: any) => dispatch(pinFileSuccess(fileMetadata))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UnformattedPinnedFileModalContainer);","import React, { useState } from 'react';\r\nimport UnformattedPinnedFileModalContainer from '../../containers/unformatted-pinned-file-modal';\r\nimport { IconButton, TextField, FormLabel, Tooltip } from '@mui/material';\r\nimport { PushPin } from '@mui/icons-material';\r\n\r\ninterface Props {\r\n  unformattedData: string;\r\n  handleUnformattedDataChange: any;\r\n}\r\n\r\nconst UnformattedDataTextField = ({\r\n  unformattedData,\r\n  handleUnformattedDataChange\r\n}: Props) => {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormLabel sx={{ marginBottom: '0.25rem' }}>\r\n        Copy and Paste unformatted data <Tooltip title=\"Pin a list for future comparisons\" arrow>\r\n            <IconButton sx={{ margin: '0.5rem' }} onClick={() => setIsModalOpen(true)}><PushPin /></IconButton>\r\n          </Tooltip>\r\n      </FormLabel>\r\n      <TextField\r\n        multiline\r\n        maxRows={5}\r\n        variant=\"standard\"\r\n        sx={{ width: '100%' }}\r\n        helperText=\"Limit: 4000 rows\"\r\n        value={unformattedData}\r\n        onChange={handleUnformattedDataChange}\r\n      />\r\n      {isModalOpen && <UnformattedPinnedFileModalContainer isOpen={isModalOpen} handleClose={handleClose} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UnformattedDataTextField;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport UnformattedDataTextField from '../../components/unformatted-data-textfield';\r\nimport { changeUnformattedData } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  unformattedData: string;\r\n  index: number;\r\n  changeUnformattedData: any;\r\n}\r\n\r\nconst UnformattedDataTextFieldContainer = ({\r\n  unformattedData,\r\n  index,\r\n  changeUnformattedData\r\n}: Props) => {\r\n  const handleUnformattedDataChange = (event: any) => {\r\n    changeUnformattedData(index, event.target.value);\r\n  }\r\n\r\n  return (\r\n    <UnformattedDataTextField\r\n      handleUnformattedDataChange={handleUnformattedDataChange}\r\n      unformattedData={unformattedData}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeUnformattedData: (index: number, value: string) => dispatch(changeUnformattedData(index, value))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(UnformattedDataTextFieldContainer)","import React from 'react';\r\nimport { TextField } from '@mui/material';\r\n\r\ninterface Props {\r\n  partnerName: string;\r\n  changePartnerName: any;\r\n}\r\n\r\nconst PartnerNameTextfield = ({\r\n  partnerName,\r\n  changePartnerName\r\n}: Props) => {\r\n  return (\r\n    <>\r\n      <TextField\r\n        helperText=\"Partner Sales Rep Name\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%' }}\r\n        value={partnerName}\r\n        onChange={changePartnerName}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PartnerNameTextfield;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PartnerNameTextfield from '../../components/partner-name-textfield';\r\nimport { changePartnerName } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  partnerName: string;\r\n  changePartnerName: any;\r\n}\r\n\r\nconst PartnerNameTextFieldContainer = ({\r\n  partnerName,\r\n  changePartnerName\r\n}: Props) => {\r\n  return (\r\n    <PartnerNameTextfield partnerName={partnerName} changePartnerName={changePartnerName} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  partnerName: state.document.partnerName\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changePartnerName: (event: any) => dispatch(changePartnerName(event.target.value))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PartnerNameTextFieldContainer);","import React from 'react';\r\nimport { TextField } from '@mui/material';\r\n\r\ninterface Props {\r\n  partnerCompany: string;\r\n  changePartnerCompany: any;\r\n}\r\n\r\nconst PartnerCompanyTextfield = ({\r\n  partnerCompany,\r\n  changePartnerCompany\r\n}: Props) => {\r\n  return (\r\n    <>\r\n      <TextField\r\n        helperText=\"Partner Company\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%' }}\r\n        value={partnerCompany}\r\n        onChange={changePartnerCompany}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PartnerCompanyTextfield;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PartnerCompanyTextfield from '../../components/partner-company-textfield';\r\nimport { changePartnerCompany } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  partnerCompany: string;\r\n  changePartnerCompany: any;\r\n}\r\n\r\nconst PartnerCompanyTextFieldContainer = ({\r\n  partnerCompany,\r\n  changePartnerCompany\r\n}: Props) => {\r\n  return (\r\n    <PartnerCompanyTextfield partnerCompany={partnerCompany} changePartnerCompany={changePartnerCompany} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  partnerCompany: state.document.partnerCompany\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changePartnerCompany: (event: any) => dispatch(changePartnerCompany(event.target.value))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PartnerCompanyTextFieldContainer);","import React from 'react';\r\nimport { Typography, Checkbox } from '@mui/material';\r\nimport { Column, DataGrid, Pager, Paging } from 'devextreme-react/data-grid';\r\nimport { SelectedDocument } from '../../state/reducers/document';\r\n\r\ninterface Props {\r\n  selectedDocument: SelectedDocument;\r\n  handleColumnClick: any;\r\n  comparisonColumns: Array<string>;\r\n  index: number;\r\n}\r\n\r\nconst renderGridCell = (\r\n  data: any,\r\n  handleColumnClick: any,\r\n  comparisonColumns: Array<string>,\r\n  index: number\r\n) => {\r\n  return (\r\n    <div>\r\n      {data.column? data.column.dataField : data}\r\n      <Checkbox\r\n        onClick={() => {\r\n          handleColumnClick(data, index)\r\n        }}\r\n        checked={comparisonColumns.indexOf(data) > -1}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst FileDataPreviewTable = ({\r\n  selectedDocument,\r\n  handleColumnClick,\r\n  comparisonColumns,\r\n  index\r\n}: Props) => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"subtitle1\" sx={{ margin: '2rem 0 0'}}>\r\n      </Typography>\r\n      <DataGrid\r\n        id=\"gridContainer\"\r\n        dataSource={selectedDocument.columnChooserGridData}\r\n        allowColumnReordering={true}\r\n        allowColumnResizing={true}\r\n        columnAutoWidth={true}\r\n        showBorders={true}\r\n      >\r\n        {selectedDocument.allColumns ? selectedDocument.allColumns.map((colProps: any, colIdx: number) => {\r\n          return (\r\n            <Column\r\n              dataField={colProps}\r\n              allowSorting={false}\r\n              key={`col-${colIdx}-1`}\r\n              headerCellRender={() => renderGridCell(colProps, handleColumnClick, comparisonColumns, index)}\r\n            />\r\n          );\r\n        }) : []}\r\n        <Paging defaultPageSize={2} />\r\n        <Pager\r\n          visible={true}\r\n          displayMode={\"full\"}\r\n          showPageSizeSelector={false}\r\n          showInfo={true}\r\n          showNavigationButtons={true}\r\n        />\r\n      </DataGrid>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileDataPreviewTable;","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Typography\r\n} from '@mui/material';\r\n\r\ninterface Props {\r\n  isHelpModalOpen: boolean;\r\n  handleOpenHelpModal: any;\r\n}\r\n\r\nconst ChooseColumnHelpModal = ({ isHelpModalOpen, handleOpenHelpModal }: Props) => {\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={isHelpModalOpen}\r\n        onClose={handleOpenHelpModal}\r\n      >\r\n        <DialogTitle>Choose columns to compare/match with the other file's columns</DialogTitle>\r\n        <DialogContent dividers={true}>\r\n        <Typography variant=\"body2\">Columns from file A that will be compared with columns\r\n          from file B to determine a matching account. Limit: 2 columns. The more unique a column's value is\r\n          to a company, the better, hence we encourage you to select the column that corresponds with an account's\r\n          website and a column that corresponds with their DUNS number.</Typography>\r\n        <DialogContentText sx={{ marginTop: '1.5rem' }}>Using the text input:</DialogContentText>\r\n        <Typography variant=\"body2\">Type in a column that you're trying to find. If it appears in the\r\n          results drop down, click it to select the column. The checkbox next to its label will appear checked.\r\n          Multiple checkboxes can be selected.</Typography>\r\n        <DialogContentText sx={{ marginTop: '1.5rem' }}>Using the data grid:</DialogContentText>\r\n        <Typography variant=\"body2\">The grid below shows 2 example rows from the uploaded file. Columns for\r\n          comparison can also be selected by clicking the column headers.</Typography>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ChooseColumnHelpModal;","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Typography\r\n} from '@mui/material';\r\n\r\ninterface Props {\r\n  isHelpModalOpen: boolean;\r\n  handleOpenHelpModal: any;\r\n}\r\n\r\nconst FileSourceHelpModal = ({ isHelpModalOpen, handleOpenHelpModal }: Props) => {\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={isHelpModalOpen}\r\n        onClose={handleOpenHelpModal}\r\n      >\r\n        <DialogTitle>Upload a file from your computer or use a pinned file</DialogTitle>\r\n        <DialogContent dividers={true}>\r\n        <DialogContentText sx={{ marginTop: '1.5rem' }}>Upload a file from your computer:</DialogContentText>\r\n        <Typography variant=\"body2\">Click the Select File button and search for a file that will be used for comparison.</Typography>\r\n        <DialogContentText sx={{ marginTop: '1.5rem' }}>Use a pinned file:</DialogContentText>\r\n        <Typography variant=\"body2\">In your profile page, you can save a file as a \"pinned file\". This would be used when you\r\n          have a file that you will regularly be compared to partners' files. Typically, it would be the file that contains all of\r\n          your accounts.</Typography>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileSourceHelpModal;","import React from 'react';\r\nimport {\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  InputLabel\r\n} from '@mui/material';\r\n\r\ninterface Props {\r\n  selectedPinnedFileId: string;\r\n  handlePinnedFileSelection: any;\r\n  pinnedFiles: Array<any>;\r\n}\r\n\r\nconst PinnedFileDropdown = ({\r\n  selectedPinnedFileId,\r\n  handlePinnedFileSelection,\r\n  pinnedFiles,\r\n}: Props) => {\r\n  return (\r\n    <FormControl fullWidth size=\"medium\" sx={{ margin: '0.5rem auto 0' }}>\r\n      <InputLabel id=\"demo-simple-select-standard-label\">Select Pinned File</InputLabel>\r\n      <Select\r\n        id=\"pinned-file-selection\"\r\n        value={selectedPinnedFileId}\r\n        onChange={handlePinnedFileSelection}\r\n        label=\"Select Pinned File *\"\r\n      >\r\n        {pinnedFiles.map((file: any, index: number) => (\r\n          <MenuItem value={file.pinned_file_id} key={`pinned-file-${index}`}>\r\n            {file.file_label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default PinnedFileDropdown;","import React from 'react';\r\nimport PinnedFileDropdown from '../../components/pinned-file-dropdown';\r\nimport { connect } from 'react-redux';\r\nimport { selectDocument, selectPinnedFile } from '../../state/actions/document';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { createJSONFromSpreadsheet, getPinnedFile } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n  selectDocument: any;\r\n  selectedPinnedFileId: any;\r\n  selectPinnedFile: any;\r\n  pinnedFiles: Array<any>;\r\n  index: number;\r\n}\r\n\r\nconst PinnedFileDropdownContainer = ({\r\n  showError,\r\n  hideError,\r\n  setIsLoading,\r\n  selectDocument,\r\n  selectedPinnedFileId,\r\n  selectPinnedFile,\r\n  pinnedFiles,\r\n  index\r\n}: Props) => {\r\n\r\n  const handlePinnedFileSelection = async (event: any) => {\r\n    const fileId: string = event.target.value;\r\n    selectPinnedFile(fileId);\r\n    setIsLoading(true);\r\n    try {\r\n      const pinnedFileBlob = await getPinnedFile(fileId);\r\n      const wsDataObj: Array<any> = await createJSONFromSpreadsheet(pinnedFileBlob.data);\r\n      selectDocument(wsDataObj, index, fileId, pinnedFileBlob.data);\r\n      hideError();\r\n      setIsLoading(false);\r\n    } catch (err: any) {\r\n      console.log('err', err);\r\n      showError('Failed to get pinned file for user.');\r\n      setIsLoading(false);\r\n      setTimeout(() => {\r\n        hideError();\r\n      }, 5000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <PinnedFileDropdown\r\n      handlePinnedFileSelection={handlePinnedFileSelection}\r\n      selectedPinnedFileId={selectedPinnedFileId}\r\n      pinnedFiles={pinnedFiles}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  pinnedFiles: state.user.pinnedFiles,\r\n  selectedPinnedFileId: state.document.selectedPinnedFileId\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  selectDocument: (wsDataObj: any, index: number, filename: string, fileBlob: any) => dispatch(selectDocument(wsDataObj, index, filename, fileBlob)),\r\n  selectPinnedFile: (pinnedFileId: string) => dispatch(selectPinnedFile(pinnedFileId))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PinnedFileDropdownContainer);","import React, { useEffect, useState } from 'react';\r\nimport { FormLabel, IconButton, Typography } from '@mui/material';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport FileSelectionFieldContainer from '../../containers/file-selection-field';\r\nimport FileSourceRadioContainer from '../../containers/file-source-radio';\r\nimport ComparisonColumnAutocompleteContainer from '../../containers/comparison-column-autocomplete';\r\nimport FileStructureRadioContainer from '../../containers/file-structure-radio';\r\nimport UnformattedDataTextfieldContainer from '../../containers/unformatted-data-textfield-container';\r\nimport { FORMATTED_DATA } from '../../state/actions/document';\r\nimport PartnerNameTextfieldContainer from '../../containers/partner-name-textfield';\r\nimport PartnerCompanyTextfieldContainer from '../../containers/partner-company-textfield';\r\nimport FileDataPreviewTable from '../file-data-preview-table';\r\nimport { SelectedDocument } from '../../state/reducers/document';\r\nimport { Help } from '@mui/icons-material';\r\nimport ChooseColumnHelpModal from '../choose-column-help-modal';\r\nimport FileSourceHelpModal from '../file-source-help-modal';\r\nimport PinnedFileDropdownContainer from '../../containers/pinned-file-dropdown';\r\n\r\ninterface UploadDocumentColumnProps {\r\n  selectedDocument: SelectedDocument;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: Array<string>;\r\n  fileSource: string;\r\n  index: number;\r\n  user: UserState;\r\n  setAllColumns: any;\r\n  handleColumnClick: any;\r\n  fileStructure: any;\r\n  unformattedData: string;\r\n}\r\n\r\nconst UploadDocumentColumn = ({\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  fileSource,\r\n  index,\r\n  user,\r\n  setAllColumns,\r\n  handleColumnClick,\r\n  fileStructure,\r\n  unformattedData\r\n}: UploadDocumentColumnProps) => {\r\n  const [isChooseColumnHelpModalOpen, setIsChooseColumnHelpModalOpen] = useState(false);\r\n  const [isSelectFileSourceHelpModalOpen, setIsSelectFileSourceHelpModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedDocument.data && selectedDocument.data[0]) {\r\n      setAllColumns(Array.from(Object.keys(selectedDocument.data[0])).filter((column: string) => !column.includes('__EMPTY')), index);\r\n    }\r\n  }, [selectedDocument.data, setAllColumns, index]);\r\n\r\n  const handleOpenFileSourceHelpModal = () => {\r\n    setIsSelectFileSourceHelpModalOpen(!isSelectFileSourceHelpModalOpen);\r\n  }\r\n\r\n  const handleOpenChooseColumnHelpModal = () => {\r\n    setIsChooseColumnHelpModalOpen(!isChooseColumnHelpModalOpen);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant='h6' sx={{ marginTop: '3rem', marginBottom: '1rem' }}>\r\n        {index === 0 ? 'MY ACCOUNTS' : 'PARTNER\\'S ACCOUNTS'}\r\n      </Typography>\r\n      <FileStructureRadioContainer\r\n        index={index}\r\n        fileStructure={fileStructure}\r\n      />\r\n      {fileStructure === FORMATTED_DATA ?\r\n        <>\r\n          {!!user.pinnedFiles && user.pinnedFiles.length > 0 && index === 0 && <FileSourceRadioContainer\r\n            fileSource={fileSource}\r\n            index={index}\r\n            handleOpenFileSourceHelpModal={handleOpenFileSourceHelpModal}\r\n          />}\r\n          <div className=\"file-selection\">\r\n            {fileSource === 'upload' ?\r\n              <FileSelectionFieldContainer selectedDocument={selectedDocument} index={index} /> :\r\n              <PinnedFileDropdownContainer index={index} />\r\n            }\r\n          </div>\r\n          <FormLabel sx={{ marginTop: '4.5rem', marginBottom: '0.25rem' }}>Use autocomplete field or data grid to pick a website column and a DUNS column <IconButton onClick={handleOpenChooseColumnHelpModal}><Help /></IconButton></FormLabel>\r\n          <ComparisonColumnAutocompleteContainer\r\n            selectedDocument={selectedDocument}\r\n            comparisonColumns={comparisonColumns}\r\n            comparisonColumnsError={comparisonColumnsError}\r\n            index={index}\r\n          />\r\n          <div style={{ width: '100%'}}>\r\n            <FileDataPreviewTable\r\n              selectedDocument={selectedDocument}\r\n              handleColumnClick={handleColumnClick}\r\n              comparisonColumns={comparisonColumns}\r\n              index={index}\r\n            />\r\n          </div>\r\n        </>:\r\n        <>\r\n          <UnformattedDataTextfieldContainer\r\n            unformattedData={unformattedData}\r\n            index={index}\r\n          />\r\n        </>\r\n      }\r\n      {index === 1 && <>\r\n        <FormLabel sx={{ marginTop: fileStructure === FORMATTED_DATA ? '3.5rem' : '4rem', marginBottom: '0.5rem' }}>Enter partner info (optional)</FormLabel>\r\n        <PartnerNameTextfieldContainer />\r\n        <PartnerCompanyTextfieldContainer />\r\n      </>}\r\n      <ChooseColumnHelpModal isHelpModalOpen={isChooseColumnHelpModalOpen} handleOpenHelpModal={handleOpenChooseColumnHelpModal} />\r\n      <FileSourceHelpModal isHelpModalOpen={isSelectFileSourceHelpModalOpen} handleOpenHelpModal={handleOpenFileSourceHelpModal} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UploadDocumentColumn;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport UploadDocumentColumn from '../../components/upload-document-column';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  selectedDocument: any;\r\n  comparisonColumns: Array<string>;\r\n  comparisonColumnsError: Array<string>;\r\n  fileSource: string;\r\n  index: number;\r\n  handleColumnClick: any;\r\n  setAllColumns: any;\r\n  fileStructure: string;\r\n  unformattedData: string;\r\n}\r\n\r\nconst UploadDocumentColumnContainer = ({\r\n  user,\r\n  selectedDocument,\r\n  comparisonColumns,\r\n  comparisonColumnsError,\r\n  fileSource,\r\n  index,\r\n  handleColumnClick,\r\n  setAllColumns,\r\n  fileStructure,\r\n  unformattedData\r\n}: Props) => {\r\n  return (\r\n    <UploadDocumentColumn\r\n      selectedDocument={selectedDocument}\r\n      comparisonColumns={comparisonColumns}\r\n      comparisonColumnsError={comparisonColumnsError}\r\n      fileSource={fileSource}\r\n      user={user}\r\n      index={index}\r\n      handleColumnClick={handleColumnClick}\r\n      setAllColumns={setAllColumns}\r\n      fileStructure={fileStructure}\r\n      unformattedData={unformattedData}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(UploadDocumentColumnContainer);","import { FORMATTED_DATA, UNFORMATTED_DATA } from '../state/actions/document';\r\nimport { SelectedDocument } from '../state/reducers/document';\r\n\r\nexport const createDocumentSampleRows = (\r\n  selectedDocument: SelectedDocument,\r\n  fileStructure: string,\r\n  unformattedData: string\r\n) => {\r\n  let docSampleData: Array<any>;\r\n  if (fileStructure === FORMATTED_DATA) {\r\n    if (selectedDocument.data.length && selectedDocument.data.length > 10) {\r\n      docSampleData = selectedDocument.data.slice(0, 10);\r\n    } else {\r\n      docSampleData =  selectedDocument.data;\r\n    }\r\n  } else {\r\n    if (unformattedData.length && unformattedData.length > 10) {\r\n      docSampleData = unformattedData.split('\\n').slice(0, 10);\r\n    } else {\r\n      docSampleData =  unformattedData.split('\\n');\r\n    }\r\n  }\r\n  return docSampleData;\r\n}\r\n\r\nexport const updateColumnsForDocument = (\r\n  fileStructure: string,\r\n  columns: Array<string>,\r\n  documentNumber: number\r\n) => {\r\n  let updatedColumns: Array<string> = [];\r\n  if (fileStructure === FORMATTED_DATA) {\r\n    updatedColumns = updatedColumns.concat([...columns]);\r\n  } else if (fileStructure === UNFORMATTED_DATA) {\r\n    updatedColumns.push(`Unformatted Data ${documentNumber}`);\r\n  }\r\n  return updatedColumns;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Dialog, DialogContent, DialogContentText, DialogTitle } from '@mui/material';\r\nimport DataGrid from 'devextreme-react/data-grid';\r\nimport { DocumentState } from '../../state/reducers/document';\r\nimport { createDocumentSampleRows, updateColumnsForDocument } from '../../utils/results-preview.utils';\r\nimport { FORMATTED_DATA, UNFORMATTED_DATA } from '../../state/actions/document';\r\n\r\ninterface Props {\r\n  isPreviewModalOpen: boolean;\r\n  handleClosePreview: any;\r\n  document: DocumentState;\r\n}\r\n\r\nconst ResultsPreviewModal = ({\r\n  isPreviewModalOpen,\r\n  handleClosePreview,\r\n  document\r\n}: Props) => {\r\n  const [resultsData, setResultsData] = useState<Array<any>>([]);\r\n  const {\r\n    selectedDocument1,\r\n    selectedDocument2,\r\n    comparisonColumns1,\r\n    comparisonColumns2,\r\n    fileStructure1,\r\n    fileStructure2,\r\n    unformattedData1,\r\n    unformattedData2\r\n  } = document;\r\n\r\n  useEffect(() => {\r\n    const doc1SampleData: Array<any> = createDocumentSampleRows(selectedDocument1, fileStructure1, unformattedData1);\r\n    const doc2SampleData: Array<any> = createDocumentSampleRows(selectedDocument2, fileStructure2, unformattedData2);\r\n\r\n    let columns: Array<any> = [];\r\n    columns = updateColumnsForDocument(fileStructure1, comparisonColumns1, 1);\r\n    columns = [...columns, ...updateColumnsForDocument(fileStructure2, comparisonColumns2, 2)];\r\n\r\n    const updatedResultsData = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      \r\n      const row = columns.reduce((rowObj: any, col: string, index: number) => {\r\n        if (\r\n          fileStructure1 === FORMATTED_DATA &&\r\n          comparisonColumns1.indexOf(col) > -1 &&\r\n          index < comparisonColumns1.length\r\n        ) {\r\n          return { ...rowObj, [col]: doc1SampleData[i][col] || null };\r\n        } else if (fileStructure1 === UNFORMATTED_DATA && index === 0) {\r\n          return { ...rowObj, 'Unformatted Data 1': doc1SampleData[i] || null }\r\n        } else if (\r\n          fileStructure2 === FORMATTED_DATA &&\r\n          comparisonColumns2.indexOf(col) > -1 &&\r\n          ((fileStructure1 === FORMATTED_DATA && index >= comparisonColumns1.length) ||\r\n          (fileStructure1 === UNFORMATTED_DATA && index > 0))\r\n        ) {\r\n          return { ...rowObj, [col]: doc2SampleData[i][col] || null };\r\n        } else if (fileStructure2 === UNFORMATTED_DATA) {\r\n          return { ...rowObj, 'Unformatted Data 2': doc2SampleData[i] || null }\r\n        }\r\n        return { ...rowObj };\r\n      }, {});\r\n      updatedResultsData.push(row);\r\n    }\r\n\r\n    setResultsData(updatedResultsData);\r\n  }, [selectedDocument1, fileStructure1, unformattedData1, selectedDocument2, fileStructure2, unformattedData2, comparisonColumns1, comparisonColumns2])\r\n\r\n  return (\r\n    <Dialog\r\n      open={isPreviewModalOpen}\r\n      onClose={handleClosePreview}\r\n    >\r\n      <DialogTitle>Results Preview</DialogTitle>\r\n      <DialogContent dividers={true}>\r\n        <DialogContentText sx={{ marginBottom: '1rem' }}>Here's what your results will look like based on the columns you've chosen:</DialogContentText>\r\n        <DataGrid\r\n          id=\"formattedGridContainer\"\r\n          dataSource={resultsData}\r\n          showColumnLines={true}\r\n          columnAutoWidth={true}\r\n          showBorders={true}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        />\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default ResultsPreviewModal;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ResultsPreviewModal from '../../components/results-preview-modal';\r\nimport { DocumentState } from '../../state/reducers/document';\r\n\r\ninterface Props {\r\n  isPreviewModalOpen: boolean;\r\n  handleClosePreview: any;\r\n  document: DocumentState;\r\n}\r\n\r\nconst ResultsPreviewModalContainer = ({\r\n  isPreviewModalOpen,\r\n  handleClosePreview,\r\n  document\r\n}: Props) => {\r\n  return (\r\n    <ResultsPreviewModal\r\n      isPreviewModalOpen={isPreviewModalOpen}\r\n      handleClosePreview={handleClosePreview}\r\n      document={document}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  document: state.document\r\n});\r\n\r\nexport default connect(mapStateToProps)(ResultsPreviewModalContainer);","export const UPDATE_USER = 'UPDATE_USER';\r\n\r\nexport const updateUser = (user: any) => ({\r\n  type: UPDATE_USER,\r\n  payload: user\r\n});","import { UPDATE_USER } from '../../actions/user';\r\nimport { PIN_FILE_SUCCESS } from '../../actions/document';\r\n\r\nexport const FREE = 'FREE';\r\nexport const FREE_DESCRIPTION = 'Free: Sign up now to be able to compare 10 lists';\r\nexport const PREMIUM = 'PREMIUM';\r\nexport const PREMIUM_DESCRIPTION = 'Premium: You can compare an unlimited amount of lists per month';\r\nexport const FREE_COMPARISONS_LIMIT: number = 3;\r\n\r\nexport interface UserState {\r\n  firstname: string;\r\n  lastname: string;\r\n  email: string;\r\n  company: string;\r\n  pinnedFileName: string;\r\n  pinnedFileId: string;\r\n  activeSubscription: boolean;\r\n  subscriptionType: string;\r\n  freeComparisons: number;\r\n  pinnedFiles: Array<any>;\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  firstname: '',\r\n  lastname: '',\r\n  email: '',\r\n  company: '',\r\n  pinnedFileName: '',\r\n  pinnedFileId: '',\r\n  activeSubscription: false,\r\n  subscriptionType: '',\r\n  freeComparisons: 0,\r\n  pinnedFiles: []\r\n}\r\n\r\nexport const userReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case UPDATE_USER:\r\n      const {\r\n        email,\r\n        firstname,\r\n        lastname,\r\n        company,\r\n        pinnedFiles,\r\n        active_subscription,\r\n        subscription_type,\r\n        free_comparisons\r\n      } = action.payload;\r\n      return {\r\n        ...state,\r\n        email: email || state.email,\r\n        firstname: firstname || state.firstname,\r\n        lastname: lastname || state.lastname,\r\n        company: company || state.company,\r\n        activeSubscription: active_subscription || state.activeSubscription,\r\n        subscriptionType: subscription_type || state.subscriptionType,\r\n        freeComparisons: free_comparisons || state.freeComparisons,\r\n        pinnedFiles: pinnedFiles || state.pinnedFiles,\r\n      };\r\n    case PIN_FILE_SUCCESS:\r\n      const newPinnedFile = action.payload;\r\n      const pinnedFileIndex = state.pinnedFiles.findIndex((file) => file.pinned_file_id === newPinnedFile.pinned_file_id);\r\n      let newPinnedFiles = [...state.pinnedFiles];\r\n      if (pinnedFileIndex > -1) {\r\n        newPinnedFiles.splice(pinnedFileIndex, 1, newPinnedFile);\r\n      } else {\r\n        newPinnedFiles.push(newPinnedFile);\r\n      }\r\n      return {\r\n        ...state,\r\n        pinnedFiles: newPinnedFiles\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { FORMATTED_DATA, UNFORMATTED_DATA } from \"../state/actions/document\"\r\nimport { SelectedDocument } from \"../state/reducers/document\";\r\nimport { FREE, FREE_COMPARISONS_LIMIT, UserState } from \"../state/reducers/user\";\r\n\r\nexport const isSubmitButtonEnabled = (\r\n  fileStructure1: string,\r\n  fileStructure2: string,\r\n  comparisonColumns1: Array<string>,\r\n  comparisonColumns2: Array<string>,\r\n  unformattedData1: string,\r\n  unformattedData2: string,\r\n  selectedDocument1: SelectedDocument,\r\n  selectedDocument2: SelectedDocument,\r\n  userFreeComparisons: number,\r\n  userSubscriptionType: string\r\n): boolean => {\r\n  const isUserAccountDataValid = checkOnePersonsAccountData(\r\n    fileStructure1,\r\n    selectedDocument1,\r\n    comparisonColumns1,\r\n    unformattedData1\r\n  );\r\n  const isPartnerAccountDataValid = checkOnePersonsAccountData(\r\n    fileStructure2,\r\n    selectedDocument2,\r\n    comparisonColumns2,\r\n    unformattedData2\r\n  );\r\n\r\n  if (fileStructure1 === FORMATTED_DATA && fileStructure2 === FORMATTED_DATA) {\r\n    if (comparisonColumns1.length !== comparisonColumns2.length) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const userCanMakeComparisons: boolean = !isUserOutOfFreeComparisons(userFreeComparisons, userSubscriptionType);\r\n\r\n  return isUserAccountDataValid && isPartnerAccountDataValid && userCanMakeComparisons;\r\n}\r\n\r\nexport const checkOnePersonsAccountData = (\r\n  fileStructure: string,\r\n  selectedDocument: SelectedDocument,\r\n  comparisonColumns: Array<string>,\r\n  unformattedData: string\r\n) => {\r\n  if (fileStructure === FORMATTED_DATA) {\r\n    if (!selectedDocument || !selectedDocument.data || !selectedDocument.data.length) {\r\n      return false;\r\n    }\r\n    if (!comparisonColumns || !comparisonColumns.length) {\r\n      return false;\r\n    }\r\n  } else if (fileStructure === UNFORMATTED_DATA) {\r\n    if (!unformattedData || !unformattedData.length) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const createCapitalizedPartnerName = (partnerName: string) => {\r\n  if (partnerName) {\r\n    return capitalizeFirstLetterOfWord(partnerName);\r\n  }\r\n  return '';\r\n}\r\n\r\nexport const createCapitalizedPartnerCompany = (partnerCompany: string) => {\r\n  if (partnerCompany) {\r\n    const words: Array<string> = partnerCompany.split(\" \");\r\n    return words.map((word: string) => capitalizeFirstLetterOfWord(word)).join(\" \");\r\n  }\r\n  return '';\r\n}\r\n\r\nexport const createCapitalizedUserName = (user: UserState) => {\r\n  if (user && user.firstname && user.lastname) {\r\n    const capitalizedFirstName = capitalizeFirstLetterOfWord(user.firstname);\r\n    const capitalizedLastName = capitalizeFirstLetterOfWord(user.lastname);\r\n    return `${capitalizedFirstName} ${capitalizedLastName}`;\r\n  }\r\n  return '';\r\n}\r\n\r\nexport const capitalizeFirstLetterOfWord = (word: string) => word[0].toUpperCase() + word.substring(1);\r\n\r\nexport const isUserOutOfFreeComparisons = (userFreeComparisons: number, userSubscriptionType: string) => {\r\n  if (userSubscriptionType === FREE && userFreeComparisons >= FREE_COMPARISONS_LIMIT) {\r\n    return true;\r\n  }\r\n  return false;\r\n}","import React from 'react';\r\nimport { styled, Tooltip, tooltipClasses, TooltipProps } from '@mui/material';\r\n\r\nconst InfoTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n  },\r\n}));\r\n\r\nexport default InfoTooltip;","import React, { useState } from 'react';\r\nimport UploadDocumentColumnContainer from '../../containers/upload-document-column';\r\nimport ResultsPreviewModalContainer from '../../containers/results-preview-modal';\r\nimport { Grid, Fab } from '@mui/material';\r\nimport { Upload, Preview } from '@mui/icons-material';\r\nimport { DocumentState } from '../../state/reducers/document';\r\nimport { isSubmitButtonEnabled } from '../../utils/duplicates-table.utils';\r\nimport { FREE_COMPARISONS_LIMIT, PREMIUM } from '../../state/reducers/user';\r\nimport InfoTooltip from '../info-tooltip';\r\n\r\ninterface UploadDocumentFormProps {\r\n  document: DocumentState;\r\n  setAllColumns: any;\r\n  handleColumnClick: any;\r\n  handleUploadAndCompare: any;\r\n  userFreeComparisons: number;\r\n  userSubscriptionType: string;\r\n}\r\n\r\nconst UploadDocumentForm = ({\r\n  document,\r\n  setAllColumns,\r\n  handleColumnClick,\r\n  handleUploadAndCompare,\r\n  userFreeComparisons,\r\n  userSubscriptionType\r\n}: UploadDocumentFormProps): any => {\r\n  /* For the preview modal, we use local state because we don't need its open state to be\r\n  persisted when a user goes to another step */\r\n  const [isPreviewModalOpen, setIsPreviewModalOpen] = useState(false);\r\n\r\n  const {\r\n    selectedDocument1,\r\n    selectedDocument2,\r\n    comparisonColumns1,\r\n    comparisonColumns2,\r\n    comparisonColumns1Error,\r\n    comparisonColumns2Error,\r\n    fileSource1,\r\n    fileSource2,\r\n    fileStructure1,\r\n    fileStructure2,\r\n    unformattedData1,\r\n    unformattedData2\r\n  } = document;\r\n\r\n  const handleOpenPreview = () => {\r\n    setIsPreviewModalOpen(true);\r\n  }\r\n\r\n  const handleClosePreview = () => {\r\n    setIsPreviewModalOpen(false);\r\n  }\r\n\r\n  /* Validation for whether the Submit button should be enabled or disabled. If documents\r\n  and columns haven't been selected, the button should be disabled. */\r\n  const isSubmitBtnEnabled: boolean = isSubmitButtonEnabled(\r\n    fileStructure1,\r\n    fileStructure2,\r\n    comparisonColumns1,\r\n    comparisonColumns2,\r\n    unformattedData1,\r\n    unformattedData2,\r\n    selectedDocument1,\r\n    selectedDocument2,\r\n    userFreeComparisons,\r\n    userSubscriptionType\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"start\"\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={8}\r\n          p={0}\r\n          sx={{ height: '100%' }}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"center\"\r\n        >\r\n          <UploadDocumentColumnContainer\r\n            comparisonColumns={comparisonColumns1}\r\n            comparisonColumnsError={comparisonColumns1Error}\r\n            selectedDocument={selectedDocument1}\r\n            fileSource={fileSource1}\r\n            index={0}\r\n            setAllColumns={setAllColumns}\r\n            handleColumnClick={handleColumnClick}\r\n            fileStructure={fileStructure1}\r\n            unformattedData={unformattedData1}\r\n          />\r\n          <UploadDocumentColumnContainer\r\n            comparisonColumns={comparisonColumns2}\r\n            comparisonColumnsError={comparisonColumns2Error}\r\n            selectedDocument={selectedDocument2}\r\n            fileSource={fileSource2}\r\n            index={1}\r\n            setAllColumns={setAllColumns}\r\n            handleColumnClick={handleColumnClick}\r\n            fileStructure={fileStructure2}\r\n            unformattedData={unformattedData2}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        justifyContent=\"space-around\"\r\n        alignItems=\"center\"\r\n        sx={{ marginBottom: '4.5rem' }}\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={4}\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Fab\r\n            variant=\"extended\"\r\n            aria-label=\"add\"\r\n            sx={{ marginTop: '2rem', marginBottom: '1.5rem' }}\r\n            onClick={handleOpenPreview}\r\n          >\r\n            <Preview sx={{ mr: 1 }} />\r\n            Preview Results\r\n          </Fab>\r\n          <InfoTooltip\r\n            arrow\r\n            open={userSubscriptionType !== PREMIUM && userFreeComparisons >= FREE_COMPARISONS_LIMIT}\r\n            title={`You've used the ${FREE_COMPARISONS_LIMIT} free comparisons.\r\n            For an unlimited amount of comparisons, upgrade your subscription in your profile page.`}\r\n          >\r\n            <Fab\r\n              variant=\"extended\"\r\n              color=\"primary\"\r\n              aria-label=\"add\"\r\n              disabled={!isSubmitBtnEnabled}\r\n              onClick={handleUploadAndCompare}\r\n            >\r\n              <Upload sx={{ mr: 1 }} />\r\n              Upload and Compare\r\n            </Fab>\r\n          </InfoTooltip>\r\n        </Grid>\r\n      </Grid>\r\n      {isPreviewModalOpen && <ResultsPreviewModalContainer\r\n        isPreviewModalOpen={isPreviewModalOpen}\r\n        handleClosePreview={handleClosePreview}\r\n      />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadDocumentForm;","export const CHANGE_STEP = 'CHANGE_STEP';\r\n\r\nexport const changeStep = (newStep: number) => ({\r\n  type: CHANGE_STEP,\r\n  payload: newStep\r\n});","export const updateComparisonColumns = (comparisonColumns: Array<string>, updatedCol: string) => {\r\n  let newValue: Array<string> = [];\r\n  const indexOfCol = comparisonColumns.indexOf(updatedCol);\r\n  if (indexOfCol === -1) {\r\n    newValue = [...comparisonColumns, updatedCol];\r\n  } else {\r\n    newValue = [...comparisonColumns];\r\n    newValue.splice(indexOfCol, 1);\r\n  }\r\n  return newValue;\r\n}\r\n\r\nexport const addMessageToErrorList = (\r\n  errorList: Array<string>,\r\n  errorMessage: string,\r\n) => {\r\n  const errMsgIndex = errorList.indexOf(errorMessage);\r\n  if (errMsgIndex === -1) errorList.push(errorMessage);\r\n}\r\n\r\nexport const removeMessageFromErrorList = (\r\n  errorList: Array<string>,\r\n  errorMessage: string,\r\n) => {\r\n  const errMsgIndex = errorList.indexOf(errorMessage);\r\n  if (errMsgIndex > -1) errorList.splice(errMsgIndex, 1);\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport UploadDocumentForm from '../../components/upload-document-form';\r\nimport { DocumentState } from '../../state/reducers/document';\r\nimport { uploadDocumentSuccess, setAllColumns, changeComparisonColumn } from '../../state/actions/document';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { updateComparisonColumns } from '../../utils/update-comparison-columns';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { FREE, UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  document: DocumentState;\r\n  showError: any;\r\n  hideError: any;\r\n  uploadDocumentSuccess: any;\r\n  setIsLoading: any;\r\n  changeStep: any;\r\n  setAllColumns: any;\r\n  changeComparisonColumn: any;\r\n  user: UserState;\r\n  updateUser: any;\r\n}\r\n\r\nconst UploadDocumentFormContainer = ({\r\n  activeStep,\r\n  document,\r\n  showError,\r\n  hideError,\r\n  uploadDocumentSuccess,\r\n  setIsLoading,\r\n  changeStep,\r\n  setAllColumns,\r\n  changeComparisonColumn,\r\n  user,\r\n  updateUser\r\n}: Props) => {\r\n  /**\r\n   * When the user selects a column (by clicking a checkbox next to the column name in the data grid\r\n   * or using the autocomplete), this function updates the array of column names\r\n   * @param col Column in the selected file. Is represented in the DataGrid and\r\n   * can be selected by clicking the checkbox next to the column name\r\n   * @param index Number that indicates which file is the user selecting columns for\r\n   */\r\n  const handleColumnClick = (col: any, index: number) => {\r\n    const { comparisonColumns1, comparisonColumns2 } = document;\r\n    let newValue: Array<string> = [];\r\n    if (index === 0) {\r\n      newValue = updateComparisonColumns(comparisonColumns1, col);\r\n    } else {\r\n      newValue = updateComparisonColumns(comparisonColumns2, col);\r\n    }\r\n\r\n    changeComparisonColumn(newValue, index);\r\n  };\r\n\r\n  /**\r\n   * Puts the selected file and column name into a FormData instance,\r\n   * sends it to the server, and then changes to the next step where\r\n   * the duplicates will be displayed\r\n   */\r\n  const handleUploadAndCompare = () => {\r\n    const {\r\n      selectedDocument1,\r\n      selectedDocument2,\r\n      comparisonColumns1,\r\n      comparisonColumns2,\r\n      fileStructure1,\r\n      fileStructure2,\r\n      unformattedData1,\r\n      unformattedData2\r\n    } = document;\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    if (selectedDocument1 && selectedDocument1.name) {\r\n      const docBlob1 = new Blob([JSON.stringify(selectedDocument1.data)], { type: 'application/json' });\r\n      formData.append(\"sales_file1\", docBlob1, selectedDocument1.name);\r\n      formData.append('allColumns1', selectedDocument1.allColumns.join(','));\r\n    }\r\n\r\n    if (selectedDocument2 && selectedDocument2.name) {\r\n      const docBlob2 = new Blob([JSON.stringify(selectedDocument2.data)], { type: 'application/json' });\r\n      formData.append(\"sales_file2\", docBlob2, selectedDocument2.name);\r\n      formData.append('allColumns2', selectedDocument2.allColumns.join(','));\r\n    }\r\n\r\n    formData.append('comparisonColumns1', comparisonColumns1.join());\r\n    formData.append('comparisonColumns2', comparisonColumns2.join());\r\n    formData.append('fileStructure1', fileStructure1);\r\n    formData.append('fileStructure2', fileStructure2);\r\n    formData.append('unformattedData1', unformattedData1);\r\n    formData.append('unformattedData2', unformattedData2);\r\n    formData.append('userSubscriptionType', user.subscriptionType);\r\n    formData.append('userFreeComparisons', `${user.freeComparisons}`);\r\n    formData.append('userEmail', user.email);\r\n\r\n    axios.post('/api/v1/uploadfile', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    })\r\n      .then((res: any) => {\r\n        hideError();\r\n        uploadDocumentSuccess(res.data);\r\n        if (user.subscriptionType === FREE) {\r\n          updateUser({ ...user, freeComparisons: user.freeComparisons + 1 });\r\n        }\r\n        setIsLoading(false);\r\n        changeStep(activeStep += 1);\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('File upload and comparison failed.');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 5000)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <UploadDocumentForm\r\n      document={document}\r\n      setAllColumns={setAllColumns}\r\n      handleColumnClick={handleColumnClick}\r\n      handleUploadAndCompare={handleUploadAndCompare}\r\n      userFreeComparisons={user.freeComparisons}\r\n      userSubscriptionType={user.subscriptionType}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step,\r\n  document: state.document,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  uploadDocumentSuccess: (data: any) => dispatch(uploadDocumentSuccess(data)),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  changeStep: (activeStep: number) => dispatch(changeStep(activeStep)),\r\n  setAllColumns: (columns: Array<string>, index: number) => dispatch(setAllColumns(columns, index)),\r\n  changeComparisonColumn: (newValue: Array<string>, index: number) => dispatch(changeComparisonColumn(newValue, index)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadDocumentFormContainer);","import React, { useRef } from 'react';\r\nimport DataGrid, { Paging, Pager, Column, ColumnChooser, Toolbar, Item } from 'devextreme-react/data-grid';\r\nimport { Button, Grid } from '@mui/material';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { updateColumnsForDocument } from '../../utils/results-preview.utils';\r\nimport { FORMATTED_DATA } from '../../state/actions/document';\r\nimport { createCapitalizedPartnerCompany, createCapitalizedPartnerName, createCapitalizedUserName } from '../../utils/duplicates-table.utils';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  comparisonColumns1: Array<string>;\r\n  comparisonColumns2: Array<string>;\r\n  allColumns1: Array<string>;\r\n  allColumns2: Array<string>;\r\n  fileStructure1: string;\r\n  fileStructure2: string;\r\n  partnerName: string;\r\n  partnerCompany: string;\r\n  user: UserState;\r\n}\r\n\r\n/* Handles the pressence of the 2 accuracy columns. Other columns start after those 2. */\r\nconst COLUMN_OFFSET = 2;\r\n\r\nconst DuplicatesTable = ({\r\n  duplicatesData,\r\n  comparisonColumns1,\r\n  comparisonColumns2,\r\n  allColumns1,\r\n  allColumns2,\r\n  fileStructure1,\r\n  fileStructure2,\r\n  partnerName,\r\n  partnerCompany,\r\n  user\r\n}: Props) => {\r\n  const dataGridRef: any = useRef<any>(null);\r\n\r\n  const customizeColumns = (columns: Array<any>) => {\r\n    /* Capitalize names that will be used in column captions */\r\n    let capitalizedUserName: string = createCapitalizedUserName(user);\r\n    let capitalizedPartnerCompany: string = createCapitalizedPartnerCompany(partnerCompany);\r\n    let capitalizedPartnerName: string = createCapitalizedPartnerName(partnerName);\r\n\r\n    columns.push({\r\n        caption: `My accounts${capitalizedUserName ? ` (${capitalizedUserName})` : ''}`,\r\n        isBand: true,\r\n        cssClass: 'my-accounts'\r\n    });\r\n    columns.push({\r\n      caption: `${capitalizedPartnerCompany ? `${capitalizedPartnerCompany}` : 'Partner'} accounts${capitalizedPartnerName ? ` (${capitalizedPartnerName})` : ''}`,\r\n      isBand: true,\r\n      cssClass: 'their-accounts'\r\n    });\r\n\r\n    /* Create a list of column names */\r\n    let resColumns: Array<string> = [];\r\n    resColumns = updateColumnsForDocument(fileStructure1, allColumns1, 1);\r\n    resColumns = [...resColumns, ...updateColumnsForDocument(fileStructure2, allColumns2, 2)];\r\n\r\n    /* userAccountColumnCount is for determining how many columns should have the my-accounts css class\r\n    and belong to the ownerBand */\r\n    let userAccountColumnCount = fileStructure1 === FORMATTED_DATA ?\r\n      allColumns1.length : 1;\r\n\r\n    /* Assign the columns belonging to the user to one owner band and CSS class, and the columns belonging to\r\n    their partner's accounts into another owner band and CSS class */\r\n    for (let i = COLUMN_OFFSET; i < columns.length - 1; i++) {\r\n      if (resColumns[i - COLUMN_OFFSET] === columns[i].caption && i < userAccountColumnCount + COLUMN_OFFSET) {\r\n        columns[i].ownerBand = columns.length - 2;\r\n        columns[i].cssClass = 'my-accounts';\r\n      } else if (resColumns[i - COLUMN_OFFSET] === columns[i].caption) {\r\n        columns[i].ownerBand = columns.length - 1;\r\n        columns[i].cssClass = 'their-accounts';\r\n      }\r\n    }\r\n  }\r\n\r\n  const calculateGroupCell = (options: any) => {\r\n    let column = options.column;\r\n    let displayValue: string = options.value.split(\";\")[1];\r\n    return (\r\n        <div>{column.caption + \": \" + displayValue}</div>\r\n    );\r\n  }\r\n\r\n  const calculateAccuracyLevel = (rowData: any) => {\r\n    switch (rowData.accuracy) {\r\n      case 1:\r\n        // if (comparisonColumns1.length > 1 && comparisonColumns2.length > 1) {\r\n        return `aaa;Low`;\r\n      case 2:\r\n        return `bbb;Medium`;\r\n      case 3:\r\n        return `ccc;High`;\r\n    }\r\n  }\r\n\r\n  const handleColumnChooserOpen = () => {\r\n    dataGridRef.current.instance.showColumnChooser();\r\n  }\r\n\r\n  const renderColChooserBtn = () => {\r\n    return (\r\n      <Button variant=\"outlined\" onClick={handleColumnChooserOpen}>\r\n        edit view\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  const renderLabel = () => {\r\n    return <div className=\"toolbar-label\"><b>{duplicatesData.length} Matches</b></div>;\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      sx={{ height: '100%', margin: '3rem 0 4.5rem 0', padding: '0 1rem' }}\r\n    >\r\n      <Grid\r\n        item\r\n        container\r\n        xs={12}\r\n        md={12}\r\n        p={0}\r\n        sx={{ height: '100%', width: '100%' }}\r\n        direction=\"column\"\r\n        justifyContent=\"start\"\r\n        alignItems=\"center\"\r\n      >\r\n        <DataGrid\r\n          id=\"gridContainer\"\r\n          dataSource={duplicatesData}\r\n          customizeColumns={customizeColumns}\r\n          showColumnLines={true}\r\n          allowColumnReordering={true}\r\n          allowColumnResizing={true}\r\n          columnAutoWidth={true}\r\n          showBorders={true}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          ref={dataGridRef}\r\n        >\r\n          <ColumnChooser\r\n            mode=\"select\"\r\n            title=\"Edit View\"\r\n            enabled={true}\r\n            allowSearch={true}\r\n            height={500}\r\n            width={350}\r\n          />\r\n          <Column\r\n            dataField=\"accuracy\"\r\n            groupIndex={0}\r\n            name=\"Accuracy Level\"\r\n            calculateGroupValue={calculateAccuracyLevel}\r\n            groupCellRender={calculateGroupCell}\r\n            showInColumnChooser={false}\r\n            sortOrder=\"desc\"\r\n            visible={false}\r\n          />\r\n          {duplicatesData && duplicatesData[0] && Array.from(Object.keys(duplicatesData[0]))\r\n            .map((colName: string, colIndex: number) => (\r\n              <Column\r\n                dataField={colName}\r\n                key={colIndex}\r\n                caption={colName.replace('--2', '')}\r\n                visible={colIndex !== 0}\r\n                showInColumnChooser={colName !== 'accuracy' ? true : false}\r\n              />\r\n            ))}\r\n          <Paging defaultPageSize={25} />\r\n          <Pager\r\n            visible={true}\r\n            displayMode={\"full\"}\r\n            showPageSizeSelector={false}\r\n            showInfo={true}\r\n            showNavigationButtons={true}\r\n          />\r\n          <Toolbar>\r\n            <Item location=\"center\"\r\n              locateInMenu=\"never\"\r\n              render={renderLabel}\r\n            />\r\n            <Item name=\"columnChooserButton\" component={renderColChooserBtn}></Item>\r\n          </Toolbar>\r\n        </DataGrid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default DuplicatesTable;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DuplicatesTable from '../../components/duplicates-table';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  comparisonColumns1: Array<string>;\r\n  comparisonColumns2: Array<string>;\r\n  allColumns1: Array<string>;\r\n  allColumns2: Array<string>;\r\n  fileStructure1: string;\r\n  fileStructure2: string;\r\n  partnerName: string;\r\n  partnerCompany: string;\r\n  user: UserState;\r\n}\r\n\r\nconst DuplicatesTableContainer = ({\r\n  duplicatesData,\r\n  comparisonColumns1,\r\n  comparisonColumns2,\r\n  allColumns1,\r\n  allColumns2,\r\n  fileStructure1,\r\n  fileStructure2,\r\n  partnerName,\r\n  partnerCompany,\r\n  user\r\n}: Props) => {\r\n  return (\r\n    <DuplicatesTable\r\n      duplicatesData={duplicatesData}\r\n      comparisonColumns1={comparisonColumns1}\r\n      comparisonColumns2={comparisonColumns2}\r\n      allColumns1={allColumns1}\r\n      allColumns2={allColumns2}\r\n      fileStructure1={fileStructure1}\r\n      fileStructure2={fileStructure2}\r\n      partnerName={partnerName}\r\n      partnerCompany={partnerCompany}\r\n      user={user}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  duplicatesData: state.document.duplicatesData,\r\n  comparisonColumns1: state.document.comparisonColumns1,\r\n  comparisonColumns2: state.document.comparisonColumns2,\r\n  allColumns1: state.document.selectedDocument1.allColumns,\r\n  allColumns2: state.document.selectedDocument2.allColumns,\r\n  fileStructure1: state.document.fileStructure1,\r\n  fileStructure2: state.document.fileStructure2,\r\n  partnerName: state.document.partnerName,\r\n  partnerCompany: state.document.partnerCompany,\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(DuplicatesTableContainer);","import React, { useRef } from 'react';\r\nimport {\r\n  Grid,\r\n  TextField,\r\n  Fab\r\n} from '@mui/material';\r\nimport { Download, ContentCopy } from '@mui/icons-material';\r\nimport { downloadSpreadsheetFromJSON } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  template: string;\r\n  handleTemplateChange: any;\r\n  handleCopyEmailTemplate: any;\r\n}\r\n\r\nconst EmailTemplate = ({\r\n  duplicatesData,\r\n  template,\r\n  handleTemplateChange,\r\n  handleCopyEmailTemplate\r\n}: Props) => {\r\n  const textAreaRef = useRef<any>(null);\r\n\r\n  const handleResultsDownload = () => {\r\n    downloadSpreadsheetFromJSON(duplicatesData);\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={2}\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      sx={{ height: '100%', width: '100%', marginTop: '3.5rem' }}\r\n    >\r\n      <Grid\r\n        item\r\n        container\r\n        xs={8}\r\n        sx={{ height: '100%', width: '100%' }}\r\n        direction=\"column\"\r\n        justifyContent=\"start\"\r\n        alignItems=\"center\"\r\n      >\r\n        <TextField\r\n          id=\"email-template-multiline\"\r\n          label=\"Modify and then Copy/Paste this email template\"\r\n          multiline\r\n          ref={textAreaRef}\r\n          rows={9}\r\n          defaultValue={template}\r\n          variant=\"filled\"\r\n          sx={{ width: '100%' }}\r\n          onChange={handleTemplateChange}\r\n        />\r\n        <Fab\r\n          variant=\"extended\"\r\n          aria-label=\"add\"\r\n          sx={{ marginTop: '2.5rem' }}\r\n          onClick={handleCopyEmailTemplate}\r\n        >\r\n          <ContentCopy sx={{ mr: 1 }} />\r\n          Copy Template\r\n        </Fab>\r\n        <Fab\r\n          variant=\"extended\"\r\n          aria-label=\"add\"\r\n          sx={{ marginTop: '2.5rem' }}\r\n          onClick={handleResultsDownload}\r\n        >\r\n          <Download sx={{ mr: 1 }} />\r\n          Download Results\r\n        </Fab>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default EmailTemplate;","export const UPDATE_EMAIL_TEMPLATE = 'UPDATE_EMAIL_TEMPLATE';\r\n\r\nexport const updateEmailTemplate = (updatedTemplate: string) => ({\r\n  type: UPDATE_EMAIL_TEMPLATE,\r\n  payload: updatedTemplate\r\n});","import React, { ChangeEvent } from 'react';\r\nimport EmailTemplate from '../../components/email-template';\r\nimport { connect } from 'react-redux';\r\nimport { updateEmailTemplate } from '../../state/actions/email-template';\r\nimport { showSuccess, showError, hideError, hideSuccess } from '../../state/actions/alert';\r\n\r\ninterface Props {\r\n  duplicatesData: Array<any>;\r\n  template: string;\r\n  updateEmailTemplate: any;\r\n  showSuccess: any;\r\n  hideSuccess: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst EmailTemplateContainer = ({\r\n  duplicatesData,\r\n  template,\r\n  updateEmailTemplate,\r\n  showSuccess,\r\n  hideSuccess,\r\n  showError,\r\n  hideError\r\n}: Props) => {\r\n  const handleTemplateChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    updateEmailTemplate(event.target.value);\r\n  }\r\n\r\n  const handleCopyEmailTemplate = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(template);\r\n      hideError();\r\n      showSuccess('Copied email template');\r\n      setTimeout(() => {\r\n        hideSuccess();\r\n      }, 5000);\r\n    } catch (err) {\r\n      showError('Failed to copy email template');\r\n      setTimeout(() => {\r\n        hideError();\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmailTemplate\r\n      duplicatesData={duplicatesData}\r\n      template={template}\r\n      handleTemplateChange={handleTemplateChange}\r\n      handleCopyEmailTemplate={handleCopyEmailTemplate}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  duplicatesData: state.document.duplicatesData,\r\n  template: state.emailTemplate.template\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  updateEmailTemplate: (value: string) => dispatch(updateEmailTemplate(value)),\r\n  showSuccess: (successMsg: string) => dispatch(showSuccess(successMsg)),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EmailTemplateContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Paper\r\n} from '@mui/material';\r\n\r\ninterface StepperFooterProps {\r\n  steps: Array<string>;\r\n  handleNext: any;\r\n  handleBack: any;\r\n  activeStep: number;\r\n}\r\n\r\nconst StepperFooter = ({\r\n  steps,\r\n  activeStep,\r\n  handleBack,\r\n  handleNext\r\n}: StepperFooterProps) => {\r\n  return (\r\n    <Paper sx={{\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n      zIndex: 1510,\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      padding: '0.75rem'\r\n    }} elevation={3}>\r\n      <Button\r\n        disabled={activeStep === 0}\r\n        onClick={handleBack}\r\n        sx={{ mr: 1 }}\r\n      >\r\n        Back\r\n      </Button>\r\n      <Box sx={{ flex: '1 1 auto' }} />\r\n      <Button\r\n        disabled={activeStep === steps.length - 1}\r\n        onClick={handleNext}\r\n      >\r\n        Next\r\n      </Button>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default StepperFooter;","import React from 'react';\r\nimport StepperFooter from '../../components/stepper-footer';\r\nimport { connect } from 'react-redux';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\n\r\ninterface Props {\r\n  steps: Array<string>;\r\n  activeStep: number;\r\n  changeStep: any;\r\n}\r\n\r\nconst StepperFooterContainer = ({ steps, activeStep, changeStep }: Props) => {\r\n  const handleNext = () => {\r\n    changeStep(activeStep += 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    changeStep(activeStep -= 1);\r\n  };\r\n\r\n  return (\r\n    <StepperFooter\r\n      activeStep={activeStep}\r\n      steps={steps}\r\n      handleNext={handleNext}\r\n      handleBack={handleBack}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeStep: (newStep: number) => dispatch(changeStep(newStep))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StepperFooterContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Stepper,\r\n  Step,\r\n  StepButton,\r\n  Container,\r\n} from '@mui/material';\r\n\r\nimport UploadDocumentFormContainer from '../../containers/upload-document-form';\r\nimport DuplicatesTableContainer from '../../containers/duplicates-table';\r\nimport EmailTemplateContainer from '../../containers/email-template';\r\nimport StepperFooterContainer from '../../containers/stepper-footer';\r\n\r\nconst steps: Array<string> = ['Upload document', 'View results', 'Email customers'];\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  changeStep: any;\r\n  user: any;\r\n}\r\n\r\nconst Home = ({ activeStep, changeStep, user }: Props) => {\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', height: '100%', marginTop: '3.5vh' }}>\r\n        <Stepper nonLinear={true} activeStep={activeStep} sx={{ marginLeft: '25%', marginRight: '25%'}}>\r\n          {steps.map((label: string, index: number) => {\r\n            const stepProps: { completed?: boolean } = {};\r\n            const labelProps: {\r\n              optional?: React.ReactNode;\r\n            } = {};\r\n            return (\r\n              <Step key={label} {...stepProps}>\r\n                <StepButton onClick={() => changeStep(index)} {...labelProps}>{label}</StepButton>\r\n              </Step>\r\n            );\r\n          })}\r\n        </Stepper>\r\n        {activeStep === 0 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', paddingBottom: '2rem' }}>\r\n              <UploadDocumentFormContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n        {activeStep === 1 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', width: '100%', maxWidth: '100%' }} maxWidth={false}>\r\n              <DuplicatesTableContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n        {activeStep === 2 &&\r\n          <React.Fragment>\r\n            <Container sx={{ height: '100%', width: '100%' }}>\r\n              <EmailTemplateContainer />\r\n            </Container>\r\n          </React.Fragment>\r\n        }\r\n      </Box>\r\n      <StepperFooterContainer steps={steps} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Home from '../../pages/home';\r\nimport { connect } from 'react-redux';\r\nimport { changeStep } from '../../state/actions/step-progress';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  activeStep: number;\r\n  changeStep: any;\r\n  user: UserState;\r\n}\r\n\r\nconst HomeContainer = ({ activeStep, changeStep, user }: Props) => {\r\n  return (\r\n    <Home activeStep={activeStep} changeStep={changeStep} user={user} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  activeStep: state.stepProgress.step,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  changeStep: (newStep: number) => dispatch(changeStep(newStep))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeContainer);","import React from 'react';\r\nimport { Fab } from '@mui/material';\r\nimport { Payment as PaymentIcon } from '@mui/icons-material';\r\n\r\nconst Payment = () => {\r\n  return (\r\n    <Fab variant=\"extended\" color=\"primary\" type=\"submit\">\r\n      <PaymentIcon sx={{ mr: 1 }} />\r\n      Checkout\r\n    </Fab>\r\n  );\r\n}\r\n\r\nexport default Payment;","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n// import PaymentButton from '../../components/payment-button';\r\nimport Payment from '../payment';\r\n\r\nconst FREE = 'FREE';\r\nconst FREE_DESCRIPTION = 'Free: Sign up now to be able to compare 10 lists';\r\nconst PREMIUM = 'PREMIUM';\r\nconst PREMIUM_DESCRIPTION = 'Premium: You can compare an unlimited amount of lists per month';\r\n// const ENTERPRISE = 'ENTERPRISE';\r\n// const ENTERPRISE_DESCRIPTION = 'Enterprise: Talk to a Salesdap advisor in order to create an account for your organization';\r\n\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst Register = ({ onSubmit }: Props) => {\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    } else if (values.password.length < 8) {\r\n      errors.password = 'Must be 8 characters or more';\r\n    }\r\n  \r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Required';\r\n    } else if (values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = 'Must match password';\r\n    }\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      company: '',\r\n      subscriptionType: FREE\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit, setFieldValue } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password || !!errors.confirmPassword\r\n    || !values.email || !values.password || !values.confirmPassword;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '6.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Register</Typography>\r\n            <form style={{ width: '100%' }} onSubmit={handleSubmit}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={touched.email && !!errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={touched.password && !!errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Confirm Password\"\r\n                name=\"confirmPassword\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.confirmPassword && !!errors.confirmPassword}\r\n                helperText={touched.confirmPassword && !!errors.confirmPassword ? errors.confirmPassword : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.confirmPassword}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"First Name\"\r\n                name=\"firstName\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.firstName}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.lastName}\r\n              />\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Company\"\r\n                name=\"company\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '3rem' }}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.company}\r\n              />\r\n              <FormControl sx={{ marginBottom: '2rem' }}>\r\n                <FormLabel sx={{ marginBottom: '1rem' }}>What type of subscription do you want?</FormLabel>\r\n                <RadioGroup\r\n                  aria-labelledby=\"demo-controlled-radio-buttons-group\"\r\n                  name=\"subscription-radio-buttons-group\"\r\n                  value={values.subscriptionType}\r\n                  onChange={(_, value: string) => setFieldValue('subscriptionType', value)}\r\n                >\r\n                  <FormControlLabel\r\n                    value={FREE}\r\n                    control={<Radio checked={values.subscriptionType === FREE} />}\r\n                    label={FREE_DESCRIPTION}\r\n                    name=\"free\"\r\n                  />\r\n                  <FormControlLabel\r\n                    value={PREMIUM}\r\n                    control={<Radio checked={values.subscriptionType === PREMIUM} />}\r\n                    label={PREMIUM_DESCRIPTION}\r\n                    name=\"premium\"\r\n                  />\r\n                  {/* <FormControlLabel value={ENTERPRISE} control={<Radio />} label=\"Enterprise\" /> */}\r\n                </RadioGroup>\r\n              </FormControl>\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={10}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  {values.subscriptionType === PREMIUM ?\r\n                    <>\r\n                      {/* <PaymentButton\r\n                        disabled={isSubmitButtonDisabled}\r\n                        user={values}\r\n                        handleSubmit={handleSubmit}\r\n                        setIsLoading={setIsLoading}\r\n                      /> */}\r\n                      <Payment\r\n                        // handleSubmit={handleSubmit}\r\n                        // registrationUser={values}\r\n                      />\r\n                    </>\r\n                    :\r\n                    <Fab\r\n                      variant=\"extended\"\r\n                      aria-label=\"add\"\r\n                      sx={{ marginLeft: 'auto', marginRight: 'auto' }}\r\n                      type=\"submit\"\r\n                      disabled={isSubmitButtonDisabled}\r\n                    >\r\n                      sign up\r\n                    </Fab>\r\n                  }\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n            <Typography sx={{ marginTop: '2rem', marginBottom: '3rem' }}>\r\n              Already have an account? <Link className=\"auth-page-link\" to=\"/\">Sign in</Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Register from '../../pages/register';\r\nimport { connect } from 'react-redux';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { FREE, PREMIUM } from '../../state/reducers/user';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  updateRegistrationUser: any;\r\n}\r\n\r\nconst RegisterContainer = ({\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n}: Props) => {\r\n  const history = useHistory();\r\n\r\n  const handleCreateCheckoutSession = (email: string) => {\r\n    return axios.post('/api/v1/create-checkout-session', {\r\n      customerEmail: email\r\n    })\r\n      .then((res) => {\r\n        if (!!res && !!res.data) {\r\n          window.location.href = res.data.url;\r\n        }\r\n      })\r\n      .catch((err: any) => handleRegistrationFailure(err, 'There was a problem with accessing the payments page'));\r\n  }\r\n\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    formData.append('firstname', values.firstName);\r\n    formData.append('lastname', values.lastName);\r\n    formData.append('company', values.company);\r\n    formData.append('subscriptionType', values.subscriptionType);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n    };\r\n\r\n    axios.post('/api/v1/register', formData, config)\r\n      .then(() => {\r\n        if (values.subscriptionType === PREMIUM) {\r\n          handleCreateCheckoutSession(values.email);\r\n        }\r\n        return;\r\n      })\r\n      .then(() => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        if (values.subscriptionType === FREE) {\r\n          history.push('/profile');\r\n        }\r\n      })\r\n      .catch((err: any) => handleRegistrationFailure(err, 'Registration failed'));\r\n  }\r\n\r\n  const handleRegistrationFailure = (err: any, errorMessage: string) => {\r\n    console.log('err', err);\r\n    setIsLoading(false);\r\n    showError(errorMessage);\r\n    setTimeout(() => {\r\n      hideError();\r\n    }, 5000);\r\n  }\r\n\r\n  return (\r\n    <Register onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(RegisterContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Fab,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport { Close } from '@mui/icons-material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onClose: any;\r\n  onSubmit: any;\r\n}\r\n\r\nconst EmailCapture = ({ onClose, onSubmit }: Props) => {\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: ''\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', height: '100%', padding: '0 0 3rem 0' }}>\r\n      <AppBar sx={{ position: 'relative', marginBottom: '3rem' }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={onClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        sx={{ height: '100%', width: '100%' }}\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={10}\r\n          p={0}\r\n          sx={{ height: '100%' }}\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <form onSubmit={handleSubmit}>\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Join the waitlist for Salesdap</Typography>\r\n            <TextField\r\n              label=\"email address\"\r\n              variant=\"standard\"\r\n              name=\"email\"\r\n              sx={{ width: '100%' }}\r\n              error={touched.email && !!errors.email}\r\n              helperText={errors.email ? errors.email : null}\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n            />\r\n            <Fab\r\n              variant=\"extended\"\r\n              aria-label=\"add\"\r\n              sx={{ marginTop: '2.5rem' }}\r\n              type=\"submit\"\r\n            >\r\n              submit\r\n            </Fab>\r\n          </form>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default EmailCapture;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { showError, hideError, showSuccess, hideSuccess } from '../../state/actions/alert';\r\nimport EmailCapture from '../../pages/email-capture';\r\n\r\ninterface Props {\r\n  onClose: any;\r\n  showError: any;\r\n  hideError: any;\r\n  showSuccess: any;\r\n  hideSuccess: any;\r\n  setIsLoading: any;\r\n}\r\n\r\nconst EmailCaptureContainer = ({\r\n  onClose,\r\n  showError,\r\n  hideError,\r\n  showSuccess,\r\n  hideSuccess,\r\n  setIsLoading\r\n}: Props) => {\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n\r\n    axios.post('/api/v1/email', formData, config)\r\n      .then(() => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        onClose();\r\n        showSuccess('Successfully registered to waitlist!');\r\n        setTimeout(() => {\r\n          hideSuccess();\r\n        }, 5000);\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('Waitlist registration failed. Please try again.');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 5000)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <EmailCapture onSubmit={onSubmit} onClose={onClose} />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  showSuccess: (successMsg: string) => dispatch(showSuccess(successMsg)),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(EmailCaptureContainer);","import React, { useState } from 'react';\r\nimport EmailCaptureContainer from '../../containers/email-capture';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Dialog\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst Login = ({ onSubmit }: Props) => {\r\n  const [isEmailCaptureModalOpen, setIsEmailCaptureModalOpen] = useState(true);\r\n\r\n  const handleClose = () => {\r\n    setIsEmailCaptureModalOpen(false);\r\n  }\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    }\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: ''\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password ||\r\n    !values.email || !values.password;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '6.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Login</Typography>\r\n            <form onSubmit={handleSubmit} style={{ width: '100%' }}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={touched.email && !!errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={touched.password && !!errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={6}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ marginTop: '2.5rem', marginLeft: 'auto', marginRight: 'auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Submit\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n            <Typography sx={{ marginTop: '2rem' }}>\r\n              Don't have an account?  <Link className=\"auth-page-link\" to=\"/register\">Sign up now!</Link>\r\n            </Typography>\r\n            <Typography sx={{ marginTop: '0.5rem', marginBottom: '3rem' }}>\r\n              Forgot your password?  <Link className=\"auth-page-link\" to=\"/forgot-password\">Reset your password</Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      <Dialog open={isEmailCaptureModalOpen} onClose={handleClose}>\r\n        <EmailCaptureContainer onClose={handleClose} />\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Login from '../../pages/login';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { setAccessToken } from '../../utils/access-token.utils';\r\n\r\naxios.defaults.withCredentials = true; // this fixed the cookie issue\r\n\r\ninterface Props {\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst LoginContainer = ({\r\n  showError,\r\n  hideError,\r\n  setIsLoading,\r\n  updateUser\r\n}: Props) => {\r\n  const history = useHistory();\r\n\r\n  const handleLoginSuccess = (res: any) => {\r\n    const { token, email } = res.data;\r\n    setAccessToken(token);\r\n    hideError();\r\n    setIsLoading(false);\r\n    if (res.data && email) {\r\n      updateUser(res.data);\r\n      history.push('/home');\r\n    }\r\n  }\r\n\r\n  const handleLoginFailure = (err: any) => {\r\n    console.log('err', err);\r\n    setIsLoading(false);\r\n    showError('Wrong email or password');\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/refresh_token', null, { withCredentials: true })\r\n      .then(handleLoginSuccess)\r\n      .catch(handleLoginFailure);\r\n  }, []);\r\n\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      // withCredentials: true\r\n    };\r\n\r\n    axios.post('/api/v1/login', formData, config)\r\n      .then(handleLoginSuccess)\r\n      .catch(handleLoginFailure);\r\n  };\r\n\r\n  return (\r\n    <Login onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginContainer);","import React from 'react';\r\nimport { Typography, Chip } from '@mui/material';\r\nimport { Attachment } from '@mui/icons-material';\r\n\r\ninterface Props {\r\n  handlePinnedFileClick: any;\r\n  fileName?: string;\r\n}\r\n\r\nconst PinnedFileChip = ({ fileName, handlePinnedFileClick }: Props) => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"subtitle1\">Pinned File:</Typography>\r\n      <Chip onClick={handlePinnedFileClick} icon={<Attachment />} label={fileName} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PinnedFileChip;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PinnedFileChip from '../../components/pinned-file-chip';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { createFileLink, getPinnedFile } from '../../utils/spreadsheet.utils';\r\n\r\ninterface Props {\r\n  showError: any;\r\n  fileName?: string;\r\n  fileId?: string;\r\n}\r\n\r\nconst PinnedFileChipContainer = ({ fileName, fileId, showError }: Props) => {\r\n  const handlePinnedFileClick = async () => {\r\n    if (fileId && fileName) {\r\n      try {\r\n        const pinnedFileData = await getPinnedFile(fileId);\r\n        createFileLink(pinnedFileData.data, fileName);\r\n      } catch (err: any) {\r\n        console.log('err', err);\r\n        showError('Failed to download pinned file.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PinnedFileChip fileName={fileName} handlePinnedFileClick={handlePinnedFileClick} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(PinnedFileChipContainer);","import React, { useEffect, useRef, useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { Chip, Fab, Grid } from '@mui/material';\r\nimport { Attachment, Upload } from '@mui/icons-material';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PinnedFileChipContainer from '../../containers/pinned-file-chip';\r\n\r\ninterface Props {\r\n  isOpen: boolean;\r\n  handleClose: any;\r\n  handleFilePinning: any;\r\n  validateFileSelection: any;\r\n  existingPinnedFile: any;\r\n}\r\n\r\nconst EditPinnedFileModal = ({\r\n  isOpen,\r\n  handleClose,\r\n  handleFilePinning,\r\n  validateFileSelection,\r\n  existingPinnedFile\r\n}: Props) => {\r\n  const [pinnedFileLabel, setPinnedFileLabel] = useState('');\r\n  const [pinnedFileName, setPinnedFileName] = useState();\r\n  const [pinnedFile, setPinnedFile] = useState();\r\n  const inputFileRef: any = useRef(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    if (existingPinnedFile) {\r\n      const { file_label, file_name } = existingPinnedFile;\r\n      setPinnedFileLabel(file_label);\r\n      setPinnedFileName(file_name);\r\n    }\r\n  }, [existingPinnedFile])\r\n\r\n  const handleFileSelectionBtnClick = () => {\r\n    /*Collecting node-element and performing click*/\r\n    if (inputFileRef&& inputFileRef.current) {\r\n      inputFileRef.current.click();\r\n    }\r\n  };\r\n\r\n  const handlePinnedFileLabel = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPinnedFileLabel(e.target.value);\r\n  }\r\n\r\n  const handleFileSelection = (event: any) => {\r\n    validateFileSelection(event);\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    if (document && document.name) {\r\n      setPinnedFileName(document.name);\r\n      setPinnedFile(document);\r\n    }\r\n  }\r\n\r\n  const savePinnedFile = () => {\r\n    handleFilePinning(\r\n      pinnedFile,\r\n      pinnedFileLabel,\r\n      existingPinnedFile ? existingPinnedFile.pinned_file_id : null);\r\n    handleClose();\r\n  }\r\n\r\n  const saveAndLeave = () => {\r\n    savePinnedFile();\r\n    history.push('/home');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onClose={handleClose}>\r\n        <DialogTitle>Add a Pinned File</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText sx={{ marginBottom: '2rem' }}>\r\n            To save time on future account list comparisons, pin a file that you will regularly be\r\n            comparing with your partner reps' lists.\r\n          </DialogContentText>\r\n          <Grid\r\n            item\r\n            container\r\n            xs={12}\r\n            p={1}\r\n            direction=\"column\"\r\n            justifyContent=\"start\"\r\n            alignItems=\"start\"\r\n          >\r\n            <TextField\r\n              id=\"standard-basic\"\r\n              label=\"Pinned file label\"\r\n              name=\"pinnedFileLabel\"\r\n              variant=\"standard\"\r\n              sx={{ width: '100%', marginBottom: '2rem' }}\r\n              onChange={handlePinnedFileLabel}\r\n              value={pinnedFileLabel}\r\n            />\r\n            <PinnedFileChipContainer\r\n              fileName={pinnedFileName}\r\n              fileId={existingPinnedFile ? existingPinnedFile.pinned_file_id : ''}\r\n            />\r\n            <Fab\r\n              variant=\"extended\"\r\n              aria-label=\"add\"\r\n              sx={{ minWidth: '208px', marginTop: '2rem' }}\r\n              onClick={handleFileSelectionBtnClick}\r\n            >\r\n              <Upload sx={{ mr: 1 }} />\r\n              Select Pinned File\r\n            </Fab>\r\n            <input\r\n              type=\"file\"\r\n              ref={inputFileRef}\r\n              className=\"file-input\"\r\n              onChange={handleFileSelection}\r\n              name=\"sales_file\"\r\n            />\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button onClick={savePinnedFile}>Save</Button>\r\n          <Button onClick={saveAndLeave}>Save & Leave Profile</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditPinnedFileModal;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  createFileLink,\r\n  getPinnedFile\r\n} from '../../utils/spreadsheet.utils';\r\nimport { connect } from 'react-redux';\r\nimport { pinFileSuccess } from '../../state/actions/document';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { checkIsValidFileType } from '../../utils/validate-file-type';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport EditPinnedFileModal from '../../components/edit-pinned-file-modal';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  pinFileSuccess: any;\r\n  isOpen: boolean;\r\n  handleClose: any;\r\n  existingPinnedFile: any;\r\n}\r\n\r\nconst EditPinnedFileModalContainer = ({\r\n  user,\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  pinFileSuccess,\r\n  isOpen,\r\n  handleClose,\r\n  existingPinnedFile\r\n}: Props) => {\r\n\r\n  // const handlePinnedFileClick = async () => {\r\n  //   try {\r\n  //     setIsLoading(true);\r\n  //     const pinnedFileData = await getPinnedFile(user.pinnedFileId);\r\n  //     setIsLoading(false);\r\n  //     createFileLink(pinnedFileData.data, user.pinnedFileName);\r\n  //   } catch (err: any) {\r\n  //     handleProfileActionFailure(err, 'Failed to download pinned file');\r\n  //   }\r\n  // };\r\n\r\n  const validateFileSelection = (event: any) => {\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    const isValidDocType: boolean = document && document.name ?\r\n      checkIsValidFileType(document.name) : false;\r\n\r\n    if (isValidDocType) {\r\n      hideError();\r\n    } else {\r\n      showError('Invalid file type. Only pin .xls, .xlsx, or .csv');\r\n    }\r\n  };\r\n\r\n  const handleFilePinning = (file: any, fileLabel: string, pinned_file_id?: string) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', user.email);\r\n    if (file && file.name) {\r\n      formData.append('sales_file', file, file.name);\r\n    }\r\n    if (fileLabel) {\r\n      formData.append('file_label', fileLabel);\r\n    }\r\n    if (pinned_file_id) {\r\n      formData.append('pinned_file_id', pinned_file_id)\r\n    }\r\n\r\n    axios.post('/api/v1/pinfile', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    })\r\n      .then((res: any) => {\r\n        pinFileSuccess(res.data);\r\n        hideError();\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => handleProfileActionFailure(err, 'Failed to pin file'));\r\n  }\r\n\r\n  const handleProfileActionFailure = (err: any, errorMessage: string) => {\r\n    setIsLoading(false);\r\n    showError(errorMessage);\r\n    setTimeout(() => {\r\n      hideError();\r\n    }, 7500)\r\n  }\r\n\r\n  return (\r\n    <EditPinnedFileModal\r\n      isOpen={isOpen}\r\n      handleClose={handleClose}\r\n      validateFileSelection={validateFileSelection}\r\n      existingPinnedFile={existingPinnedFile}\r\n      handleFilePinning={handleFilePinning}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  pinFileSuccess: (fileMetadata: any) => dispatch(pinFileSuccess(fileMetadata)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPinnedFileModalContainer);","import React, { useRef, useState } from 'react';\r\nimport { Add, Folder, Edit } from '@mui/icons-material';\r\nimport {\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  Divider,\r\n} from '@mui/material';\r\nimport EditPinnedFileModalContainer from '../../containers/edit-pinned-file-modal';\r\n\r\nconst PinnedFileCard = ({ handlePinnedFileClick, pinnedFiles }: any) => {\r\n\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [selectedExistingPinnedFile, setSelectedExistingPinnedFile] = useState<any>();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedExistingPinnedFile(null);\r\n  };\r\n\r\n  const handleEditButtonClick = (file: any) => {\r\n    setOpen(true);\r\n    setSelectedExistingPinnedFile(file);\r\n  }\r\n\r\n  return (\r\n    <Grid item xs={12} md={6}>\r\n      {isOpen && <EditPinnedFileModalContainer\r\n        isOpen={isOpen}\r\n        handleClose={handleClose}\r\n        existingPinnedFile={selectedExistingPinnedFile}\r\n      />}\r\n      <Typography sx={{ mt: 4, mb: 2 }} variant=\"h6\" component=\"div\">\r\n        Pinned Files <IconButton edge=\"end\" onClick={handleClickOpen}><Add /></IconButton>\r\n      </Typography>\r\n      <div>\r\n        <List dense={true}>\r\n          {pinnedFiles.map((file: any, key: number) => (\r\n            <div key={key}>\r\n              <ListItem\r\n                secondaryAction={\r\n                  <IconButton edge=\"end\" aria-label=\"edit\" onClick={() => handleEditButtonClick(file)}>\r\n                    <Edit />\r\n                  </IconButton>\r\n                }\r\n              >\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <Folder />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                  primary={file.file_label}\r\n                  secondary={file.file_name}\r\n                />\r\n              </ListItem>\r\n              <Divider variant=\"inset\" component=\"li\" />\r\n            </div>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default PinnedFileCard;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PinnedFileCard from '../../components/pinned-file-card';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { createFileLink, getPinnedFile } from '../../utils/spreadsheet.utils';\r\n\r\nconst PinnedFileCardContainer = ({ pinnedFiles, showError }: any) => {\r\n  const handlePinnedFileClick = async (file: any) => {\r\n    try {\r\n      const pinnedFileData = await getPinnedFile(file.id);\r\n      // createFileLink(pinnedFileData.data, pinnedFile.name);\r\n    } catch (err: any) {\r\n      console.log('err', err);\r\n      showError('Failed to download pinned file.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PinnedFileCard handlePinnedFileClick={handlePinnedFileClick} pinnedFiles={pinnedFiles} />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(PinnedFileCardContainer);\r\n","import React from 'react';\r\nimport {\r\n  TextField,\r\n  Button,\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  onSubmit: any;\r\n}\r\n\r\nconst EditProfileForm = ({\r\n  user,\r\n  onSubmit\r\n}: Props) => {\r\n\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n\r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      errors.email = 'Invalid email address';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      firstName: user.firstname,\r\n      lastName: user.lastname,\r\n      email: user.email,\r\n      company: user.company,\r\n    },\r\n    validate,\r\n    onSubmit,\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  return (\r\n    <form style={{ width: '90%' }} onSubmit={(vals: any) => {\r\n      return handleSubmit(vals);\r\n    }}>\r\n      <TextField\r\n        id=\"standard-basic\"\r\n        label=\"First Name\"\r\n        name=\"firstName\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n        onChange={handleChange}\r\n        value={values.firstName}\r\n      />\r\n      <TextField\r\n        id=\"standard-basic\"\r\n        label=\"Last Name\"\r\n        name=\"lastName\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n        onChange={handleChange}\r\n        value={values.lastName}\r\n      />\r\n      <TextField\r\n        id=\"standard-basic\"\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n        error={touched.email && !!errors.email}\r\n        helperText={touched.email && !!errors.email ? errors.email : null}\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        value={values.email}\r\n      />\r\n      <TextField\r\n        id=\"standard-basic\"\r\n        label=\"Company\"\r\n        name=\"company\"\r\n        variant=\"standard\"\r\n        sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n        onChange={handleChange}\r\n        value={values.company}\r\n      />\r\n      <Button type=\"submit\" variant=\"contained\" sx={{ marginBottom: '2.5rem' }}>Save Changes</Button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default EditProfileForm;","import React from 'react';\r\nimport axios from 'axios';\r\nimport EditProfileForm from '../../components/edit-profile-form';\r\nimport { connect } from 'react-redux';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport { updateUser } from '../../state/actions/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst EditProfileFormContainer = ({\r\n  user,\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  updateUser\r\n}: Props) => {\r\n\r\n  const handleProfileActionFailure = (err: any, errorMessage: string) => {\r\n    console.log('err', err);\r\n    setIsLoading(false);\r\n    showError(errorMessage);\r\n    setTimeout(() => {\r\n      hideError();\r\n    }, 7500)\r\n  }\r\n\r\n  const onSubmit = (values: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('firstname', values.firstName);\r\n    formData.append('lastname', values.lastName);\r\n    formData.append('company', values.company);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    };\r\n\r\n    return axios.post('/api/v1/edit-profile', formData, config)\r\n    .then((res: any) => {\r\n      updateUser(res.data);\r\n      hideError();\r\n      setIsLoading(false);\r\n    })\r\n    .catch((err: any) => handleProfileActionFailure(err, 'Profile update failed'));\r\n  }\r\n\r\n  return (\r\n    <EditProfileForm\r\n      user={user}\r\n      onSubmit={onSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProfileFormContainer);","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  Fab,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport { Payment as PaymentIcon, Edit } from '@mui/icons-material';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport EditProfileFormContainer from '../../containers/edit-profile-form';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  handleManageSubscriptionClick: any;\r\n  handleCreateCheckoutSession: any;\r\n}\r\n\r\nconst ProfileInfoCard = ({\r\n  user,\r\n  handleManageSubscriptionClick,\r\n  handleCreateCheckoutSession,\r\n}: Props) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [hasActiveSubscription, setHasActiveSubscription] = useState(false);\r\n\r\n  const handleEditButtonClick = () => {\r\n    setIsEditing(!isEditing);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user && user.activeSubscription === true) {\r\n      setHasActiveSubscription(true);\r\n    }\r\n  }, [user, isEditing])\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ width: '100%', padding: '3rem', margin: '3rem 0 0 0' }}>\r\n      <Typography variant=\"h6\">User Info <IconButton onClick={handleEditButtonClick}><Edit /></IconButton></Typography>\r\n      <Grid\r\n        container\r\n        justifyContent=\"center\"\r\n        sx={{ height: '100%' }}\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={6}\r\n          sx={{ height: '100%', padding: '0 0.5rem' }}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"start\"\r\n        >\r\n          {isEditing ?\r\n            <EditProfileFormContainer /> :\r\n            <>\r\n              <Typography variant=\"subtitle1\" className=\"profile-info-text\">Name: {user.firstname} {user.lastname}</Typography>\r\n              <Typography variant=\"subtitle1\" className=\"profile-info-text\">Email: {user.email}</Typography>\r\n              <Typography variant=\"subtitle1\" className=\"profile-info-text\">Company: {user.company}</Typography>\r\n            </>\r\n          }\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          xs={6}\r\n          sx={{ height: '100%', padding: '0 0.5rem' }}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"start\"\r\n        >\r\n          <Typography variant=\"subtitle1\" className=\"profile-info-text\">Subscription Type: {user.subscriptionType}</Typography>\r\n          <Typography variant=\"subtitle1\" className=\"profile-info-text\">Paid Subscription: {user.activeSubscription ? 'Yes' : 'No'}</Typography>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          xs={12}\r\n          p={0}\r\n          direction=\"column\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"center\"\r\n        >\r\n          {hasActiveSubscription ?\r\n            <Fab\r\n              variant=\"extended\"\r\n              aria-label=\"add\"\r\n              sx={{ marginTop: '0.5rem', minWidth: '208px' }}\r\n              onClick={handleManageSubscriptionClick}\r\n            >\r\n              <PaymentIcon sx={{ mr: 1 }} />\r\n              Manage Subscription\r\n            </Fab> :\r\n            <Fab\r\n              variant=\"extended\"\r\n              aria-label=\"add\"\r\n              sx={{ marginTop: '0.5rem', minWidth: '208px' }}\r\n              onClick={() => handleCreateCheckoutSession(user.email)}\r\n            >\r\n              <PaymentIcon sx={{ mr: 1 }} />\r\n              Upgrade Subscription\r\n            </Fab>\r\n          }\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default ProfileInfoCard;","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  Chip,\r\n  Fab,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport { Attachment, Upload, Payment as PaymentIcon, Edit } from '@mui/icons-material';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport InfoTooltip from '../../components/info-tooltip';\r\nimport EditProfileFormContainer from '../../containers/edit-profile-form';\r\nimport PinnedFileCardContainer from '../../containers/pinned-file-card';\r\nimport EditPinnedFileModal from '../../components/edit-pinned-file-modal';\r\nimport ProfileInfoCard from '../../components/profile-info-card';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  validateFileSelection: any;\r\n  handlePinnedFileClick: any;\r\n  handleManageSubscriptionClick: any;\r\n  handleCreateCheckoutSession: any;\r\n}\r\n\r\nconst Profile = ({\r\n  user,\r\n  handleManageSubscriptionClick,\r\n  handleCreateCheckoutSession,\r\n}: Props) => {\r\n  const inputFileRef: any = useRef(null);\r\n\r\n  const handleFileSelectionBtnClick = () => {\r\n    /*Collecting node-element and performing click*/\r\n    if (inputFileRef&& inputFileRef.current) {\r\n      inputFileRef.current.click();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            // alignItems=\"center\"\r\n          >\r\n            <ProfileInfoCard user={user} handleManageSubscriptionClick={handleManageSubscriptionClick} handleCreateCheckoutSession={handleCreateCheckoutSession} />\r\n            {/* <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Pinned Files <EditPinnedFileModal /></Typography> */}\r\n            <PinnedFileCardContainer pinnedFiles={user.pinnedFiles} />\r\n            {/* <PinnedFileCardContainer pinnedFile={{ label: 'file for Sailpoint', name: 'sailpoint-related sales accounts', id: '34wef3', pinned_filename: 'jr-sailpoint-list' }} /> */}\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Profile from '../../pages/profile';\r\nimport {\r\n  createFileLink,\r\n  getPinnedFile\r\n} from '../../utils/spreadsheet.utils';\r\nimport { connect } from 'react-redux';\r\nimport { pinFileSuccess } from '../../state/actions/document';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { checkIsValidFileType } from '../../utils/validate-file-type';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\nimport { getAccessToken } from '../../utils/access-token.utils';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { setAccessToken } from '../../utils/access-token.utils';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n  pinFileSuccess: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst ProfileContainer = ({\r\n  user,\r\n  setIsLoading,\r\n  showError,\r\n  hideError,\r\n  pinFileSuccess,\r\n  updateUser\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const checkSubscriptionAndRefreshAuth = async () => {\r\n      if (!user || !user.email) {\r\n        setIsLoading(true);\r\n        const query = new URLSearchParams(window.location.search);\r\n        const sessionId: string | null = query.get('http://localhost:3001session_id');\r\n        if (sessionId) {\r\n          await updateCustomerSubscriptionInfo(sessionId);\r\n        }\r\n        await refreshUserAuthStatus();\r\n      }\r\n    };\r\n    checkSubscriptionAndRefreshAuth();\r\n  }, []);\r\n\r\n  const handlePinnedFileClick = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const pinnedFileData = await getPinnedFile(user.pinnedFileId);\r\n      setIsLoading(false);\r\n      createFileLink(pinnedFileData.data, user.pinnedFileName);\r\n    } catch (err: any) {\r\n      handleProfileActionFailure(err, 'Failed to download pinned file');\r\n    }\r\n  };\r\n\r\n  const handleCreateCheckoutSession = (email: string) => {\r\n    return axios.post('/api/v1/create-checkout-session', {\r\n      customerEmail: email, isComingFromProfilePage: true\r\n    })\r\n      .then((res) => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        if (!!res && !!res.data) {\r\n          window.location.href = res.data.url;\r\n        }\r\n      })\r\n      .catch((err: any) => handleProfileActionFailure(err, 'Failed to create payment session'));\r\n  }\r\n\r\n  const handleManageSubscriptionClick = () => {\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/create-portal-session', { email: user.email, isComingFromProfilePage: true })\r\n      .then((res: any) => {\r\n        setIsLoading(false);\r\n        hideError();\r\n        if (!!res && !!res.data) {\r\n          window.location.href = res.data.url;\r\n        }\r\n      })\r\n      .catch((err) => handleProfileActionFailure(err, 'There was a problem with connecting with the subscription portal'));\r\n  }\r\n\r\n  const validateFileSelection = (event: any) => {\r\n    const document: any = event && event.target && event.target.files ?\r\n      event.target.files[0] :\r\n      null;\r\n    const isValidDocType: boolean = document && document.name ?\r\n      checkIsValidFileType(document.name) : false;\r\n\r\n    if (isValidDocType) {\r\n      hideError();\r\n      handleFilePinning(document);\r\n    } else {\r\n      showError('Invalid file type. Only pin .xls, .xlsx, or .csv');\r\n    }\r\n  };\r\n\r\n  const handleFilePinning = (file: any) => {\r\n    setIsLoading(true);\r\n    const formData = new FormData();\r\n    if (\r\n      file &&\r\n      file.name\r\n    ) {\r\n      formData.append(\r\n        'sales_file',\r\n        file,\r\n        file.name\r\n      );\r\n      formData.append(\r\n        'email',\r\n        user.email\r\n      );\r\n    }\r\n    axios.post('/api/v1/pinfile', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${getAccessToken()}`\r\n      }\r\n    })\r\n      .then((res: any) => {\r\n        pinFileSuccess(res.data);\r\n        hideError();\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => handleProfileActionFailure(err, 'Failed to pin file'));\r\n  }\r\n\r\n  const handleProfileActionFailure = (err: any, errorMessage: string) => {\r\n    console.log('err', err);\r\n    setIsLoading(false);\r\n    showError(errorMessage);\r\n    setTimeout(() => {\r\n      hideError();\r\n    }, 7500)\r\n  }\r\n\r\n  const handleProfileLoginSuccess = (res: any) => {\r\n    const { token, email } = res.data;\r\n    setAccessToken(token);\r\n    hideError();\r\n    setIsLoading(false);\r\n\r\n    if (res.data && email) {\r\n      updateUser(res.data);\r\n    }\r\n  }\r\n\r\n  const updateCustomerSubscriptionInfo = (sessionId: string | null) => {\r\n    return axios.post('/api/v1/order-success', { sessionId })\r\n      .catch(() => {\r\n        showError('Problem with user registration');\r\n      });\r\n  }\r\n\r\n  const refreshUserAuthStatus = () => {\r\n    return axios.post('/api/v1/refresh_token', null, { withCredentials: true })\r\n      .then(handleProfileLoginSuccess)\r\n      .catch((err: any) => handleProfileActionFailure(err, 'failed to load profile'));\r\n  }\r\n\r\n  return (\r\n    <Profile\r\n      user={user}\r\n      validateFileSelection={validateFileSelection}\r\n      handlePinnedFileClick={handlePinnedFileClick}\r\n      handleManageSubscriptionClick={handleManageSubscriptionClick}\r\n      handleCreateCheckoutSession={handleCreateCheckoutSession}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n  pinFileSuccess: (fileMetadata: any) => dispatch(pinFileSuccess(fileMetadata)),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst PasswordReset = ({ onSubmit }: Props) => {\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    }\r\n\r\n    if (!values.password) {\r\n      errors.password = 'Required';\r\n    } else if (values.password.length < 8) {\r\n      errors.password = 'Must be 8 characters or more';\r\n    }\r\n  \r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Required';\r\n    } else if (values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = 'Must match password';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !!errors.password || !!errors.confirmPassword\r\n    || !values.email || !values.password || !values.confirmPassword;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '6.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Reset your password</Typography>\r\n            <form onSubmit={handleSubmit}  style={{ width: '100%' }}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={touched.email && !!errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%', marginBottom: '1.5rem' }}\r\n                error={touched.password && !!errors.password}\r\n                helperText={touched.password && !!errors.password ? errors.password : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Confirm Password\"\r\n                name=\"confirmPassword\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                sx={{ width: '100%' }}\r\n                error={touched.confirmPassword && !!errors.confirmPassword}\r\n                helperText={touched.confirmPassword && !!errors.confirmPassword ? errors.confirmPassword : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.confirmPassword}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={8}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ margin: '2.5rem auto 3rem auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Reset Password\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport PasswordReset from '../../pages/password-reset';\r\nimport { connect } from 'react-redux';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst PasswordResetContainer = ({ setIsLoading, showError, hideError }: Props) => {\r\n  const history = useHistory();\r\n  const params: any = useParams();\r\n\r\n  useEffect(() => {\r\n    axios.post('/api/v1/resetpassword', { token: params.token })\r\n      .catch((err) => {\r\n        history.push('/');\r\n      });\r\n  }, [params, history]);\r\n\r\n  const onSubmit = (values: any) => {\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    formData.append('password', values.password);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/updatepassword', formData, config)\r\n      .then(() => {\r\n        hideError();\r\n        setIsLoading(false);\r\n        history.push('/');\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('Password reset failed. Please try again.');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 5000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <PasswordReset onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(PasswordResetContainer);","import React from 'react';\r\nimport {\r\n  Box,\r\n  Fab,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\n\r\ninterface Props {\r\n  onSubmit: any;\r\n}\r\n\r\nconst ForgotPassword = ({ onSubmit }: Props) => {\r\n  const validate = (values: any) => {\r\n    const errors: any = {};\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Required';\r\n    }\r\n  \r\n    return errors;\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n    },\r\n    validate,\r\n    onSubmit\r\n  });\r\n\r\n  const { values, errors, touched, handleBlur, handleChange, handleSubmit } = formik;\r\n\r\n  const isSubmitButtonDisabled = !!errors.email || !values.email;\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '6.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" sx={{ marginBottom: '2rem' }}>Forgot my password</Typography>\r\n            <Typography variant=\"subtitle1\" sx={{ marginBottom: '1.5rem', width: '80%' }}>\r\n              Enter your email, and then you'll receive a verification code at that address. Use that code to reset your password.\r\n            </Typography>\r\n            <form onSubmit={handleSubmit}  style={{ width: '100%' }}>\r\n              <TextField\r\n                required\r\n                id=\"standard-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                variant=\"standard\"\r\n                sx={{ width: '100%' }}\r\n                error={touched.email && !!errors.email}\r\n                helperText={errors.email ? errors.email : null}\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  container\r\n                  xs={12}\r\n                  p={0}\r\n                  direction=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Fab\r\n                    variant=\"extended\"\r\n                    aria-label=\"add\"\r\n                    sx={{ margin: '2.5rem auto 3rem auto' }}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitButtonDisabled}\r\n                  >\r\n                    Send Password Reset Email\r\n                  </Fab>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;","import React from 'react';\r\nimport axios from 'axios';\r\nimport ForgotPassword from '../../pages/forgot-password';\r\nimport { connect } from 'react-redux';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  setIsLoading: any;\r\n  showError: any;\r\n  hideError: any;\r\n}\r\n\r\nconst ForgotPasswordContainer = ({ setIsLoading, showError, hideError }: Props) => {\r\n  const onSubmit = (values: any) => {\r\n    const formData = new FormData();\r\n    formData.append('email', values.email);\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    };\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/forgotpassword', formData, config)\r\n      .then(() => {\r\n        setIsLoading(false);\r\n        hideError();\r\n      })\r\n      .catch((err: any) => {\r\n        console.log('err', err);\r\n        setIsLoading(false);\r\n        showError('Wrong email or password');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <ForgotPassword onSubmit={onSubmit} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ForgotPasswordContainer);","import React from 'react';\r\nimport { Route, Redirect, useLocation } from 'react-router-dom';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\nconst PrivateRoute = (props: any) => {\r\n  const location = useLocation();\r\n  const { user }: { user: UserState } = props;\r\n\r\n  if (\r\n    !user ||\r\n    !user.email\r\n  ) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/\",\r\n          state: { from: location }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  // if (path === '/home' && (user.subscriptionType !== FREE && !user.activeSubscription)) {\r\n  //   return (\r\n  //     <Redirect\r\n  //       to={{\r\n  //         pathname: \"/profile\",\r\n  //         state: { from: location }\r\n  //       }}\r\n  //     />\r\n  //   );\r\n  // }\r\n\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default PrivateRoute;","import * as React from 'react';\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Button\r\n} from '@mui/material';\r\nimport { Handshake, AccountCircle } from '@mui/icons-material';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserState } from '../../state/reducers/user';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  handleLogout: any;\r\n  hideError: any;\r\n}\r\n\r\nconst NavBar = ({ user, handleLogout, hideError }: Props) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const history = useHistory();\r\n\r\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    hideError();\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleHomeClick = () => {\r\n    hideError();\r\n    history.push('/home');\r\n  }\r\n\r\n  const logoutAndClose = () => {\r\n    handleClose();\r\n    handleLogout();\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n            onClick={handleHomeClick}\r\n          >\r\n            <Handshake />\r\n          </IconButton>\r\n          <Button variant=\"text\" onClick={handleHomeClick}>\r\n            <Typography variant=\"h6\" sx={{ flexGrow: 1, color: 'white' }}>\r\n              Salesdap\r\n            </Typography>\r\n          </Button>\r\n\r\n          {user && user.email && <>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n              sx={{ marginLeft: 'auto' }}\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={handleClose}>\r\n                <Link style={{ color: 'black', textDecoration: 'none' }} to=\"/profile\">Profile</Link>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClose}>\r\n                <Link style={{ color: 'black', textDecoration: 'none' }} to=\"/contact-us\">Contact Us</Link>\r\n              </MenuItem>\r\n              <MenuItem onClick={logoutAndClose}>Logout</MenuItem>\r\n            </Menu>\r\n          </>}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from '../../components/nav-bar';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../state/actions/user';\r\nimport { showError, hideError } from '../../state/actions/alert';\r\nimport { UserState, initialState } from '../../state/reducers/user';\r\nimport { setAccessToken } from '../../utils/access-token.utils';\r\n\r\ninterface Props {\r\n  user: UserState;\r\n  hideError: any;\r\n  updateUser: any;\r\n}\r\n\r\nconst NavBarContainer = ({ user, hideError, updateUser }: Props) => {\r\n  const history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    axios.post('/api/v1/logout')\r\n      .then(() => {\r\n        hideError();\r\n        updateUser({...initialState});\r\n        setAccessToken('');\r\n        history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        showError('Failed to logout');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 5000);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <NavBar user={user} handleLogout={handleLogout} hideError={hideError} />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  updateUser: (user: any) => dispatch(updateUser(user))\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(NavBarContainer);","import React from 'react';\r\nimport { Box, Fab, Grid, Typography } from '@mui/material';\r\nimport { CheckCircle } from '@mui/icons-material';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst SuccessDisplay = ({ handleManageSubscriptionClick }: any) => {\r\n  const history = useHistory();\r\n\r\n  const handleLoginButtonClick = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <Box sx={{ width: '100%', marginTop: '6.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={6}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <div className=\"product Box-root\">\r\n              <CheckCircle />\r\n              <div className=\"description Box-root\" style={{ display: 'inline-block', marginBottom: '3.5rem'}}>\r\n                <Typography variant=\"h4\">Subscribed to Salesdap!</Typography>\r\n              </div>\r\n            </div>\r\n            <Fab variant=\"extended\" id=\"checkout-and-portal-button\" onClick={handleManageSubscriptionClick}>\r\n              Manage your subscription\r\n            </Fab>\r\n            <Fab variant=\"extended\" color='primary' id=\"login-button\" sx={{ marginTop: '1.5rem'}} onClick={handleLoginButtonClick}>\r\n              Get Started\r\n            </Fab>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SuccessDisplay;","import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport SuccessDisplay from '../../pages/payment-success';\r\nimport { connect } from 'react-redux';\r\nimport { hideError, showError } from '../../state/actions/alert';\r\nimport { setIsLoading } from '../../state/actions/loading';\r\n\r\ninterface Props {\r\n  showError: any;\r\n  hideError: any;\r\n  setIsLoading: any;\r\n}\r\n\r\nconst SuccessDisplayContainer = ({\r\n  showError,\r\n  hideError,\r\n  setIsLoading\r\n}: Props) => {\r\n   // Check to see if this is a redirect back from Checkout\r\n   const query = new URLSearchParams(window.location.search);\r\n \r\n   const sessionId = query.get('session_id');\r\n \r\n   useEffect(() => {\r\n    setIsLoading(true);\r\n     axios.post('/api/v1/order-success', { sessionId })\r\n       .then(() => {\r\n         setIsLoading(false);\r\n         hideError();\r\n       })\r\n       .catch(() => {\r\n         setIsLoading(false);\r\n         showError('Problem with user registration');\r\n       });\r\n   }, [])\r\n \r\n  const handleManageSubscriptionClick = () => {\r\n    setIsLoading(true);\r\n    axios.post('/api/v1/create-portal-session', { sessionId })\r\n      .then((res: any) => {\r\n        setIsLoading(false);\r\n        hideError();\r\n        if (!!res && !!res.data) {\r\n          window.location.href = res.data.url;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log('err subscription', err);\r\n        showError('There was a problem with connecting with the subscription portal.');\r\n        setTimeout(() => {\r\n          hideError();\r\n        }, 10000);\r\n      });;\r\n  }\r\n\r\n  return (\r\n    <SuccessDisplay\r\n    handleManageSubscriptionClick={handleManageSubscriptionClick}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  showError: (message: string) => dispatch(showError(message)),\r\n  hideError: () => dispatch(hideError()),\r\n  setIsLoading: (isLoading: boolean) => dispatch(setIsLoading(isLoading)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(SuccessDisplayContainer);","import React from 'react';\r\nimport { Grid, Paper, Typography, Box } from '@mui/material';\r\n\r\nconst ContactUs = () => {\r\n  return (\r\n    <>\r\n      <Box sx={{ width: '100%', marginTop: '3.5vh' }}>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          sx={{ height: '100%' }}\r\n        >\r\n          <Grid\r\n            item\r\n            container\r\n            xs={8}\r\n            p={0}\r\n            sx={{ height: '100%' }}\r\n            direction=\"column\"\r\n            justifyContent=\"start\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Paper elevation={3} sx={{ width: '100%', padding: '3rem 0 3rem 3rem', margin: '3rem auto 3rem auto' }}>\r\n              <Typography variant=\"h5\">Contact Us</Typography>\r\n              <Typography variant=\"body2\">For assistance with issues, send an email to salesdaphelp@gmail.com</Typography>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ContactUs;","import { Grid, Paper, Typography } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst LandingPage = () => {\r\n  return (\r\n    <>\r\n      <Paper elevation={0} sx={{ backgroundColor: '#fff', height: '95vh', padding: '15rem' }}>\r\n        <Typography variant='h4'>Salesdap is the leading digital account planning application for sales teams.</Typography>\r\n        <Typography variant='subtitle1'>The goal is have your sales team focus on selling and not account mapping internally or with partners – ultimately, to build customer relationships.</Typography>\r\n      </Paper>\r\n      <Paper elevation={0} sx={{ backgroundColor: '#cccab5', height: '95vh', padding: '15rem' }}>\r\n        <Typography variant='h4'>Using the Salesdap platform, Account Executives go from spending hours to often weeks on dreaded account mapping to completing it in a matter of minutes.</Typography>\r\n        <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>\r\n          Wouldn’t you prefer to spend your valuable time building customer relationships, actually meeting with your customers, or help build the appropriate solution to solve your customers problems? \r\n        </Typography>\r\n        <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>\r\n          We solve that challenge for you. We accelerate the sales process by removing the obstacle of account mapping and ensure the right people get it in-front of the right customers, at the right time.\r\n        </Typography>\r\n      </Paper>\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Grid\r\n          item\r\n          container\r\n          xs={8}\r\n          p={0}\r\n          sx={{ marginTop: '3rem', marginBottom: '3rem', width: '90%', }}\r\n          direction=\"column\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Typography variant='h4'>Step 1: Upload account lists</Typography>\r\n          <Paper elevation={1} sx={{\r\n            backgroundColor: '#1b5e20',\r\n            height: '60vh',\r\n            padding: '5rem',\r\n            color: '#fff',\r\n            borderRadius: '20px',\r\n            margin: '3rem 0'\r\n          }}>\r\n            <Typography variant='h6' sx={{ margin: '2rem 0'}}>Upload your list and your partner rep's list.</Typography>\r\n            <img src=\"/select file.png\" alt=\"select-file-image\" width=\"70%\" height=\"50%\" />\r\n          </Paper>\r\n          <Paper elevation={1} sx={{\r\n            backgroundColor: '#1b5e20',\r\n            height: '60vh',\r\n            padding: '5rem',\r\n            color: '#fff',\r\n            borderRadius: '20px',\r\n            margin: '3rem 0',\r\n          }}>\r\n            <Typography variant='h6' sx={{ margin: '2rem 0'}}>Select the columns that would be used to find matching values between the lists.</Typography>\r\n            <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>Use the search bar to select columns</Typography>\r\n            <img src=\"/column autocomplete.png\" alt=\"column-autocomplete-image\" width=\"70%\" height=\"10%\" />\r\n            <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>Or use the data table visualizer to pick columns</Typography>\r\n            <img src=\"/column grid.png\" alt=\"column-grid-image\" width=\"70%\" height=\"30%\" />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Typography variant='h4' sx={{ margin: '10rem' }}>Step 2: View your results</Typography>\r\n      <Paper elevation={1} sx={{ backgroundColor: '#1b5e20', height: '55vh', padding: '5rem', margin: '10rem', color: '#fff' }}>\r\n        <Typography variant='h6' sx={{ margin: '2rem 0'}}>See all the matching values.</Typography>\r\n      </Paper>\r\n      <Typography variant='h4'>Step 3: Contact your partner rep</Typography>\r\n      <Paper elevation={1} sx={{ backgroundColor: '#1b5e20', height: '55vh', padding: '5rem', margin: '10rem', color: '#fff' }}>\r\n        <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>Copy and paste our email template</Typography>\r\n        <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>Download a copy of the results</Typography>\r\n        <Typography variant='subtitle1' sx={{ margin: '2rem 0'}}>Contact your partner rep</Typography>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LandingPage;","import HomeContainer from '../../containers/home';\r\nimport RegisterContainer from '../../containers/register';\r\nimport LoginContainer from '../../containers/login';\r\nimport ProfileContainer from '../../containers/profile';\r\nimport PasswordResetContainer from '../../containers/password-reset';\r\nimport ForgotPasswordContainer from '../../containers/forgot-password';\r\nimport PrivateRoute from '../private-route'; // set everything to private after testing\r\nimport NavBarContainer from '../../containers/nav-bar';\r\nimport {\r\n  Alert,\r\n  Backdrop,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { AlertState } from '../../state/reducers/alert';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport Payment from '../../pages/payment';\r\nimport SuccessDisplayContainer from '../../containers/payment-success';\r\nimport ContactUs from '../../pages/contact-us';\r\nimport LandingPage from '../../pages/landing';\r\n\r\ninterface Props {\r\n  alert: AlertState;\r\n  loading: boolean;\r\n  user: UserState;\r\n  handleAlertClose: any;\r\n}\r\n\r\nconst Routes = ({\r\n  alert,\r\n  loading,\r\n  user,\r\n  handleAlertClose,\r\n}: Props) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <main>\r\n        <NavBarContainer user={user} />\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/home\" component={HomeContainer} user={user} />\r\n          <Route exact path=\"/\" component={LoginContainer} />\r\n          <Route exact path=\"/register\" component={RegisterContainer} />\r\n          <Route path=\"/pay\" component={Payment} />\r\n          <Route path=\"/success\" component={SuccessDisplayContainer} />\r\n          <Route path=\"/profile\" component={ProfileContainer} />\r\n          <Route exact path=\"/forgot-password\" component={ForgotPasswordContainer} />\r\n          <Route path=\"/reset-password/:token\" component={PasswordResetContainer} />\r\n          <Route exact path=\"/contact-us\" component={ContactUs} />\r\n          <Route exact path=\"/landing\" component={LandingPage} />\r\n        </Switch>\r\n        {alert.isOpen && <Alert\r\n          variant=\"standard\"\r\n          severity={alert.alertType || \"error\"}\r\n          onClose={handleAlertClose}\r\n          sx={{\r\n            position: 'fixed',\r\n            bottom: '-2%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            zIndex: 1570,\r\n            borderRadius: '10px',\r\n            width: 'fit-content',\r\n            maxWidth: '33%',\r\n            flexWrap: 'nowrap'\r\n          }}\r\n        >\r\n          {alert.message}\r\n        </Alert>}\r\n        <Backdrop open={loading} sx={{ zIndex: 1550 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      </main>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import Routes from '../../components/routes';\r\nimport { connect } from 'react-redux';\r\nimport { AlertState } from '../../state/reducers/alert';\r\nimport { UserState } from '../../state/reducers/user';\r\nimport { hideError, hideSuccess } from '../../state/actions/alert';\r\n\r\ninterface Props {\r\n  alert: AlertState;\r\n  loading: boolean;\r\n  user: UserState;\r\n  hideError: any;\r\n  hideSuccess: any;\r\n}\r\n\r\nconst RoutesContainer = ({\r\n  alert,\r\n  loading,\r\n  user,\r\n  hideError,\r\n  hideSuccess,\r\n}: Props) => {\r\n\r\n  const handleAlertClose = () => {\r\n    if (alert.alertType === 'error') {\r\n      hideError();\r\n    } else if (alert.alertType === 'success') {\r\n      hideSuccess();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Routes\r\n      alert={alert}\r\n      loading={loading}\r\n      user={user}\r\n      handleAlertClose={handleAlertClose}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  alert: state.alert,\r\n  loading: state.loading.isLoading,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  hideError: () => dispatch(hideError()),\r\n  hideSuccess: () => dispatch(hideSuccess()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoutesContainer);\r\n","import {\r\n  UPLOAD_DOCUMENT_SUCCESS,\r\n  SELECT_DOCUMENT,\r\n  CHANGE_COMPARISON_COLUMN,\r\n  SET_FILE_SOURCE,\r\n  SET_COMPARISON_COLUMNS_ERROR,\r\n  SET_ALL_COLUMNS,\r\n  SET_FILE_STRUCTURE,\r\n  CHANGE_UNFORMATTED_DATA,\r\n  FORMATTED_DATA,\r\n  CHANGE_PARTNER_NAME,\r\n  CHANGE_PARTNER_COMPANY,\r\n  SELECT_PINNED_FILE\r\n} from '../../actions/document';\r\nimport { addMessageToErrorList, removeMessageFromErrorList } from '../../../utils/update-comparison-columns';\r\n\r\nexport interface SelectedDocument {\r\n  data: Array<any>;\r\n  name: string;\r\n  allColumns: Array<string>;\r\n  columnChooserGridData: Array<any>;\r\n  fileBlob: any;\r\n}\r\n\r\nexport interface DocumentState {\r\n  duplicatesData: Array<any>;\r\n  selectedDocument1: SelectedDocument;\r\n  selectedDocument2: SelectedDocument;\r\n  selectedPinnedFileId: string;\r\n  comparisonColumns1: Array<string>;\r\n  comparisonColumns2: Array<string>;\r\n  fileSource1: string;\r\n  fileSource2: string;\r\n  comparisonColumns1Error: Array<string>;\r\n  comparisonColumns2Error: Array<string>;\r\n  fileStructure1: string;\r\n  fileStructure2: string;\r\n  unformattedData1: string;\r\n  unformattedData2: string;\r\n  partnerName: string;\r\n  partnerCompany: string;\r\n}\r\n\r\nconst initialState: DocumentState = {\r\n  duplicatesData: [],\r\n  selectedDocument1: {\r\n    data: [],\r\n    name: '',\r\n    allColumns: [],\r\n    columnChooserGridData: [],\r\n    fileBlob: null\r\n  },\r\n  selectedDocument2: {\r\n    data: [],\r\n    name: '',\r\n    allColumns: [],\r\n    columnChooserGridData: [],\r\n    fileBlob: null\r\n  },\r\n  selectedPinnedFileId: '',\r\n  comparisonColumns1: [],\r\n  comparisonColumns2: [],\r\n  fileSource1: 'upload',\r\n  fileSource2: 'upload',\r\n  comparisonColumns1Error: [],\r\n  comparisonColumns2Error: [],\r\n  fileStructure1: FORMATTED_DATA,\r\n  fileStructure2: FORMATTED_DATA,\r\n  unformattedData1: '',\r\n  unformattedData2: '',\r\n  partnerName: '',\r\n  partnerCompany: ''\r\n};\r\n\r\nexport const COMPARISON_COLUMNS_LIMIT: number = 2;\r\nexport const MISMATCHED_COLUMNS_ERR: string = 'The number of selected columns for each file needs to match.';\r\nexport const TOO_MANY_COLUMNS_ERR: string = `Limit of ${COMPARISON_COLUMNS_LIMIT} columns exceeded.`;\r\nexport const REQUIRED_ERR: string = 'At least 1 column is required';\r\n\r\nexport const documentReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case CHANGE_COMPARISON_COLUMN:\r\n      const { payload, index } = action;\r\n      let errorMsg1 = [...state.comparisonColumns1Error];\r\n      let errorMsg2 = [...state.comparisonColumns2Error];\r\n\r\n      if (\r\n        (index === 0 && !!state.comparisonColumns2.length && payload.length !== state.comparisonColumns2.length) ||\r\n        (index === 1 && !!state.comparisonColumns1.length && payload.length !== state.comparisonColumns1.length)\r\n      ) {\r\n        addMessageToErrorList(errorMsg1, MISMATCHED_COLUMNS_ERR);\r\n        addMessageToErrorList(errorMsg2, MISMATCHED_COLUMNS_ERR);\r\n      } else if (\r\n        (index === 0 && payload.length === state.comparisonColumns2.length) ||\r\n        (index === 1 && payload.length === state.comparisonColumns1.length)\r\n      ) {\r\n        removeMessageFromErrorList(errorMsg1, MISMATCHED_COLUMNS_ERR);\r\n        removeMessageFromErrorList(errorMsg2, MISMATCHED_COLUMNS_ERR);\r\n      }\r\n      if (index === 0) {\r\n        if (payload.length > COMPARISON_COLUMNS_LIMIT) {\r\n          addMessageToErrorList(errorMsg1, TOO_MANY_COLUMNS_ERR);\r\n        } else {\r\n          removeMessageFromErrorList(errorMsg1, TOO_MANY_COLUMNS_ERR);\r\n        }\r\n        if (payload.length === 0) {\r\n          addMessageToErrorList(errorMsg1, REQUIRED_ERR);\r\n        } else {\r\n          removeMessageFromErrorList(errorMsg1, REQUIRED_ERR);\r\n        }\r\n      } else if (index === 1) {\r\n        if (payload.length > COMPARISON_COLUMNS_LIMIT) {\r\n          addMessageToErrorList(errorMsg2, TOO_MANY_COLUMNS_ERR);\r\n        } else {\r\n          removeMessageFromErrorList(errorMsg2, TOO_MANY_COLUMNS_ERR);\r\n        }\r\n        if (payload.length === 0) {\r\n          addMessageToErrorList(errorMsg2, REQUIRED_ERR);\r\n        } else {\r\n          removeMessageFromErrorList(errorMsg2, REQUIRED_ERR);\r\n        }\r\n      }\r\n\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          comparisonColumns1: action.payload,\r\n          comparisonColumns1Error: errorMsg1,\r\n          comparisonColumns2Error: errorMsg2\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          comparisonColumns2: action.payload,\r\n          comparisonColumns1Error: errorMsg1,\r\n          comparisonColumns2Error: errorMsg2\r\n        };\r\n      }\r\n    case SET_COMPARISON_COLUMNS_ERROR:\r\n      const errorMsg = action.index === 0 ? [...state.comparisonColumns1Error] : [...state.comparisonColumns2Error];\r\n      if (action.payload.length === 0) {\r\n        addMessageToErrorList(errorMsg, REQUIRED_ERR);\r\n      }\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          comparisonColumns1Error: errorMsg\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          comparisonColumns2Error: errorMsg\r\n        }\r\n      }\r\n    case SELECT_DOCUMENT:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          comparisonColumns1: [],\r\n          selectedDocument1: {\r\n            data: action.payload,\r\n            name: action.name,\r\n            columnChooserGridData: action.columnChooserGridData,\r\n            allColumns: [],\r\n            fileBlob: action.fileBlob\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          comparisonColumns2: [],\r\n          selectedDocument2: {\r\n            data: action.payload,\r\n            name: action.name,\r\n            columnChooserGridData: action.columnChooserGridData,\r\n            allColumns: [],\r\n            fileBlob: action.fileBlob\r\n          }\r\n        };\r\n      }\r\n    case SET_ALL_COLUMNS:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          selectedDocument1: {\r\n            ...state.selectedDocument1,\r\n            allColumns: action.payload\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          selectedDocument2: {\r\n            ...state.selectedDocument2,\r\n            allColumns: action.payload\r\n          }\r\n        };\r\n      }\r\n    case SET_FILE_SOURCE:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          fileSource1: action.payload\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          fileSource2: action.payload\r\n        };\r\n      }\r\n    case SET_FILE_STRUCTURE:\r\n      if (action.index === 0) {\r\n        if (action.payload === FORMATTED_DATA) {\r\n          return {\r\n            ...state,\r\n            fileStructure1: action.payload,\r\n            unformattedData1: '' \r\n          };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            fileStructure1: action.payload,\r\n            comparisonColumns1: [],\r\n            selectedDocument1: { ...initialState.selectedDocument1 }\r\n          }\r\n        }\r\n      } else {\r\n        if (action.payload === FORMATTED_DATA) {\r\n          return {\r\n            ...state,\r\n            fileStructure2: action.payload,\r\n            unformattedData2: '' \r\n          };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            fileStructure2: action.payload,\r\n            comparisonColumns2: [],\r\n            selectedDocument2: { ...initialState.selectedDocument2 }\r\n          }\r\n        }\r\n      }\r\n    case CHANGE_UNFORMATTED_DATA:\r\n      if (action.index === 0) {\r\n        return {\r\n          ...state,\r\n          unformattedData1: action.payload\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          unformattedData2: action.payload\r\n        };\r\n      }\r\n    case UPLOAD_DOCUMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        duplicatesData: action.payload\r\n      };\r\n    case CHANGE_PARTNER_NAME:\r\n      return {\r\n        ...state,\r\n        partnerName: action.payload\r\n      }\r\n    case CHANGE_PARTNER_COMPANY:\r\n      return {\r\n        ...state,\r\n        partnerCompany: action.payload\r\n      }\r\n    case SELECT_PINNED_FILE:\r\n      return {\r\n        ...state,\r\n        selectedPinnedFileId: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { CHANGE_STEP } from '../../actions/step-progress';\r\n\r\ninterface StepProgressState {\r\n  step: number;\r\n}\r\n\r\nconst initialState: StepProgressState = {\r\n  step: 0\r\n}\r\n\r\nexport const stepProgressReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case CHANGE_STEP:\r\n      return {\r\n        ...state,\r\n        step: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { UPDATE_EMAIL_TEMPLATE } from '../../actions/email-template';\r\n\r\nconst EMAIL_DEFAULT_TEXT = `[insert name],\r\n\r\nThanks for sending over your account list.\r\n\r\nAttached you’ll find a list that maps both our account teams to one another. \r\n\r\nRegards,\r\n\r\n[insert your signature]\r\n`;\r\n\r\nconst initialState = {\r\n  template: EMAIL_DEFAULT_TEXT\r\n};\r\n\r\nexport const emailTemplateReducer = (state = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case UPDATE_EMAIL_TEMPLATE:\r\n      return { ...state, template: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SHOW_ERROR, HIDE_ERROR, SHOW_SUCCESS, HIDE_SUCCESS } from '../../actions/alert';\r\nimport { CHANGE_STEP } from '../../actions/step-progress';\r\n\r\nexport interface AlertState {\r\n  isOpen: boolean;\r\n  alertType: any;\r\n  message: string;\r\n};\r\n\r\nconst initialState = {\r\n  isOpen: false,\r\n  alertType: '',\r\n  message: ''\r\n}\r\n\r\nexport const alertReducer = (state: AlertState = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case SHOW_ERROR:\r\n      return {\r\n        ...state,\r\n        isOpen: true,\r\n        alertType: 'error',\r\n        message: action.payload\r\n      };\r\n    case HIDE_ERROR:\r\n    case CHANGE_STEP:\r\n      return {\r\n        ...state,\r\n        isOpen: false,\r\n        alertType: '',\r\n        message: ''\r\n      };\r\n    case SHOW_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isOpen: true,\r\n        alertType: 'success',\r\n        message: action.payload\r\n      };\r\n    case HIDE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isOpen: false,\r\n        alertType: '',\r\n        message: ''\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_IS_LOADING } from '../../actions/loading';\r\n\r\nexport interface LoadingState {\r\n  isLoading: boolean;\r\n};\r\n\r\nconst initialState = {\r\n  isLoading: false\r\n}\r\n\r\nexport const loadingReducer = (state: LoadingState = initialState, action: any) => {\r\n  switch(action.type) {\r\n    case SET_IS_LOADING:\r\n      return { ...state, isLoading: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { documentReducer } from './document';\r\nimport { stepProgressReducer } from './step-progress';\r\nimport { userReducer } from './user';\r\nimport { emailTemplateReducer } from './email-template';\r\nimport { alertReducer } from './alert';\r\nimport { loadingReducer } from './loading';\r\n\r\nexport const rootReducer = combineReducers({\r\n  stepProgress: stepProgressReducer,\r\n  document: documentReducer,\r\n  user: userReducer,\r\n  emailTemplate: emailTemplateReducer,\r\n  alert: alertReducer,\r\n  loading: loadingReducer\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport logger from 'redux-logger';\r\nimport RoutesContainer from './containers/routes';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { rootReducer } from './state/reducers';\r\nimport 'devextreme/dist/css/dx.material.blue.light.css';\r\nimport './index.css';\r\nimport './App.css';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(logger));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <RoutesContainer />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}